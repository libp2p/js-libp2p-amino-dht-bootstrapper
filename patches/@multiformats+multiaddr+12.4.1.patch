diff --git a/node_modules/@multiformats/multiaddr/dist/index.min.js b/node_modules/@multiformats/multiaddr/dist/index.min.js
index 2300506..4f0fd27 100644
--- a/node_modules/@multiformats/multiaddr/dist/index.min.js
+++ b/node_modules/@multiformats/multiaddr/dist/index.min.js
@@ -1,4 +1,4 @@
 (function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.MultiformatsMultiaddr = factory()}(typeof self !== 'undefined' ? self : this, function () {
-"use strict";var MultiformatsMultiaddr=(()=>{var ve=Object.defineProperty;var Qt=Object.getOwnPropertyDescriptor;var Ht=Object.getOwnPropertyNames;var Kt=Object.prototype.hasOwnProperty;var b=(r,e)=>{for(var t in e)ve(r,t,{get:e[t],enumerable:!0})},Zt=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ht(e))!Kt.call(r,o)&&o!==t&&ve(r,o,{get:()=>e[o],enumerable:!(n=Qt(e,o))||n.enumerable});return r};var Yt=r=>Zt(ve({},"__esModule",{value:!0}),r);var Ln={};b(Ln,{MultiaddrFilter:()=>ye,fromNodeAddress:()=>Mn,fromStringTuples:()=>$n,fromTuples:()=>Wt,isMultiaddr:()=>be,isName:()=>Bn,multiaddr:()=>q,protocols:()=>p,resolvers:()=>at});function G(r=0){return new Uint8Array(r)}var _t=Math.pow(2,7),er=Math.pow(2,14),tr=Math.pow(2,21),Ae=Math.pow(2,28),Ie=Math.pow(2,35),Ee=Math.pow(2,42),Se=Math.pow(2,49),d=128,h=127;function P(r){if(r<_t)return 1;if(r<er)return 2;if(r<tr)return 3;if(r<Ae)return 4;if(r<Ie)return 5;if(r<Ee)return 6;if(r<Se)return 7;if(Number.MAX_SAFE_INTEGER!=null&&r>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function rr(r,e,t=0){switch(P(r)){case 8:e[t++]=r&255|d,r/=128;case 7:e[t++]=r&255|d,r/=128;case 6:e[t++]=r&255|d,r/=128;case 5:e[t++]=r&255|d,r/=128;case 4:e[t++]=r&255|d,r>>>=7;case 3:e[t++]=r&255|d,r>>>=7;case 2:e[t++]=r&255|d,r>>>=7;case 1:{e[t++]=r&255,r>>>=7;break}default:throw new Error("unreachable")}return e}function nr(r,e,t=0){switch(P(r)){case 8:e.set(t++,r&255|d),r/=128;case 7:e.set(t++,r&255|d),r/=128;case 6:e.set(t++,r&255|d),r/=128;case 5:e.set(t++,r&255|d),r/=128;case 4:e.set(t++,r&255|d),r>>>=7;case 3:e.set(t++,r&255|d),r>>>=7;case 2:e.set(t++,r&255|d),r>>>=7;case 1:{e.set(t++,r&255),r>>>=7;break}default:throw new Error("unreachable")}return e}function or(r,e){let t=r[e],n=0;if(n+=t&h,t<d||(t=r[e+1],n+=(t&h)<<7,t<d)||(t=r[e+2],n+=(t&h)<<14,t<d)||(t=r[e+3],n+=(t&h)<<21,t<d)||(t=r[e+4],n+=(t&h)*Ae,t<d)||(t=r[e+5],n+=(t&h)*Ie,t<d)||(t=r[e+6],n+=(t&h)*Ee,t<d)||(t=r[e+7],n+=(t&h)*Se,t<d))return n;throw new RangeError("Could not decode varint")}function ir(r,e){let t=r.get(e),n=0;if(n+=t&h,t<d||(t=r.get(e+1),n+=(t&h)<<7,t<d)||(t=r.get(e+2),n+=(t&h)<<14,t<d)||(t=r.get(e+3),n+=(t&h)<<21,t<d)||(t=r.get(e+4),n+=(t&h)*Ae,t<d)||(t=r.get(e+5),n+=(t&h)*Ie,t<d)||(t=r.get(e+6),n+=(t&h)*Ee,t<d)||(t=r.get(e+7),n+=(t&h)*Se,t<d))return n;throw new RangeError("Could not decode varint")}function J(r,e,t=0){return e==null&&(e=G(P(r))),e instanceof Uint8Array?rr(r,e,t):nr(r,e,t)}function L(r,e=0){return r instanceof Uint8Array?or(r,e):ir(r,e)}function T(r,e){e==null&&(e=r.reduce((o,i)=>o+i.length,0));let t=G(e),n=0;for(let o of r)t.set(o,n),n+=o.length;return t}var Fe={};b(Fe,{base10:()=>fr});var Wn=new Uint8Array(0);function dt(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}function F(r){if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}function pt(r){return new TextEncoder().encode(r)}function ut(r){return new TextDecoder().decode(r)}function sr(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var o=0;o<r.length;o++){var i=r.charAt(o),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=o}var a=r.length,u=r.charAt(0),l=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function z(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";for(var w=0,B=0,A=0,E=c.length;A!==E&&c[A]===0;)A++,w++;for(var S=(E-A)*g+1>>>0,v=new Uint8Array(S);A!==E;){for(var C=c[A],D=0,I=S-1;(C!==0||D<B)&&I!==-1;I--,D++)C+=256*v[I]>>>0,v[I]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");B=D,A++}for(var U=S-B;U!==S&&v[U]===0;)U++;for(var ce=u.repeat(w);U<S;++U)ce+=r.charAt(v[U]);return ce}function k(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;var w=0;if(c[w]!==" "){for(var B=0,A=0;c[w]===u;)B++,w++;for(var E=(c.length-w)*l+1>>>0,S=new Uint8Array(E);c[w];){var v=t[c.charCodeAt(w)];if(v===255)return;for(var C=0,D=E-1;(v!==0||C<A)&&D!==-1;D--,C++)v+=a*S[D]>>>0,S[D]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");A=C,w++}if(c[w]!==" "){for(var I=E-A;I!==E&&S[I]===0;)I++;for(var U=new Uint8Array(B+(E-I)),ce=B;I!==E;)U[ce++]=S[I++];return U}}}function y(c){var w=k(c);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:z,decodeUnsafe:k,decode:y}}var ar=sr,cr=ar,lt=cr;var Ce=class{name;prefix;baseEncode;constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Pe=class{name;prefix;baseDecode;prefixCodePoint;constructor(e,t,n){this.name=e,this.prefix=t;let o=t.codePointAt(0);if(o===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=o,this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ht(this,e)}},Ue=class{decoders;constructor(e){this.decoders=e}or(e){return ht(this,e)}decode(e){let t=e[0],n=this.decoders[t];if(n!=null)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function ht(r,e){return new Ue({...r.decoders??{[r.prefix]:r},...e.decoders??{[e.prefix]:e}})}var Te=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,t,n,o){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=o,this.encoder=new Ce(e,t,n),this.decoder=new Pe(e,t,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};function X({name:r,prefix:e,encode:t,decode:n}){return new Te(r,e,t,n)}function M({name:r,prefix:e,alphabet:t}){let{encode:n,decode:o}=lt(t,r);return X({prefix:e,name:r,encode:n,decode:i=>F(o(i))})}function dr(r,e,t,n){let o=r.length;for(;r[o-1]==="=";)--o;let i=new Uint8Array(o*t/8|0),s=0,a=0,u=0;for(let l=0;l<o;++l){let g=e[r[l]];if(g===void 0)throw new SyntaxError(`Non-${n} character`);a=a<<t|g,s+=t,s>=8&&(s-=8,i[u++]=255&a>>s)}if(s>=t||(255&a<<8-s)!==0)throw new SyntaxError("Unexpected end of data");return i}function pr(r,e,t){let n=e[e.length-1]==="=",o=(1<<t)-1,i="",s=0,a=0;for(let u=0;u<r.length;++u)for(a=a<<8|r[u],s+=8;s>t;)s-=t,i+=e[o&a>>s];if(s!==0&&(i+=e[o&a<<t-s]),n)for(;(i.length*t&7)!==0;)i+="=";return i}function ur(r){let e={};for(let t=0;t<r.length;++t)e[r[t]]=t;return e}function f({name:r,prefix:e,bitsPerChar:t,alphabet:n}){let o=ur(n);return X({prefix:e,name:r,encode(i){return pr(i,n,t)},decode(i){return dr(i,o,t,r)}})}var fr=M({prefix:"9",name:"base10",alphabet:"0123456789"});var Ne={};b(Ne,{base16:()=>lr,base16upper:()=>hr});var lr=f({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),hr=f({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var ze={};b(ze,{base2:()=>mr});var mr=f({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var ke={};b(ke,{base256emoji:()=>yr});var mt=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),gr=mt.reduce((r,e,t)=>(r[t]=e,r),[]),wr=mt.reduce((r,e,t)=>{let n=e.codePointAt(0);if(n==null)throw new Error(`Invalid character: ${e}`);return r[n]=t,r},[]);function xr(r){return r.reduce((e,t)=>(e+=gr[t],e),"")}function br(r){let e=[];for(let t of r){let n=t.codePointAt(0);if(n==null)throw new Error(`Invalid character: ${t}`);let o=wr[n];if(o==null)throw new Error(`Non-base256emoji character: ${t}`);e.push(o)}return new Uint8Array(e)}var yr=X({prefix:"\u{1F680}",name:"base256emoji",encode:xr,decode:br});var De={};b(De,{base32:()=>N,base32hex:()=>Er,base32hexpad:()=>Cr,base32hexpadupper:()=>Pr,base32hexupper:()=>Sr,base32pad:()=>Ar,base32padupper:()=>Ir,base32upper:()=>vr,base32z:()=>Ur});var N=f({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),vr=f({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ar=f({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ir=f({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Er=f({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Sr=f({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Cr=f({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Pr=f({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ur=f({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Me={};b(Me,{base36:()=>ee,base36upper:()=>Tr});var ee=M({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Tr=M({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var $e={};b($e,{base58btc:()=>x,base58flickr:()=>Fr});var x=M({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Fr=M({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Be={};b(Be,{base64:()=>Nr,base64pad:()=>zr,base64url:()=>kr,base64urlpad:()=>Dr});var Nr=f({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zr=f({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),kr=f({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Dr=f({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Le={};b(Le,{base8:()=>Mr});var Mr=f({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Ve={};b(Ve,{identity:()=>$r});var $r=X({prefix:"\0",name:"identity",encode:r=>ut(r),decode:r=>pt(r)});var po=new TextEncoder,uo=new TextDecoder;var je={};b(je,{identity:()=>sn});var Vr=xt,gt=128,Or=127,jr=~Or,Rr=Math.pow(2,31);function xt(r,e,t){e=e||[],t=t||0;for(var n=t;r>=Rr;)e[t++]=r&255|gt,r/=128;for(;r&jr;)e[t++]=r&255|gt,r>>>=7;return e[t]=r|0,xt.bytes=t-n+1,e}var qr=Oe,Gr=128,wt=127;function Oe(r,n){var t=0,n=n||0,o=0,i=n,s,a=r.length;do{if(i>=a)throw Oe.bytes=0,new RangeError("Could not decode varint");s=r[i++],t+=o<28?(s&wt)<<o:(s&wt)*Math.pow(2,o),o+=7}while(s>=Gr);return Oe.bytes=i-n,t}var Jr=Math.pow(2,7),Xr=Math.pow(2,14),Wr=Math.pow(2,21),Qr=Math.pow(2,28),Hr=Math.pow(2,35),Kr=Math.pow(2,42),Zr=Math.pow(2,49),Yr=Math.pow(2,56),_r=Math.pow(2,63),en=function(r){return r<Jr?1:r<Xr?2:r<Wr?3:r<Qr?4:r<Hr?5:r<Kr?6:r<Zr?7:r<Yr?8:r<_r?9:10},tn={encode:Vr,decode:qr,encodingLength:en},rn=tn,te=rn;function re(r,e=0){return[te.decode(r,e),te.decode.bytes]}function W(r,e,t=0){return te.encode(r,e,t),e}function Q(r){return te.encodingLength(r)}function V(r,e){let t=e.byteLength,n=Q(r),o=n+Q(t),i=new Uint8Array(o+t);return W(r,i,0),W(t,i,n),i.set(e,o),new H(r,t,e,i)}function pe(r){let e=F(r),[t,n]=re(e),[o,i]=re(e.subarray(n)),s=e.subarray(n+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new H(t,o,s,e)}function bt(r,e){if(r===e)return!0;{let t=e;return r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&dt(r.bytes,t.bytes)}}var H=class{code;size;digest;bytes;constructor(e,t,n,o){this.code=e,this.size=t,this.digest=n,this.bytes=o}};var yt=0,nn="identity",vt=F;function on(r){return V(yt,vt(r))}var sn={code:yt,name:nn,encode:vt,digest:on};var Ge={};b(Ge,{sha256:()=>an,sha512:()=>cn});function qe({name:r,code:e,encode:t}){return new Re(r,e,t)}var Re=class{name;code;encode;constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?V(this.code,t):t.then(n=>V(this.code,n))}else throw Error("Unknown type, must be binary type")}};function It(r){return async e=>new Uint8Array(await crypto.subtle.digest(r,e))}var an=qe({name:"sha2-256",code:18,encode:It("SHA-256")}),cn=qe({name:"sha2-512",code:19,encode:It("SHA-512")});function Et(r,e){let{bytes:t,version:n}=r;switch(n){case 0:return pn(t,Je(r),e??x.encoder);default:return un(t,Je(r),e??N.encoder)}}var St=new WeakMap;function Je(r){let e=St.get(r);if(e==null){let t=new Map;return St.set(r,t),t}return e}var $=class r{code;version;multihash;bytes;"/";constructor(e,t,n,o){this.code=t,this.version=e,this.multihash=n,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==ne)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==fn)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return r.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,n=V(e,t);return r.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return r.equals(this,e)}static equals(e,t){let n=t;return n!=null&&e.code===n.code&&e.version===n.version&&bt(e.multihash,n.multihash)}toString(e){return Et(this,e)}toJSON(){return{"/":Et(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let t=e;if(t instanceof r)return t;if(t["/"]!=null&&t["/"]===t.bytes||t.asCID===t){let{version:n,code:o,multihash:i,bytes:s}=t;return new r(n,o,i,s??Ct(n,o,i.bytes))}else if(t[ln]===!0){let{version:n,multihash:o,code:i}=t,s=pe(o);return r.create(n,i,s)}else return null}static create(e,t,n){if(typeof t!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(t!==ne)throw new Error(`Version 0 CID must use dag-pb (code: ${ne}) block encoding`);return new r(e,t,n,n.bytes)}case 1:{let o=Ct(e,t,n.bytes);return new r(e,t,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return r.create(0,ne,e)}static createV1(e,t){return r.create(1,e,t)}static decode(e){let[t,n]=r.decodeFirst(e);if(n.length!==0)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=r.inspectBytes(e),n=t.size-t.multihashSize,o=F(e.subarray(n,n+t.multihashSize));if(o.byteLength!==t.multihashSize)throw new Error("Incorrect length");let i=o.subarray(t.multihashSize-t.digestSize),s=new H(t.multihashCode,t.digestSize,i,o);return[t.version===0?r.createV0(s):r.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,n=()=>{let[z,k]=re(e.subarray(t));return t+=k,z},o=n(),i=ne;if(o===18?(o=0,t=0):i=n(),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let s=t,a=n(),u=n(),l=t+u,g=l-s;return{version:o,codec:i,multihashCode:a,digestSize:u,multihashSize:g,size:l}}static parse(e,t){let[n,o]=dn(e,t),i=r.decode(o);if(i.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Je(i).set(n,e),i}};function dn(r,e){switch(r[0]){case"Q":{let t=e??x;return[x.prefix,t.decode(`${x.prefix}${r}`)]}case x.prefix:{let t=e??x;return[x.prefix,t.decode(r)]}case N.prefix:{let t=e??N;return[N.prefix,t.decode(r)]}case ee.prefix:{let t=e??ee;return[ee.prefix,t.decode(r)]}default:{if(e==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[r[0],e.decode(r)]}}}function pn(r,e,t){let{prefix:n}=t;if(n!==x.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let o=e.get(n);if(o==null){let i=t.encode(r).slice(1);return e.set(n,i),i}else return o}function un(r,e,t){let{prefix:n}=t,o=e.get(n);if(o==null){let i=t.encode(r);return e.set(n,i),i}else return o}var ne=112,fn=18;function Ct(r,e,t){let n=Q(r),o=n+Q(e),i=new Uint8Array(o+t.byteLength);return W(r,i,0),W(e,i,n),i.set(t,o),i}var ln=Symbol.for("@ipld/js-cid/CID");var oe={...Ve,...ze,...Le,...Fe,...Ne,...De,...Me,...$e,...Be,...ke},ko={...Ge,...je};function Ut(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}var Pt=Ut("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),Xe=Ut("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=G(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),hn={utf8:Pt,"utf-8":Pt,hex:oe.base16,latin1:Xe,ascii:Xe,binary:Xe,...oe},ue=hn;function m(r,e="utf8"){let t=ue[e];if(t==null)throw new Error(`Unsupported encoding "${e}"`);return t.encoder.encode(r).substring(1)}var fe=class{index=0;input="";new(e){return this.index=0,this.input=e,this}readAtomically(e){let t=this.index,n=e();return n===void 0&&(this.index=t),n}parseWith(e){let t=e();if(this.index===this.input.length)return t}peekChar(){if(!(this.index>=this.input.length))return this.input[this.index]}readChar(){if(!(this.index>=this.input.length))return this.input[this.index++]}readGivenChar(e){return this.readAtomically(()=>{let t=this.readChar();if(t===e)return t})}readSeparator(e,t,n){return this.readAtomically(()=>{if(!(t>0&&this.readGivenChar(e)===void 0))return n()})}readNumber(e,t,n,o){return this.readAtomically(()=>{let i=0,s=0,a=this.peekChar();if(a===void 0)return;let u=a==="0",l=2**(8*o)-1;for(;;){let g=this.readAtomically(()=>{let z=this.readChar();if(z===void 0)return;let k=Number.parseInt(z,e);if(!Number.isNaN(k))return k});if(g===void 0)break;if(i*=e,i+=g,i>l||(s+=1,t!==void 0&&s>t))return}if(s!==0)return!n&&u&&s>1?void 0:i})}readIPv4Addr(){return this.readAtomically(()=>{let e=new Uint8Array(4);for(let t=0;t<e.length;t++){let n=this.readSeparator(".",t,()=>this.readNumber(10,3,!1,1));if(n===void 0)return;e[t]=n}return e})}readIPv6Addr(){let e=t=>{for(let n=0;n<t.length/2;n++){let o=n*2;if(n<t.length-3){let s=this.readSeparator(":",n,()=>this.readIPv4Addr());if(s!==void 0)return t[o]=s[0],t[o+1]=s[1],t[o+2]=s[2],t[o+3]=s[3],[o+4,!0]}let i=this.readSeparator(":",n,()=>this.readNumber(16,4,!0,2));if(i===void 0)return[o,!1];t[o]=i>>8,t[o+1]=i&255}return[t.length,!1]};return this.readAtomically(()=>{let t=new Uint8Array(16),[n,o]=e(t);if(n===16)return t;if(o||this.readGivenChar(":")===void 0||this.readGivenChar(":")===void 0)return;let i=new Uint8Array(14),s=16-(n+2),[a]=e(i.subarray(0,s));return t.set(i.subarray(0,a),16-a),t})}readIPAddr(){return this.readIPv4Addr()??this.readIPv6Addr()}};var Tt=45,mn=15,Z=new fe;function le(r){if(!(r.length>mn))return Z.new(r).parseWith(()=>Z.readIPv4Addr())}function he(r){if(r.includes("%")&&(r=r.split("%")[0]),!(r.length>Tt))return Z.new(r).parseWith(()=>Z.readIPv6Addr())}function O(r,e=!1){if(r.includes("%")&&(r=r.split("%")[0]),r.length>Tt)return;let t=Z.new(r).parseWith(()=>Z.readIPAddr());if(t)return e&&t.length===4?Uint8Array.from([0,0,0,0,0,0,0,0,0,0,255,255,t[0],t[1],t[2],t[3]]):t}function Ft(r,e,t){let n=0;for(let o of r)if(!(n<e)){if(n>t)break;if(o!==255)return!1;n++}return!0}function Nt(r,e,t,n){let o=0;for(let i of r)if(!(o<t)){if(o>n)break;if(i!==e[o])return!1;o++}return!0}function We(r){switch(r.length){case j:return r.join(".");case R:{let e=[];for(let t=0;t<r.length;t++)t%2===0&&e.push(r[t].toString(16).padStart(2,"0")+r[t+1].toString(16).padStart(2,"0"));return e.join(":")}default:throw new Error("Invalid ip length")}}function zt(r){let e=0;for(let[t,n]of r.entries()){if(n===255){e+=8;continue}for(;(n&128)!=0;)e++,n=n<<1;if((n&128)!=0)return-1;for(let o=t+1;o<r.length;o++)if(r[o]!=0)return-1;break}return e}function kt(r){let e="0x";for(let t of r)e+=(t>>4).toString(16)+(t&15).toString(16);return e}var j=4,R=16,Wo=parseInt("0xFFFF",16),gn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,255,255]);function ie(r,e){e.length===R&&r.length===j&&Ft(e,0,11)&&(e=e.slice(12)),e.length===j&&r.length===R&&Nt(r,gn,0,11)&&(r=r.slice(12));let t=r.length;if(t!=e.length)throw new Error("Failed to mask ip");let n=new Uint8Array(t);for(let o=0;o<t;o++)n[o]=r[o]&e[o];return n}function Dt(r,e){if(typeof e=="string"&&(e=O(e)),e==null)throw new Error("Invalid ip");if(e.length!==r.network.length)return!1;for(let t=0;t<e.length;t++)if((r.network[t]&r.mask[t])!==(e[t]&r.mask[t]))return!1;return!0}function Qe(r){let[e,t]=r.split("/");if(!e||!t)throw new Error("Failed to parse given CIDR: "+r);let n=j,o=le(e);if(o==null&&(n=R,o=he(e),o==null))throw new Error("Failed to parse given CIDR: "+r);let i=parseInt(t,10);if(Number.isNaN(i)||String(i).length!==t.length||i<0||i>n*8)throw new Error("Failed to parse given CIDR: "+r);let s=He(i,8*n);return{network:ie(o,s),mask:s}}function He(r,e){if(e!==8*j&&e!==8*R)throw new Error("Invalid CIDR mask");if(r<0||r>e)throw new Error("Invalid CIDR mask");let t=e/8,n=new Uint8Array(t);for(let o=0;o<t;o++){if(r>=8){n[o]=255,r-=8;continue}n[o]=255-(255>>r),r=0}return n}var Y=class{constructor(e,t){if(t==null)({network:this.network,mask:this.mask}=Qe(e));else{let n=O(e);if(n==null)throw new Error("Failed to parse network");t=String(t);let o=parseInt(t,10);if(Number.isNaN(o)||String(o).length!==t.length||o<0||o>n.length*8){let i=O(t);if(i==null)throw new Error("Failed to parse mask");this.mask=i}else this.mask=He(o,8*n.length);this.network=ie(n,this.mask)}}contains(e){return Dt({network:this.network,mask:this.mask},e)}toString(){let e=zt(this.mask),t=e!==-1?String(e):kt(this.mask);return We(this.network)+"/"+t}};function me(r,e="utf8"){let t=ue[e];if(t==null)throw new Error(`Unsupported encoding "${e}"`);return t.decoder.decode(`${t.prefix}${r}`)}function Mt(r){return!!le(r)}function $t(r){return!!he(r)}function ge(r){return!!O(r)}var Bt=Mt,wn=$t,Ke=function(r){let e=0;if(r=r.toString().trim(),Bt(r)){let t=new Uint8Array(e+4);return r.split(/\./g).forEach(n=>{t[e++]=parseInt(n,10)&255}),t}if(wn(r)){let t=r.split(":",8),n;for(n=0;n<t.length;n++){let i=Bt(t[n]),s;i&&(s=Ke(t[n]),t[n]=m(s.slice(0,2),"base16")),s!=null&&++n<8&&t.splice(n,0,m(s.slice(2,4),"base16"))}if(t[0]==="")for(;t.length<8;)t.unshift("0");else if(t[t.length-1]==="")for(;t.length<8;)t.push("0");else if(t.length<8){for(n=0;n<t.length&&t[n]!=="";n++);let i=[n,1];for(n=9-t.length;n>0;n--)i.push("0");t.splice.apply(t,i)}let o=new Uint8Array(e+16);for(n=0;n<t.length;n++){let i=parseInt(t[n],16);o[e++]=i>>8&255,o[e++]=i&255}return o}throw new Error("invalid ip address")},Lt=function(r,e=0,t){e=~~e,t=t??r.length-e;let n=new DataView(r.buffer);if(t===4){let o=[];for(let i=0;i<t;i++)o.push(r[e+i]);return o.join(".")}if(t===16){let o=[];for(let i=0;i<t;i+=2)o.push(n.getUint16(e+i).toString(16));return o.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""};var _={},Ze={},bn=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,-1,"ip6zone"],[43,8,"ipcidr"],[53,-1,"dns",!0],[54,-1,"dns4",!0],[55,-1,"dns6",!0],[56,-1,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc-direct"],[281,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,-1,"unix",!1,!0],[421,-1,"ipfs"],[421,-1,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,-1,"garlic64"],[448,0,"tls"],[449,-1,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,-1,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[481,-1,"http-path"],[777,-1,"memory"]];bn.forEach(r=>{let e=yn(...r);Ze[e.code]=e,_[e.name]=e});function yn(r,e,t,n,o){return{code:r,size:e,name:t,resolvable:!!n,path:!!o}}function p(r){if(typeof r=="number"){if(Ze[r]!=null)return Ze[r];throw new Error(`no protocol with code: ${r}`)}else if(typeof r=="string"){if(_[r]!=null)return _[r];throw new Error(`no protocol with name: ${r}`)}throw new Error(`invalid protocol id type: ${typeof r}`)}var vn=p("ip4"),An=p("ip6"),In=p("ipcidr");function tt(r,e){switch(p(r).code){case 4:case 41:return Sn(e);case 42:return et(e);case 43:return m(e,"base10");case 6:case 273:case 33:case 132:return Rt(e).toString();case 53:case 54:case 55:case 56:case 400:case 449:case 777:return et(e);case 421:return Tn(e);case 444:return Ot(e);case 445:return Ot(e);case 466:return Un(e);case 481:return globalThis.encodeURIComponent(et(e));default:return m(e,"base16")}}function we(r,e){switch(p(r).code){case 4:return Vt(e);case 41:return Vt(e);case 42:return _e(e);case 43:return me(e,"base10");case 6:case 273:case 33:case 132:return rt(parseInt(e,10));case 53:case 54:case 55:case 56:case 400:case 449:case 777:return _e(e);case 421:return Cn(e);case 444:return Fn(e);case 445:return Nn(e);case 466:return Pn(e);case 481:return _e(globalThis.decodeURIComponent(e));default:return me(e,"base16")}}function jt(r){let e,t;if(r.stringTuples().forEach(([n,o])=>{(n===vn.code||n===An.code)&&(t=o),n===In.code&&(e=o)}),e==null||t==null)throw new Error("Invalid multiaddr");return new Y(t,e)}var Ye=Object.values(oe).map(r=>r.decoder),En=function(){let r=Ye[0].or(Ye[1]);return Ye.slice(2).forEach(e=>r=r.or(e)),r}();function Vt(r){if(!ge(r))throw new Error("invalid ip address");return Ke(r)}function Sn(r){let e=Lt(r,0,r.length);if(e==null)throw new Error("ipBuff is required");if(!ge(e))throw new Error("invalid ip address");return e}function rt(r){let e=new ArrayBuffer(2);return new DataView(e).setUint16(0,r),new Uint8Array(e)}function Rt(r){return new DataView(r.buffer).getUint16(r.byteOffset)}function _e(r){let e=me(r),t=Uint8Array.from(J(e.length));return T([t,e],t.length+e.length)}function et(r){let e=L(r);if(r=r.slice(P(e)),r.length!==e)throw new Error("inconsistent lengths");return m(r)}function Cn(r){let e;r[0]==="Q"||r[0]==="1"?e=pe(x.decode(`z${r}`)).bytes:e=$.parse(r).multihash.bytes;let t=Uint8Array.from(J(e.length));return T([t,e],t.length+e.length)}function Pn(r){let e=En.decode(r),t=Uint8Array.from(J(e.length));return T([t,e],t.length+e.length)}function Un(r){let e=L(r),t=r.slice(P(e));if(t.length!==e)throw new Error("inconsistent lengths");return"u"+m(t,"base64url")}function Tn(r){let e=L(r),t=r.slice(P(e));if(t.length!==e)throw new Error("inconsistent lengths");return m(t,"base58btc")}function Fn(r){let e=r.split(":");if(e.length!==2)throw new Error(`failed to parse onion addr: ["'${e.join('", "')}'"]' does not contain a port number`);if(e[0].length!==16)throw new Error(`failed to parse onion addr: ${e[0]} not a Tor onion address.`);let t=N.decode("b"+e[0]),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let o=rt(n);return T([t,o],t.length+o.length)}function Nn(r){let e=r.split(":");if(e.length!==2)throw new Error(`failed to parse onion addr: ["'${e.join('", "')}'"]' does not contain a port number`);if(e[0].length!==56)throw new Error(`failed to parse onion addr: ${e[0]} not a Tor onion3 address.`);let t=N.decode(`b${e[0]}`),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let o=rt(n);return T([t,o],t.length+o.length)}function Ot(r){let e=r.slice(0,r.length-2),t=r.slice(r.length-2),n=m(e,"base32"),o=Rt(t);return`${n}:${o}`}function qt(r){r=nt(r);let e=[],t=[],n=null,o=r.split("/").slice(1);if(o.length===1&&o[0]==="")return{bytes:new Uint8Array,string:"/",tuples:[],stringTuples:[],path:null};for(let i=0;i<o.length;i++){let s=o[i],a=p(s);if(a.size===0){e.push([a.code]),t.push([a.code]);continue}if(i++,i>=o.length)throw new xe("invalid address: "+r);if(a.path===!0){n=nt(o.slice(i).join("/")),e.push([a.code,we(a.code,n)]),t.push([a.code,n]);break}let u=we(a.code,o[i]);e.push([a.code,u]),t.push([a.code,tt(a.code,u)])}return{string:Jt(t),bytes:se(e),tuples:e,stringTuples:t,path:n}}function ot(r){let e=[],t=[],n=null,o=0;for(;o<r.length;){let i=L(r,o),s=P(i),a=p(i),u=zn(a,r.slice(o+s));if(u===0){e.push([i]),t.push([i]),o+=s;continue}let l=r.slice(o+s,o+s+u);if(o+=u+s,o>r.length)throw new xe("Invalid address Uint8Array: "+m(r,"base16"));e.push([i,l]);let g=tt(i,l);if(t.push([i,g]),a.path===!0){n=g;break}}return{bytes:Uint8Array.from(r),string:Jt(t),tuples:e,stringTuples:t,path:n}}function Gt(r){let e=[];return r.forEach(([t,n])=>{let o=[t];n!=null&&(o[1]=we(t,n)),e.push(o)}),e}function Jt(r){let e=[];return r.map(t=>{let n=p(t[0]);return e.push(n.name),t.length>1&&t[1]!=null&&e.push(t[1]),null}),nt(e.join("/"))}function se(r){return T(r.map(e=>{let t=p(e[0]),n=Uint8Array.from(J(t.code));return e.length>1&&e[1]!=null&&(n=T([n,e[1]])),n}))}function zn(r,e){if(r.size>0)return r.size/8;if(r.size===0)return 0;{let t=L(e instanceof Uint8Array?e:Uint8Array.from(e));return t+P(t)}}function nt(r){return"/"+r.trim().split("/").filter(e=>e).join("/")}var xe=class extends Error{static name="ParseError";name="ParseError";constructor(e){super(`Error parsing address: ${e}`)}};function Xt(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}var kn=Symbol.for("nodejs.util.inspect.custom"),st=Symbol.for("@multiformats/js-multiaddr/multiaddr"),Dn=[p("dns").code,p("dns4").code,p("dns6").code,p("dnsaddr").code],it=class extends Error{constructor(e="No available resolver"){super(e),this.name="NoAvailableResolverError"}},ae=class r{bytes;#t;#e;#r;#n;[st]=!0;constructor(e){e==null&&(e="");let t;if(e instanceof Uint8Array)t=ot(e);else if(typeof e=="string"){if(e.length>0&&e.charAt(0)!=="/")throw new Error(`multiaddr "${e}" must start with a "/"`);t=qt(e)}else if(be(e))t=ot(e.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=t.bytes,this.#t=t.string,this.#e=t.tuples,this.#r=t.stringTuples,this.#n=t.path}toString(){return this.#t}toJSON(){return this.toString()}toOptions(){let e,t,n,o,i="",s=p("tcp"),a=p("udp"),u=p("ip4"),l=p("ip6"),g=p("dns6"),z=p("ip6zone");for(let[y,c]of this.stringTuples())y===z.code&&(i=`%${c??""}`),Dn.includes(y)&&(t=s.name==="tcp"?"tcp":"udp",o=443,n=`${c??""}${i}`,e=y===g.code?6:4),(y===s.code||y===a.code)&&(t=p(y).name==="tcp"?"tcp":"udp",o=parseInt(c??"")),(y===u.code||y===l.code)&&(t=p(y).name==="tcp"?"tcp":"udp",n=`${c??""}${i}`,e=y===l.code?6:4);if(e==null||t==null||n==null||o==null)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:e,host:n,transport:t,port:o}}protos(){return this.#e.map(([e])=>Object.assign({},p(e)))}protoCodes(){return this.#e.map(([e])=>e)}protoNames(){return this.#e.map(([e])=>p(e).name)}tuples(){return this.#e.map(([e,t])=>t==null?[e]:[e,t])}stringTuples(){return this.#r.map(([e,t])=>t==null?[e]:[e,t])}encapsulate(e){return e=new r(e),new r(this.toString()+e.toString())}decapsulate(e){let t=e.toString(),n=this.toString(),o=n.lastIndexOf(t);if(o<0)throw new Error(`Address ${this.toString()} does not contain subaddress: ${e.toString()}`);return new r(n.slice(0,o))}decapsulateCode(e){let t=this.tuples();for(let n=t.length-1;n>=0;n--)if(t[n][0]===e)return new r(se(t.slice(0,n)));return this}getPeerId(){try{let e=[];this.stringTuples().forEach(([n,o])=>{n===_.p2p.code&&e.push([n,o]),n===_["p2p-circuit"].code&&(e=[])});let t=e.pop();if(t?.[1]!=null){let n=t[1];return n[0]==="Q"||n[0]==="1"?m(x.decode(`z${n}`),"base58btc"):m($.parse(n).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){return this.#n}equals(e){return Xt(this.bytes,e.bytes)}async resolve(e){let t=this.protos().find(i=>i.resolvable);if(t==null)return[this];let n=at.get(t.name);if(n==null)throw new it(`no available resolver for ${t.name}`);return(await n(this,e)).map(i=>q(i))}nodeAddress(){let e=this.toOptions();if(e.transport!=="tcp"&&e.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${e.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:e.family,address:e.host,port:e.port}}isThinWaistAddress(e){let t=(e??this).protos();return!(t.length!==2||t[0].code!==4&&t[0].code!==41||t[1].code!==6&&t[1].code!==273)}[kn](){return`Multiaddr(${this.#t})`}};var ye=class{multiaddr;netmask;constructor(e){this.multiaddr=q(e),this.netmask=jt(this.multiaddr)}contains(e){if(e==null)return!1;let t=q(e),n;for(let[o,i]of t.stringTuples())if(o===4||o===41){n=i;break}return n===void 0?!1:this.netmask.contains(n)}};var at=new Map;function Mn(r,e){if(r==null)throw new Error("requires node address object");if(e==null)throw new Error("requires transport protocol");let t,n=r.address;switch(r.family){case 4:t="ip4";break;case 6:if(t="ip6",n.includes("%")){let o=n.split("%");if(o.length!==2)throw Error("Multiple ip6 zones in multiaddr");n=o[0],t=`/ip6zone/${o[1]}/ip6`}break;default:throw Error("Invalid addr family, should be 4 or 6.")}return new ae("/"+[t,n,e,r.port].join("/"))}function Wt(r){return q(se(r))}function $n(r){return Wt(Gt(r))}function Bn(r){return be(r)?r.protos().some(e=>e.resolvable):!1}function be(r){return!!r?.[st]}function q(r){return new ae(r)}return Yt(Ln);})();
+"use strict";var MultiformatsMultiaddr=(()=>{var Se=Object.defineProperty;var dr=Object.getOwnPropertyDescriptor;var pr=Object.getOwnPropertyNames;var ur=Object.prototype.hasOwnProperty;var b=(r,t)=>{for(var e in t)Se(r,e,{get:t[e],enumerable:!0})},lr=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of pr(t))!ur.call(r,o)&&o!==e&&Se(r,o,{get:()=>t[o],enumerable:!(n=dr(t,o))||n.enumerable});return r};var fr=r=>lr(Se({},"__esModule",{value:!0}),r);var Co={};b(Co,{MultiaddrFilter:()=>De,fromNodeAddress:()=>xo,fromStringTuples:()=>wo,fromTuples:()=>go,isMultiaddr:()=>Ie,isName:()=>bo,multiaddr:()=>F,protocols:()=>yo,resolvers:()=>wt,validate:()=>ar});var _e={};b(_e,{base10:()=>yr});var vo=new Uint8Array(0);function bt(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let e=0;e<r.byteLength;e++)if(r[e]!==t[e])return!1;return!0}function P(r){if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}function yt(r){return new TextEncoder().encode(r)}function Ct(r){return new TextDecoder().decode(r)}function hr(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var o=0;o<r.length;o++){var i=r.charAt(o),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=o}var a=r.length,c=r.charAt(0),d=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function A(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var w=0,M=0,v=0,D=p.length;v!==D&&p[v]===0;)v++,w++;for(var S=(D-v)*f+1>>>0,y=new Uint8Array(S);v!==D;){for(var T=p[v],N=0,I=S-1;(T!==0||N<M)&&I!==-1;I--,N++)T+=256*y[I]>>>0,y[I]=T%a>>>0,T=T/a>>>0;if(T!==0)throw new Error("Non-zero carry");M=N,v++}for(var O=S-M;O!==S&&y[O]===0;)O++;for(var fe=c.repeat(w);O<S;++O)fe+=r.charAt(y[O]);return fe}function R(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var w=0;if(p[w]!==" "){for(var M=0,v=0;p[w]===c;)M++,w++;for(var D=(p.length-w)*d+1>>>0,S=new Uint8Array(D);p[w];){var y=e[p.charCodeAt(w)];if(y===255)return;for(var T=0,N=D-1;(y!==0||T<v)&&N!==-1;N--,T++)y+=a*S[N]>>>0,S[N]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");v=T,w++}if(p[w]!==" "){for(var I=D-v;I!==D&&S[I]===0;)I++;for(var O=new Uint8Array(M+(D-I)),fe=M;I!==D;)O[fe++]=S[I++];return O}}}function cr(p){var w=R(p);if(w)return w;throw new Error(`Non-${t} character`)}return{encode:A,decodeUnsafe:R,decode:cr}}var mr=hr,xr=mr,vt=xr;var Te=class{name;prefix;baseEncode;constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Ae=class{name;prefix;baseDecode;prefixCodePoint;constructor(t,e,n){this.name=t,this.prefix=e;let o=e.codePointAt(0);if(o===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=o,this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return It(this,t)}},Oe=class{decoders;constructor(t){this.decoders=t}or(t){return It(this,t)}decode(t){let e=t[0],n=this.decoders[e];if(n!=null)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function It(r,t){return new Oe({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}var Pe=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,e,n,o){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=o,this.encoder=new Te(t,e,n),this.decoder=new Ae(t,e,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};function q({name:r,prefix:t,encode:e,decode:n}){return new Pe(r,t,e,n)}function U({name:r,prefix:t,alphabet:e}){let{encode:n,decode:o}=vt(e,r);return q({prefix:t,name:r,encode:n,decode:i=>P(o(i))})}function gr(r,t,e,n){let o=r.length;for(;r[o-1]==="=";)--o;let i=new Uint8Array(o*e/8|0),s=0,a=0,c=0;for(let d=0;d<o;++d){let f=t[r[d]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);a=a<<e|f,s+=e,s>=8&&(s-=8,i[c++]=255&a>>s)}if(s>=e||(255&a<<8-s)!==0)throw new SyntaxError("Unexpected end of data");return i}function wr(r,t,e){let n=t[t.length-1]==="=",o=(1<<e)-1,i="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>e;)s-=e,i+=t[o&a>>s];if(s!==0&&(i+=t[o&a<<e-s]),n)for(;(i.length*e&7)!==0;)i+="=";return i}function br(r){let t={};for(let e=0;e<r.length;++e)t[r[e]]=e;return t}function l({name:r,prefix:t,bitsPerChar:e,alphabet:n}){let o=br(n);return q({prefix:t,name:r,encode(i){return wr(i,n,e)},decode(i){return gr(i,o,e,r)}})}var yr=U({prefix:"9",name:"base10",alphabet:"0123456789"});var Ne={};b(Ne,{base16:()=>Cr,base16upper:()=>Er});var Cr=l({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Er=l({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ue={};b(Ue,{base2:()=>vr});var vr=l({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var ze={};b(ze,{base256emoji:()=>Ar});var Dt=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Ir=Dt.reduce((r,t,e)=>(r[e]=t,r),[]),Dr=Dt.reduce((r,t,e)=>{let n=t.codePointAt(0);if(n==null)throw new Error(`Invalid character: ${t}`);return r[n]=e,r},[]);function Sr(r){return r.reduce((t,e)=>(t+=Ir[e],t),"")}function Tr(r){let t=[];for(let e of r){let n=e.codePointAt(0);if(n==null)throw new Error(`Invalid character: ${e}`);let o=Dr[n];if(o==null)throw new Error(`Non-base256emoji character: ${e}`);t.push(o)}return new Uint8Array(t)}var Ar=q({prefix:"\u{1F680}",name:"base256emoji",encode:Sr,decode:Tr});var Be={};b(Be,{base32:()=>z,base32hex:()=>Nr,base32hexpad:()=>zr,base32hexpadupper:()=>Br,base32hexupper:()=>Ur,base32pad:()=>Pr,base32padupper:()=>_r,base32upper:()=>Or,base32z:()=>Fr});var z=l({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Or=l({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Pr=l({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),_r=l({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Nr=l({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ur=l({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zr=l({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Br=l({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Fr=l({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Fe={};b(Fe,{base36:()=>ee,base36upper:()=>Rr});var ee=U({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Rr=U({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Re={};b(Re,{base58btc:()=>C,base58flickr:()=>Mr});var C=U({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Mr=U({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Le={};b(Le,{base64:()=>Lr,base64pad:()=>kr,base64url:()=>Me,base64urlpad:()=>Vr});var Lr=l({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),kr=l({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Me=l({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Vr=l({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ke={};b(ke,{base8:()=>$r});var $r=l({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Ve={};b(Ve,{identity:()=>Wr});var Wr=q({prefix:"\0",name:"identity",encode:r=>Ct(r),decode:r=>yt(r)});var Lo=new TextEncoder,ko=new TextDecoder;var We={};b(We,{identity:()=>fn});var Hr=At,St=128,Gr=127,Xr=~Gr,Jr=Math.pow(2,31);function At(r,t,e){t=t||[],e=e||0;for(var n=e;r>=Jr;)t[e++]=r&255|St,r/=128;for(;r&Xr;)t[e++]=r&255|St,r>>>=7;return t[e]=r|0,At.bytes=e-n+1,t}var Qr=$e,Kr=128,Tt=127;function $e(r,n){var e=0,n=n||0,o=0,i=n,s,a=r.length;do{if(i>=a)throw $e.bytes=0,new RangeError("Could not decode varint");s=r[i++],e+=o<28?(s&Tt)<<o:(s&Tt)*Math.pow(2,o),o+=7}while(s>=Kr);return $e.bytes=i-n,e}var Zr=Math.pow(2,7),Yr=Math.pow(2,14),en=Math.pow(2,21),tn=Math.pow(2,28),rn=Math.pow(2,35),nn=Math.pow(2,42),on=Math.pow(2,49),sn=Math.pow(2,56),an=Math.pow(2,63),cn=function(r){return r<Zr?1:r<Yr?2:r<en?3:r<tn?4:r<rn?5:r<nn?6:r<on?7:r<sn?8:r<an?9:10},dn={encode:Hr,decode:Qr,encodingLength:cn},pn=dn,te=pn;function re(r,t=0){return[te.decode(r,t),te.decode.bytes]}function H(r,t,e=0){return te.encode(r,t,e),t}function G(r){return te.encodingLength(r)}function L(r,t){let e=t.byteLength,n=G(r),o=n+G(e),i=new Uint8Array(o+e);return H(r,i,0),H(e,i,n),i.set(t,o),new X(r,e,t,i)}function Ot(r){let t=P(r),[e,n]=re(t),[o,i]=re(t.subarray(n)),s=t.subarray(n+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new X(e,o,s,t)}function Pt(r,t){if(r===t)return!0;{let e=t;return r.code===e.code&&r.size===e.size&&e.bytes instanceof Uint8Array&&bt(r.bytes,e.bytes)}}var X=class{code;size;digest;bytes;constructor(t,e,n,o){this.code=t,this.size=e,this.digest=n,this.bytes=o}};var _t=0,un="identity",Nt=P;function ln(r){return L(_t,Nt(r))}var fn={code:_t,name:un,encode:Nt,digest:ln};var He={};b(He,{sha256:()=>hn,sha512:()=>mn});function qe({name:r,code:t,encode:e}){return new je(r,t,e)}var je=class{name;code;encode;constructor(t,e,n){this.name=t,this.code=e,this.encode=n}digest(t){if(t instanceof Uint8Array){let e=this.encode(t);return e instanceof Uint8Array?L(this.code,e):e.then(n=>L(this.code,n))}else throw Error("Unknown type, must be binary type")}};function zt(r){return async t=>new Uint8Array(await crypto.subtle.digest(r,t))}var hn=qe({name:"sha2-256",code:18,encode:zt("SHA-256")}),mn=qe({name:"sha2-512",code:19,encode:zt("SHA-512")});function Bt(r,t){let{bytes:e,version:n}=r;switch(n){case 0:return gn(e,Ge(r),t??C.encoder);default:return wn(e,Ge(r),t??z.encoder)}}var Ft=new WeakMap;function Ge(r){let t=Ft.get(r);if(t==null){let e=new Map;return Ft.set(r,e),e}return t}var B=class r{code;version;multihash;bytes;"/";constructor(t,e,n,o){this.code=e,this.version=t,this.multihash=n,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:t,multihash:e}=this;if(t!==oe)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==bn)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return r.createV0(e)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:t,digest:e}=this.multihash,n=L(t,e);return r.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return r.equals(this,t)}static equals(t,e){let n=e;return n!=null&&t.code===n.code&&t.version===n.version&&Pt(t.multihash,n.multihash)}toString(t){return Bt(this,t)}toJSON(){return{"/":Bt(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;let e=t;if(e instanceof r)return e;if(e["/"]!=null&&e["/"]===e.bytes||e.asCID===e){let{version:n,code:o,multihash:i,bytes:s}=e;return new r(n,o,i,s??Rt(n,o,i.bytes))}else if(e[yn]===!0){let{version:n,multihash:o,code:i}=e,s=Ot(o);return r.create(n,i,s)}else return null}static create(t,e,n){if(typeof e!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(e!==oe)throw new Error(`Version 0 CID must use dag-pb (code: ${oe}) block encoding`);return new r(t,e,n,n.bytes)}case 1:{let o=Rt(t,e,n.bytes);return new r(t,e,n,o)}default:throw new Error("Invalid version")}}static createV0(t){return r.create(0,oe,t)}static createV1(t,e){return r.create(1,t,e)}static decode(t){let[e,n]=r.decodeFirst(t);if(n.length!==0)throw new Error("Incorrect length");return e}static decodeFirst(t){let e=r.inspectBytes(t),n=e.size-e.multihashSize,o=P(t.subarray(n,n+e.multihashSize));if(o.byteLength!==e.multihashSize)throw new Error("Incorrect length");let i=o.subarray(e.multihashSize-e.digestSize),s=new X(e.multihashCode,e.digestSize,i,o);return[e.version===0?r.createV0(s):r.createV1(e.codec,s),t.subarray(e.size)]}static inspectBytes(t){let e=0,n=()=>{let[A,R]=re(t.subarray(e));return e+=R,A},o=n(),i=oe;if(o===18?(o=0,e=0):i=n(),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let s=e,a=n(),c=n(),d=e+c,f=d-s;return{version:o,codec:i,multihashCode:a,digestSize:c,multihashSize:f,size:d}}static parse(t,e){let[n,o]=xn(t,e),i=r.decode(o);if(i.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Ge(i).set(n,t),i}};function xn(r,t){switch(r[0]){case"Q":{let e=t??C;return[C.prefix,e.decode(`${C.prefix}${r}`)]}case C.prefix:{let e=t??C;return[C.prefix,e.decode(r)]}case z.prefix:{let e=t??z;return[z.prefix,e.decode(r)]}case ee.prefix:{let e=t??ee;return[ee.prefix,e.decode(r)]}default:{if(t==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}}function gn(r,t,e){let{prefix:n}=e;if(n!==C.prefix)throw Error(`Cannot string encode V0 in ${e.name} encoding`);let o=t.get(n);if(o==null){let i=e.encode(r).slice(1);return t.set(n,i),i}else return o}function wn(r,t,e){let{prefix:n}=e,o=t.get(n);if(o==null){let i=e.encode(r);return t.set(n,i),i}else return o}var oe=112,bn=18;function Rt(r,t,e){let n=G(r),o=n+G(t),i=new Uint8Array(o+e.byteLength);return H(r,i,0),H(t,i,n),i.set(e,o),i}var yn=Symbol.for("@ipld/js-cid/CID");var ie={...Ve,...Ue,...ke,..._e,...Ne,...Be,...Fe,...Re,...Le,...ze},ci={...He,...We};function se(r=0){return new Uint8Array(r)}function Lt(r,t,e,n){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:e},decoder:{decode:n}}}var Mt=Lt("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),Xe=Lt("ascii","a",r=>{let t="a";for(let e=0;e<r.length;e++)t+=String.fromCharCode(r[e]);return t},r=>{r=r.substring(1);let t=se(r.length);for(let e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return t}),Cn={utf8:Mt,"utf-8":Mt,hex:ie.base16,latin1:Xe,ascii:Xe,binary:Xe,...ie},me=Cn;function E(r,t="utf8"){let e=me[t];if(e==null)throw new Error(`Unsupported encoding "${t}"`);return e.encoder.encode(r).substring(1)}var x=class extends Error{static name="InvalidMultiaddrError";name="InvalidMultiaddrError"},_=class extends Error{static name="ValidationError";name="ValidationError"},k=class extends Error{static name="InvalidParametersError";name="InvalidParametersError"},xe=class extends Error{static name="InvalidProtocolError";name="InvalidProtocolError"};function kt(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let e=0;e<r.byteLength;e++)if(r[e]!==t[e])return!1;return!0}function V(r,t="utf8"){let e=me[t];if(e==null)throw new Error(`Unsupported encoding "${t}"`);return e.decoder.decode(`${e.prefix}${r}`)}var En=Math.pow(2,7),vn=Math.pow(2,14),In=Math.pow(2,21),Je=Math.pow(2,28),Qe=Math.pow(2,35),Ke=Math.pow(2,42),Ze=Math.pow(2,49),u=128,m=127;function J(r){if(r<En)return 1;if(r<vn)return 2;if(r<In)return 3;if(r<Je)return 4;if(r<Qe)return 5;if(r<Ke)return 6;if(r<Ze)return 7;if(Number.MAX_SAFE_INTEGER!=null&&r>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function Ye(r,t,e=0){switch(J(r)){case 8:t[e++]=r&255|u,r/=128;case 7:t[e++]=r&255|u,r/=128;case 6:t[e++]=r&255|u,r/=128;case 5:t[e++]=r&255|u,r/=128;case 4:t[e++]=r&255|u,r>>>=7;case 3:t[e++]=r&255|u,r>>>=7;case 2:t[e++]=r&255|u,r>>>=7;case 1:{t[e++]=r&255,r>>>=7;break}default:throw new Error("unreachable")}return t}function Dn(r,t){let e=r[t],n=0;if(n+=e&m,e<u||(e=r[t+1],n+=(e&m)<<7,e<u)||(e=r[t+2],n+=(e&m)<<14,e<u)||(e=r[t+3],n+=(e&m)<<21,e<u)||(e=r[t+4],n+=(e&m)*Je,e<u)||(e=r[t+5],n+=(e&m)*Qe,e<u)||(e=r[t+6],n+=(e&m)*Ke,e<u)||(e=r[t+7],n+=(e&m)*Ze,e<u))return n;throw new RangeError("Could not decode varint")}function Sn(r,t){let e=r.get(t),n=0;if(n+=e&m,e<u||(e=r.get(t+1),n+=(e&m)<<7,e<u)||(e=r.get(t+2),n+=(e&m)<<14,e<u)||(e=r.get(t+3),n+=(e&m)<<21,e<u)||(e=r.get(t+4),n+=(e&m)*Je,e<u)||(e=r.get(t+5),n+=(e&m)*Qe,e<u)||(e=r.get(t+6),n+=(e&m)*Ke,e<u)||(e=r.get(t+7),n+=(e&m)*Ze,e<u))return n;throw new RangeError("Could not decode varint")}function et(r,t=0){return r instanceof Uint8Array?Dn(r,t):Sn(r,t)}function ae(r,t){t==null&&(t=r.reduce((o,i)=>o+i.length,0));let e=se(t),n=0;for(let o of r)e.set(o,n),n+=o.length;return e}var ge=class{index=0;input="";new(t){return this.index=0,this.input=t,this}readAtomically(t){let e=this.index,n=t();return n===void 0&&(this.index=e),n}parseWith(t){let e=t();if(this.index===this.input.length)return e}peekChar(){if(!(this.index>=this.input.length))return this.input[this.index]}readChar(){if(!(this.index>=this.input.length))return this.input[this.index++]}readGivenChar(t){return this.readAtomically(()=>{let e=this.readChar();if(e===t)return e})}readSeparator(t,e,n){return this.readAtomically(()=>{if(!(e>0&&this.readGivenChar(t)===void 0))return n()})}readNumber(t,e,n,o){return this.readAtomically(()=>{let i=0,s=0,a=this.peekChar();if(a===void 0)return;let c=a==="0",d=2**(8*o)-1;for(;;){let f=this.readAtomically(()=>{let A=this.readChar();if(A===void 0)return;let R=Number.parseInt(A,t);if(!Number.isNaN(R))return R});if(f===void 0)break;if(i*=t,i+=f,i>d||(s+=1,e!==void 0&&s>e))return}if(s!==0)return!n&&c&&s>1?void 0:i})}readIPv4Addr(){return this.readAtomically(()=>{let t=new Uint8Array(4);for(let e=0;e<t.length;e++){let n=this.readSeparator(".",e,()=>this.readNumber(10,3,!1,1));if(n===void 0)return;t[e]=n}return t})}readIPv6Addr(){let t=e=>{for(let n=0;n<e.length/2;n++){let o=n*2;if(n<e.length-3){let s=this.readSeparator(":",n,()=>this.readIPv4Addr());if(s!==void 0)return e[o]=s[0],e[o+1]=s[1],e[o+2]=s[2],e[o+3]=s[3],[o+4,!0]}let i=this.readSeparator(":",n,()=>this.readNumber(16,4,!0,2));if(i===void 0)return[o,!1];e[o]=i>>8,e[o+1]=i&255}return[e.length,!1]};return this.readAtomically(()=>{let e=new Uint8Array(16),[n,o]=t(e);if(n===16)return e;if(o||this.readGivenChar(":")===void 0||this.readGivenChar(":")===void 0)return;let i=new Uint8Array(14),s=16-(n+2),[a]=t(i.subarray(0,s));return e.set(i.subarray(0,a),16-a),e})}readIPAddr(){return this.readIPv4Addr()??this.readIPv6Addr()}};var Vt=45,An=15,Q=new ge;function we(r){if(!(r.length>An))return Q.new(r).parseWith(()=>Q.readIPv4Addr())}function be(r){if(r.includes("%")&&(r=r.split("%")[0]),!(r.length>Vt))return Q.new(r).parseWith(()=>Q.readIPv6Addr())}function K(r,t=!1){if(r.includes("%")&&(r=r.split("%")[0]),r.length>Vt)return;let e=Q.new(r).parseWith(()=>Q.readIPAddr());if(e)return t&&e.length===4?Uint8Array.from([0,0,0,0,0,0,0,0,0,0,255,255,e[0],e[1],e[2],e[3]]):e}function ce(r){return!!we(r)}function $t(r){return!!be(r)}function Wt(r,t,e){let n=0;for(let o of r)if(!(n<t)){if(n>e)break;if(o!==255)return!1;n++}return!0}function jt(r,t,e,n){let o=0;for(let i of r)if(!(o<e)){if(o>n)break;if(i!==t[o])return!1;o++}return!0}function tt(r){switch(r.length){case $:return r.join(".");case W:{let t=[];for(let e=0;e<r.length;e++)e%2===0&&t.push(r[e].toString(16).padStart(2,"0")+r[e+1].toString(16).padStart(2,"0"));return t.join(":")}default:throw new Error("Invalid ip length")}}function qt(r){let t=0;for(let[e,n]of r.entries()){if(n===255){t+=8;continue}for(;(n&128)!=0;)t++,n=n<<1;if((n&128)!=0)return-1;for(let o=e+1;o<r.length;o++)if(r[o]!=0)return-1;break}return t}function Ht(r){let t="0x";for(let e of r)t+=(e>>4).toString(16)+(e&15).toString(16);return t}var $=4,W=16,Fi=parseInt("0xFFFF",16),On=new Uint8Array([0,0,0,0,0,0,0,0,0,0,255,255]);function de(r,t){t.length===W&&r.length===$&&Wt(t,0,11)&&(t=t.slice(12)),t.length===$&&r.length===W&&jt(r,On,0,11)&&(r=r.slice(12));let e=r.length;if(e!=t.length)throw new Error("Failed to mask ip");let n=new Uint8Array(e);for(let o=0;o<e;o++)n[o]=r[o]&t[o];return n}function Gt(r,t){if(typeof t=="string"&&(t=K(t)),t==null)throw new Error("Invalid ip");if(t.length!==r.network.length)return!1;for(let e=0;e<t.length;e++)if((r.network[e]&r.mask[e])!==(t[e]&r.mask[e]))return!1;return!0}function rt(r){let[t,e]=r.split("/");if(!t||!e)throw new Error("Failed to parse given CIDR: "+r);let n=$,o=we(t);if(o==null&&(n=W,o=be(t),o==null))throw new Error("Failed to parse given CIDR: "+r);let i=parseInt(e,10);if(Number.isNaN(i)||String(i).length!==e.length||i<0||i>n*8)throw new Error("Failed to parse given CIDR: "+r);let s=nt(i,8*n);return{network:de(o,s),mask:s}}function nt(r,t){if(t!==8*$&&t!==8*W)throw new Error("Invalid CIDR mask");if(r<0||r>t)throw new Error("Invalid CIDR mask");let e=t/8,n=new Uint8Array(e);for(let o=0;o<e;o++){if(r>=8){n[o]=255,r-=8;continue}n[o]=255-(255>>r),r=0}return n}var Z=class{constructor(t,e){if(e==null)({network:this.network,mask:this.mask}=rt(t));else{let n=K(t);if(n==null)throw new Error("Failed to parse network");e=String(e);let o=parseInt(e,10);if(Number.isNaN(o)||String(o).length!==e.length||o<0||o>n.length*8){let i=K(e);if(i==null)throw new Error("Failed to parse mask");this.mask=i}else this.mask=nt(o,8*n.length);this.network=de(n,this.mask)}}contains(t){return Gt({network:this.network,mask:this.mask},t)}toString(){let t=qt(this.mask),e=t!==-1?String(t):Ht(this.mask);return tt(this.network)+"/"+e}};function it(r){return t=>E(t,r)}function st(r){return t=>V(t,r)}function Y(r){return new DataView(r.buffer).getUint16(r.byteOffset).toString()}function j(r){let t=new ArrayBuffer(2);return new DataView(t).setUint16(0,typeof r=="string"?parseInt(r):r),new Uint8Array(t)}function Xt(r){let t=r.split(":");if(t.length!==2)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(t[0].length!==16)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion address.`);let e=V(t[0],"base32"),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let o=j(n);return ae([e,o],e.length+o.length)}function Jt(r){let t=r.split(":");if(t.length!==2)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(t[0].length!==56)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion3 address.`);let e=z.decode(`b${t[0]}`),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let o=j(n);return ae([e,o],e.length+o.length)}function at(r){let t=r.subarray(0,r.length-2),e=r.subarray(r.length-2),n=E(t,"base32"),o=Y(e);return`${n}:${o}`}var ct=function(r){r=r.toString().trim();let t=new Uint8Array(4);return r.split(/\./g).forEach((e,n)=>{let o=parseInt(e,10);if(isNaN(o)||o<0||o>255)throw new x("Invalid byte value in IP address");t[n]=o}),t},Qt=function(r){let t=0;r=r.toString().trim();let e=r.split(":",8),n;for(n=0;n<e.length;n++){let i=ce(e[n]),s;i&&(s=ct(e[n]),e[n]=E(s.subarray(0,2),"base16")),s!=null&&++n<8&&e.splice(n,0,E(s.subarray(2,4),"base16"))}if(e[0]==="")for(;e.length<8;)e.unshift("0");else if(e[e.length-1]==="")for(;e.length<8;)e.push("0");else if(e.length<8){for(n=0;n<e.length&&e[n]!=="";n++);let i=[n,1];for(n=9-e.length;n>0;n--)i.push("0");e.splice.apply(e,i)}let o=new Uint8Array(t+16);for(n=0;n<e.length;n++){e[n]===""&&(e[n]="0");let i=parseInt(e[n],16);if(isNaN(i)||i<0||i>65535)throw new x("Invalid byte value in IP address");o[t++]=i>>8&255,o[t++]=i&255}return o},Kt=function(r){if(r.byteLength!==4)throw new x("IPv4 address was incorrect length");let t=[];for(let e=0;e<r.byteLength;e++)t.push(r[e]);return t.join(".")},Zt=function(r){if(r.byteLength!==16)throw new x("IPv6 address was incorrect length");let t=[];for(let e=0;e<r.byteLength;e+=2)t.push(`${r[e].toString(16)}${r[e+1].toString(16).padStart(2,"0")}`.replace(/^(0+)/,""));return t.join(":").replace(/:(:)+/,"::")};function Yt(r){let t=r.split(":");return t=t.map((e,n)=>{if(n===t.length-1&&ce(e)){let o=e.split(".");return`${parseInt(o[0],10).toString(16)}${parseInt(o[1],10).toString(16).padStart(2,"0")}:${parseInt(o[2],10).toString(16)}${parseInt(o[3],10).toString(16).padStart(2,"0")}`}return e.replace(/^(0+)/,"")}),`${t.join(":")}`.replace(/:(:)+/,"::")}var ot=Object.values(ie).map(r=>r.decoder),Pn=function(){let r=ot[0].or(ot[1]);return ot.slice(2).forEach(t=>r=r.or(t)),r}();function er(r){return Pn.decode(r)}function tr(r){return t=>r.encoder.encode(t)}function rr(r){let t,e;if(r.getComponents().forEach(n=>{(n.name==="ip4"||n.name==="ip6")&&(e=n.value),n.name==="ipcidr"&&(t=n.value)}),t==null||e==null)throw new Error("Invalid multiaddr");return new Z(e,t)}function _n(r){if(parseInt(r).toString()!==r)throw new _("Value must be an integer")}function Nn(r){if(r<0)throw new _("Value must be a positive integer")}function Un(r){return t=>{if(t>r)throw new _(`Value must be smaller than ${r}`)}}function zn(...r){return t=>{for(let e of r)e(t)}}var pe=zn(_n,Nn,Un(65535));var h=-1,dt=class{protocolsByCode=new Map;protocolsByName=new Map;getCodec(t){let e;if(typeof t=="string"?e=this.protocolsByName.get(t):e=this.protocolsByCode.get(t),e==null)throw new xe(`Protocol ${t} was unknown`);return e}addCodec(t,e,n){this.protocolsByCode.set(t,e),this.protocolsByName.set(e.name,e),n?.forEach(o=>{this.protocolsByName.set(o,e)})}deleteCodec(t){let e=this.getCodec(t);e!=null&&(this.protocolsByCode.delete(e.code),this.protocolsByName.delete(e.name),e.aliases?.forEach(n=>{this.protocolsByName.delete(n)}))}},g=new dt,uo=[{code:4,name:"ip4",size:32,valueToBytes:ct,bytesToValue:Kt,validate:r=>{if(!ce(r))throw new _("Invalid ip address")}},{code:6,name:"tcp",size:16,valueToBytes:j,bytesToValue:Y,validate:pe},{code:273,name:"udp",size:16,valueToBytes:j,bytesToValue:Y,validate:pe},{code:33,name:"dccp",size:16,valueToBytes:j,bytesToValue:Y,validate:pe},{code:41,name:"ip6",size:128,valueToBytes:Qt,bytesToValue:Zt,stringToValue:Yt,validate:r=>{if(!$t(r))throw new _("Invalid ip address")}},{code:42,name:"ip6zone",size:h},{code:43,name:"ipcidr",size:8,bytesToValue:it("base10"),valueToBytes:st("base10")},{code:53,name:"dns",size:h,resolvable:!0},{code:54,name:"dns4",size:h,resolvable:!0},{code:55,name:"dns6",size:h,resolvable:!0},{code:56,name:"dnsaddr",size:h,resolvable:!0},{code:132,name:"sctp",size:16,valueToBytes:j,bytesToValue:Y,validate:pe},{code:301,name:"udt"},{code:302,name:"utp"},{code:400,name:"unix",size:h,path:!0,stringToValue:r=>`/${decodeURIComponent(r)}`,valueToString:r=>encodeURIComponent(r.substring(1))},{code:421,name:"p2p",aliases:["ipfs"],size:h,bytesToValue:it("base58btc"),valueToBytes:r=>r.startsWith("Q")||r.startsWith("1")?st("base58btc")(r):B.parse(r).multihash.bytes},{code:444,name:"onion",size:96,bytesToValue:at,valueToBytes:Xt},{code:445,name:"onion3",size:296,bytesToValue:at,valueToBytes:Jt},{code:446,name:"garlic64",size:h},{code:447,name:"garlic32",size:h},{code:448,name:"tls"},{code:449,name:"sni",size:h},{code:454,name:"noise"},{code:460,name:"quic"},{code:461,name:"quic-v1"},{code:465,name:"webtransport"},{code:466,name:"certhash",size:h,bytesToValue:tr(Me),valueToBytes:er},{code:480,name:"http"},{code:481,name:"http-path",size:h,stringToValue:r=>`/${decodeURIComponent(r)}`,valueToString:r=>encodeURIComponent(r.substring(1))},{code:443,name:"https"},{code:477,name:"ws"},{code:478,name:"wss"},{code:479,name:"p2p-websocket-star"},{code:277,name:"p2p-stardust"},{code:275,name:"p2p-webrtc-star"},{code:276,name:"p2p-webrtc-direct"},{code:280,name:"webrtc-direct"},{code:281,name:"webrtc"},{code:290,name:"p2p-circuit"},{code:777,name:"memory",size:h}];uo.forEach(r=>{g.addCodec(r.code,r,r.aliases)});function nr(r){let t=[],e=0;for(;e<r.length;){let n=et(r,e),o=g.getCodec(n),i=J(n),s=lo(o,r,e+i),a=0;s>0&&o.size===h&&(a=J(s));let c=i+a+s,d={code:n,name:o.name,bytes:r.subarray(e,e+c)};if(s>0){let f=e+i+a,A=r.subarray(f,f+s);d.value=o.bytesToValue?.(A)??E(A)}t.push(d),e+=c}return t}function or(r){let t=0,e=[];for(let n of r){if(n.bytes==null){let o=g.getCodec(n.code),i=J(n.code),s,a=0,c=0;n.value!=null&&(s=o.valueToBytes?.(n.value)??V(n.value),a=s.byteLength,o.size===h&&(c=J(a)));let d=new Uint8Array(i+c+a),f=0;Ye(n.code,d,f),f+=i,s!=null&&(o.size===h&&(Ye(a,d,f),f+=c),d.set(s,f)),n.bytes=d}e.push(n.bytes),t+=n.bytes.byteLength}return ae(e,t)}function ir(r){if(r.charAt(0)!=="/")throw new x('String multiaddr must start with "/"');let t=[],e="protocol",n="",o="";for(let i=1;i<r.length;i++){let s=r.charAt(i);s!=="/"&&(e==="protocol"?o+=r.charAt(i):n+=r.charAt(i));let a=i===r.length-1;if(s==="/"||a){let c=g.getCodec(o);if(e==="protocol"){if(c.size==null||c.size===0){t.push({code:c.code,name:c.name}),n="",o="",e="protocol";continue}else if(a)throw new x(`Component ${o} was missing value`);e="value"}else if(e==="value"){let d={code:c.code,name:c.name};if(c.size!=null&&c.size!==0){if(n==="")throw new x(`Component ${o} was missing value`);d.value=c.stringToValue?.(n)??n}t.push(d),n="",o="",e="protocol"}}}if(o!==""&&n!=="")throw new x("Incomplete multiaddr");return t}function sr(r){return`/${r.flatMap(t=>{if(t.value==null)return t.name;let e=g.getCodec(t.code);if(e==null)throw new x(`Unknown protocol code ${t.code}`);return[t.name,e.valueToString?.(t.value)??t.value]}).join("/")}`}function lo(r,t,e){return r.size==null||r.size===0?0:r.size>0?r.size/8:et(t,e)}var fo=Symbol.for("nodejs.util.inspect.custom"),gt=Symbol.for("@multiformats/multiaddr"),ho=[53,54,55,56],xt=class extends Error{constructor(t="No available resolver"){super(t),this.name="NoAvailableResolverError"}};function mo(r){if(r==null&&(r="/"),Ie(r))return r.getComponents();if(r instanceof Uint8Array)return nr(r);if(typeof r=="string")return r=r.replace(/\/(\/)+/,"/").replace(/(\/)+$/,""),r===""&&(r="/"),ir(r);if(Array.isArray(r))return r;throw new x("Must be a string, Uint8Array, Component[], or another Multiaddr")}var le=class r{[gt]=!0;#e;#t;#r;constructor(t="/"){this.#e=mo(t)}get bytes(){return this.#r==null&&(this.#r=or(this.#e)),this.#r}toString(){return this.#t==null&&(this.#t=sr(this.#e)),this.#t}toJSON(){return this.toString()}toOptions(){let t,e,n,o,i="";for(let{code:a,name:c,value:d}of this.#e)a===42&&(i=`%${d??""}`),ho.includes(a)&&(e="tcp",o=443,n=`${d??""}${i}`,t=a===55?6:4),(a===6||a===273)&&(e=c==="tcp"?"tcp":"udp",o=parseInt(d??"")),(a===4||a===41)&&(e="tcp",n=`${d??""}${i}`,t=a===41?6:4);if(t==null||e==null||n==null||o==null)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:t,host:n,transport:e,port:o}}getComponents(){return[...this.#e]}protos(){return this.#e.map(({code:t,value:e})=>{let n=g.getCodec(t);return{code:t,size:n.size??0,name:n.name,resolvable:!!n.resolvable,path:!!n.path}})}protoCodes(){return this.#e.map(({code:t})=>t)}protoNames(){return this.#e.map(({name:t})=>t)}tuples(){return this.#e.map(({code:t,value:e})=>{if(e==null)return[t];let n=g.getCodec(t),o=[t];return e!=null&&o.push(n.valueToBytes?.(e)??V(e)),o})}stringTuples(){return this.#e.map(({code:t,value:e})=>e==null?[t]:[t,e])}encapsulate(t){let e=new r(t);return new r([...this.#e,...e.getComponents()])}decapsulate(t){let e=t.toString(),n=this.toString(),o=n.lastIndexOf(e);if(o<0)throw new k(`Address ${this.toString()} does not contain subaddress: ${t.toString()}`);return new r(n.slice(0,o))}decapsulateCode(t){let e;for(let n=this.#e.length-1;n>-1;n--)if(this.#e[n].code===t){e=n;break}return new r(this.#e.slice(0,e))}getPeerId(){try{let t=[];this.#e.forEach(({code:n,value:o})=>{n===421&&t.push([n,o]),n===290&&(t=[])});let e=t.pop();if(e?.[1]!=null){let n=e[1];return n[0]==="Q"||n[0]==="1"?E(C.decode(`z${n}`),"base58btc"):E(B.parse(n).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){for(let t of this.#e)if(g.getCodec(t.code).path)return t.value??null;return null}equals(t){return kt(this.bytes,t.bytes)}async resolve(t){let e=this.protos().find(i=>i.resolvable);if(e==null)return[this];let n=wt.get(e.name);if(n==null)throw new xt(`no available resolver for ${e.name}`);return(await n(this,t)).map(i=>F(i))}nodeAddress(){let t=this.toOptions();if(t.transport!=="tcp"&&t.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${t.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:t.family,address:t.host,port:t.port}}isThinWaistAddress(){return!(this.#e.length!==2||this.#e[0].code!==4&&this.#e[0].code!==41||this.#e[1].code!==6&&this.#e[1].code!==273)}[fo](){return`Multiaddr(${this.toString()})`}};function ar(r){r.getComponents().forEach(t=>{let e=g.getCodec(t.code);t.value!=null&&e.validate?.(t.value)})}var De=class{multiaddr;netmask;constructor(t){this.multiaddr=F(t),this.netmask=rr(this.multiaddr)}contains(t){if(t==null)return!1;let e=F(t),n;for(let[o,i]of e.stringTuples())if(o===4||o===41){n=i;break}return n===void 0?!1:this.netmask.contains(n)}};var wt=new Map;function xo(r,t){if(r==null)throw new k("requires node address object");if(t==null)throw new k("requires transport protocol");let e,n=r.address;switch(r.family){case 4:e="ip4";break;case 6:if(e="ip6",n.includes("%")){let o=n.split("%");if(o.length!==2)throw Error("Multiple ip6 zones in multiaddr");n=o[0],e=`ip6zone/${o[1]}/ip6`}break;default:throw Error("Invalid addr family, should be 4 or 6.")}return new le("/"+[e,n,t,r.port].join("/"))}function go(r){return F(r.map(([t,e])=>{let n=g.getCodec(t),o={code:t,name:n.name};return e!=null&&(o.value=n.bytesToValue?.(e)??E(e)),o}))}function wo(r){return F(r.map(([t,e])=>{let n=g.getCodec(t),o={code:t,name:n.name};return e!=null&&(o.value=e),o}))}function bo(r){return Ie(r)?r.protos().some(t=>t.resolvable):!1}function Ie(r){return!!r?.[gt]}function F(r){return new le(r)}function yo(r){let t=g.getCodec(r);return{code:t.code,size:t.size??0,name:t.name,resolvable:!!t.resolvable,path:!!t.path}}return fr(Co);})();
 return MultiformatsMultiaddr}));
 //# sourceMappingURL=index.min.js.map
diff --git a/node_modules/@multiformats/multiaddr/dist/index.min.js.map b/node_modules/@multiformats/multiaddr/dist/index.min.js.map
index b6f0756..47faa28 100644
--- a/node_modules/@multiformats/multiaddr/dist/index.min.js.map
+++ b/node_modules/@multiformats/multiaddr/dist/index.min.js.map
@@ -1,7 +1,7 @@
 {
   "version": 3,
-  "sources": ["../src/index.ts", "../node_modules/uint8arrays/src/alloc.ts", "../node_modules/uint8-varint/src/index.ts", "../node_modules/uint8arrays/src/concat.ts", "../node_modules/multiformats/src/bases/base10.ts", "../node_modules/multiformats/src/bytes.ts", "../node_modules/multiformats/src/vendor/base-x.js", "../node_modules/multiformats/src/bases/base.ts", "../node_modules/multiformats/src/bases/base16.ts", "../node_modules/multiformats/src/bases/base2.ts", "../node_modules/multiformats/src/bases/base256emoji.ts", "../node_modules/multiformats/src/bases/base32.ts", "../node_modules/multiformats/src/bases/base36.ts", "../node_modules/multiformats/src/bases/base58.ts", "../node_modules/multiformats/src/bases/base64.ts", "../node_modules/multiformats/src/bases/base8.ts", "../node_modules/multiformats/src/bases/identity.ts", "../node_modules/multiformats/src/codecs/json.ts", "../node_modules/multiformats/src/hashes/identity.ts", "../node_modules/multiformats/src/vendor/varint.js", "../node_modules/multiformats/src/varint.ts", "../node_modules/multiformats/src/hashes/digest.ts", "../node_modules/multiformats/src/hashes/sha2-browser.ts", "../node_modules/multiformats/src/hashes/hasher.ts", "../node_modules/multiformats/src/cid.ts", "../node_modules/multiformats/src/basics.ts", "../node_modules/uint8arrays/src/util/bases.ts", "../node_modules/uint8arrays/src/to-string.ts", "../node_modules/@chainsafe/is-ip/src/parser.ts", "../node_modules/@chainsafe/is-ip/src/parse.ts", "../node_modules/@chainsafe/netmask/src/util.ts", "../node_modules/@chainsafe/netmask/src/ip.ts", "../node_modules/@chainsafe/netmask/src/cidr.ts", "../node_modules/@chainsafe/netmask/src/ipnet.ts", "../node_modules/uint8arrays/src/from-string.ts", "../node_modules/@chainsafe/is-ip/src/is-ip.ts", "../src/ip.ts", "../src/protocols-table.ts", "../src/convert.ts", "../src/codec.ts", "../node_modules/uint8arrays/src/equals.ts", "../src/multiaddr.ts", "../src/filter/multiaddr-filter.ts"],
-  "sourcesContent": ["/**\n * @packageDocumentation\n *\n * A standard way to represent addresses that\n *\n * - support any standard network protocol\n * - are self-describing\n * - have a binary packed format\n * - have a nice string representation\n * - encapsulate well\n *\n * @example\n *\n * ```TypeScript\n * import { multiaddr } from '@multiformats/multiaddr'\n *\n * const addr = multiaddr('/ip4/127.0.0.1/udp/1234')\n * // Multiaddr(/ip4/127.0.0.1/udp/1234)\n *\n * addr.bytes\n * // <Uint8Array 04 7f 00 00 01 11 04 d2>\n *\n * addr.toString()\n * // '/ip4/127.0.0.1/udp/1234'\n *\n * addr.protos()\n * // [\n * //   {code: 4, name: 'ip4', size: 32},\n * //   {code: 273, name: 'udp', size: 16}\n * // ]\n *\n * // gives you an object that is friendly with what Node.js core modules expect for addresses\n * addr.nodeAddress()\n * // {\n * //   family: 4,\n * //   port: 1234,\n * //   address: \"127.0.0.1\"\n * // }\n *\n * addr.encapsulate('/sctp/5678')\n * // Multiaddr(/ip4/127.0.0.1/udp/1234/sctp/5678)\n * ```\n *\n * ## Resolving DNSADDR addresses\n *\n * [DNSADDR](https://github.com/multiformats/multiaddr/blob/master/protocols/DNSADDR.md) is a spec that allows storing a TXT DNS record that contains a Multiaddr.\n *\n * To resolve DNSADDR addresses, call the `.resolve()` function the multiaddr, optionally passing a `DNS` resolver.\n *\n * DNSADDR addresses can resolve to multiple multiaddrs, since there is no limit to the number of TXT records that can be stored.\n *\n * @example Resolving DNSADDR Multiaddrs\n *\n * ```TypeScript\n * import { multiaddr, resolvers } from '@multiformats/multiaddr'\n * import { dnsaddrResolver } from '@multiformats/multiaddr/resolvers'\n *\n * resolvers.set('dnsaddr', dnsaddrResolver)\n *\n * const ma = multiaddr('/dnsaddr/bootstrap.libp2p.io')\n *\n * // resolve with a 5s timeout\n * const resolved = await ma.resolve({\n *   signal: AbortSignal.timeout(5000)\n * })\n *\n * console.info(resolved)\n * // [Multiaddr('/ip4/147.75...'), Multiaddr('/ip4/147.75...'), Multiaddr('/ip4/147.75...')...]\n * ```\n *\n * @example Using a custom DNS resolver to resolve DNSADDR Multiaddrs\n *\n * See the docs for [@multiformats/dns](https://www.npmjs.com/package/@multiformats/dns) for a full breakdown of how to specify multiple resolvers or resolvers that can be used for specific TLDs.\n *\n * ```TypeScript\n * import { multiaddr } from '@multiformats/multiaddr'\n * import { dns } from '@multiformats/dns'\n * import { dnsJsonOverHttps } from '@multiformats/dns/resolvers'\n *\n * const resolver = dns({\n *   resolvers: {\n *     '.': dnsJsonOverHttps('https://cloudflare-dns.com/dns-query')\n *   }\n * })\n *\n * const ma = multiaddr('/dnsaddr/bootstrap.libp2p.io')\n * const resolved = await ma.resolve({\n *  dns: resolver\n * })\n *\n * console.info(resolved)\n * // [Multiaddr('/ip4/147.75...'), Multiaddr('/ip4/147.75...'), Multiaddr('/ip4/147.75...')...]\n * ```\n */\n\nimport { stringTuplesToTuples, tuplesToBytes } from './codec.js'\nimport { Multiaddr as MultiaddrClass, symbol } from './multiaddr.js'\nimport { getProtocol } from './protocols-table.js'\nimport type { Resolver } from './resolvers/index.js'\nimport type { DNS } from '@multiformats/dns'\n\n/**\n * Protocols are present in the protocol table\n */\nexport interface Protocol {\n  code: number\n  size: number\n  name: string\n  resolvable?: boolean | undefined\n  path?: boolean | undefined\n}\n\n/**\n * A plain JavaScript object representation of a {@link Multiaddr}\n */\nexport interface MultiaddrObject {\n  family: 4 | 6\n  host: string\n  transport: 'tcp' | 'udp'\n  port: number\n}\n\n/**\n * A NodeAddress is an IPv4/IPv6 address/TCP port combination\n */\nexport interface NodeAddress {\n  family: 4 | 6\n  address: string\n  port: number\n}\n\n/**\n * These types can be parsed into a {@link Multiaddr} object\n */\nexport type MultiaddrInput = string | Multiaddr | Uint8Array | null\n\n/**\n * A code/value pair\n */\nexport type Tuple = [number, Uint8Array?]\n\n/**\n * A code/value pair with the value as a string\n */\nexport type StringTuple = [number, string?]\n\n/**\n * Allows aborting long-lived operations\n */\nexport interface AbortOptions {\n  signal?: AbortSignal\n}\n\n/**\n * All configured {@link Resolver}s\n */\nexport const resolvers = new Map<string, Resolver>()\n\nexport type { Resolver }\n\nexport { MultiaddrFilter } from './filter/multiaddr-filter.js'\n\nexport interface ResolveOptions extends AbortOptions {\n  /**\n   * An optional DNS resolver\n   */\n  dns?: DNS\n\n  /**\n   * When resolving DNSADDR Multiaddrs that resolve to other DNSADDR Multiaddrs,\n   * limit how many times we will recursively resolve them.\n   *\n   * @default 32\n   */\n  maxRecursiveDepth?: number\n}\n\nexport interface Multiaddr {\n  bytes: Uint8Array\n\n  /**\n   * Returns Multiaddr as a String\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/4001').toString()\n   * // '/ip4/127.0.0.1/tcp/4001'\n   * ```\n   */\n  toString(): string\n\n  /**\n   * Returns Multiaddr as a JSON encoded object\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * JSON.stringify(multiaddr('/ip4/127.0.0.1/tcp/4001'))\n   * // '/ip4/127.0.0.1/tcp/4001'\n   * ```\n   */\n  toJSON(): string\n\n  /**\n   * Returns Multiaddr as a convinient options object to be used with net.createConnection\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/4001').toOptions()\n   * // { family: 4, host: '127.0.0.1', transport: 'tcp', port: 4001 }\n   * ```\n   */\n  toOptions(): MultiaddrObject\n\n  /**\n   * Returns the protocols the Multiaddr is defined with, as an array of objects, in\n   * left-to-right order. Each object contains the protocol code, protocol name,\n   * and the size of its address space in bits.\n   * [See list of protocols](https://github.com/multiformats/multiaddr/blob/master/protocols.csv)\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/4001').protos()\n   * // [ { code: 4, size: 32, name: 'ip4' },\n   * //   { code: 6, size: 16, name: 'tcp' } ]\n   * ```\n   */\n  protos(): Protocol[]\n\n  /**\n   * Returns the codes of the protocols in left-to-right order.\n   * [See list of protocols](https://github.com/multiformats/multiaddr/blob/master/protocols.csv)\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/4001').protoCodes()\n   * // [ 4, 6 ]\n   * ```\n   */\n  protoCodes(): number[]\n\n  /**\n   * Returns the names of the protocols in left-to-right order.\n   * [See list of protocols](https://github.com/multiformats/multiaddr/blob/master/protocols.csv)\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/4001').protoNames()\n   * // [ 'ip4', 'tcp' ]\n   * ```\n   */\n  protoNames(): string[]\n\n  /**\n   * Returns a tuple of parts\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/4001').tuples()\n   * // [ [ 4, <Buffer 7f 00 00 01> ], [ 6, <Buffer 0f a1> ] ]\n   * ```\n   */\n  tuples(): Tuple[]\n\n  /**\n   * Returns a tuple of string/number parts\n   * - tuples[][0] = code of protocol\n   * - tuples[][1] = contents of address\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/4001').stringTuples()\n   * // [ [ 4, '127.0.0.1' ], [ 6, '4001' ] ]\n   * ```\n   */\n  stringTuples(): StringTuple[]\n\n  /**\n   * Encapsulates a Multiaddr in another Multiaddr\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * const mh1 = multiaddr('/ip4/8.8.8.8/tcp/1080')\n   * // Multiaddr(/ip4/8.8.8.8/tcp/1080)\n   *\n   * const mh2 = multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // Multiaddr(/ip4/127.0.0.1/tcp/4001)\n   *\n   * const mh3 = mh1.encapsulate(mh2)\n   * // Multiaddr(/ip4/8.8.8.8/tcp/1080/ip4/127.0.0.1/tcp/4001)\n   *\n   * mh3.toString()\n   * // '/ip4/8.8.8.8/tcp/1080/ip4/127.0.0.1/tcp/4001'\n   * ```\n   *\n   * @param {MultiaddrInput} addr - Multiaddr to add into this Multiaddr\n   */\n  encapsulate(addr: MultiaddrInput): Multiaddr\n\n  /**\n   * Decapsulates a Multiaddr from another Multiaddr\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * const mh1 = multiaddr('/ip4/8.8.8.8/tcp/1080')\n   * // Multiaddr(/ip4/8.8.8.8/tcp/1080)\n   *\n   * const mh2 = multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // Multiaddr(/ip4/127.0.0.1/tcp/4001)\n   *\n   * const mh3 = mh1.encapsulate(mh2)\n   * // Multiaddr(/ip4/8.8.8.8/tcp/1080/ip4/127.0.0.1/tcp/4001)\n   *\n   * mh3.decapsulate(mh2).toString()\n   * // '/ip4/8.8.8.8/tcp/1080'\n   * ```\n   *\n   * @param {Multiaddr | string} addr - Multiaddr to remove from this Multiaddr\n   */\n  decapsulate(addr: Multiaddr | string): Multiaddr\n\n  /**\n   * A more reliable version of `decapsulate` if you are targeting a\n   * specific code, such as 421 (the `p2p` protocol code). The last index of the code\n   * will be removed from the `Multiaddr`, and a new instance will be returned.\n   * If the code is not present, the original `Multiaddr` is returned.\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * const addr = multiaddr('/ip4/0.0.0.0/tcp/8080/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC')\n   * // Multiaddr(/ip4/0.0.0.0/tcp/8080/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC)\n   *\n   * addr.decapsulateCode(421).toString()\n   * // '/ip4/0.0.0.0/tcp/8080'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/8080').decapsulateCode(421).toString()\n   * // '/ip4/127.0.0.1/tcp/8080'\n   * ```\n   */\n  decapsulateCode(code: number): Multiaddr\n\n  /**\n   * Extract the peerId if the multiaddr contains one\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * const mh1 = multiaddr('/ip4/8.8.8.8/tcp/1080/ipfs/QmValidBase58string')\n   * // Multiaddr(/ip4/8.8.8.8/tcp/1080/ipfs/QmValidBase58string)\n   *\n   * // should return QmValidBase58string or null if the id is missing or invalid\n   * const peerId = mh1.getPeerId()\n   * ```\n   */\n  getPeerId(): string | null\n\n  /**\n   * Extract the path if the multiaddr contains one\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * const mh1 = multiaddr('/ip4/8.8.8.8/tcp/1080/unix/tmp/p2p.sock')\n   * // Multiaddr(/ip4/8.8.8.8/tcp/1080/unix/tmp/p2p.sock)\n   *\n   * // should return utf8 string or null if the id is missing or invalid\n   * const path = mh1.getPath()\n   * ```\n   */\n  getPath(): string | null\n\n  /**\n   * Checks if two Multiaddrs are the same\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * const mh1 = multiaddr('/ip4/8.8.8.8/tcp/1080')\n   * // Multiaddr(/ip4/8.8.8.8/tcp/1080)\n   *\n   * const mh2 = multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // Multiaddr(/ip4/127.0.0.1/tcp/4001)\n   *\n   * mh1.equals(mh1)\n   * // true\n   *\n   * mh1.equals(mh2)\n   * // false\n   * ```\n   */\n  equals(addr: { bytes: Uint8Array }): boolean\n\n  /**\n   * Resolve multiaddr if containing resolvable hostname.\n   *\n   * @example\n   * ```js\n   * import { multiaddr, resolvers } from '@multiformats/multiaddr'\n   *\n   * resolvers.set('dnsaddr', resolverFunction)\n   * const mh1 = multiaddr('/dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb')\n   * const resolvedMultiaddrs = await mh1.resolve()\n   * // [\n   * //   Multiaddr(/ip4/147.75.83.83/tcp/4001/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb),\n   * //   Multiaddr(/ip4/147.75.83.83/tcp/443/wss/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb),\n   * //   Multiaddr(/ip4/147.75.83.83/udp/4001/quic/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb)\n   * // ]\n   * ```\n   */\n  resolve(options?: ResolveOptions): Promise<Multiaddr[]>\n\n  /**\n   * Gets a Multiaddrs node-friendly address object. Note that protocol information\n   * is left out: in Node (and most network systems) the protocol is unknowable\n   * given only the address.\n   *\n   * Has to be a ThinWaist Address, otherwise throws error\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/4001').nodeAddress()\n   * // {family: 4, address: '127.0.0.1', port: 4001}\n   * ```\n   */\n  nodeAddress(): NodeAddress\n\n  /**\n   * Returns if a Multiaddr is a Thin Waist address or not.\n   *\n   * Thin Waist is if a Multiaddr adheres to the standard combination of:\n   *\n   * `{IPv4, IPv6}/{TCP, UDP}`\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * const mh1 = multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // Multiaddr(/ip4/127.0.0.1/tcp/4001)\n   * const mh2 = multiaddr('/ip4/192.168.2.1/tcp/5001')\n   * // Multiaddr(/ip4/192.168.2.1/tcp/5001)\n   * const mh3 = mh1.encapsulate(mh2)\n   * // Multiaddr(/ip4/127.0.0.1/tcp/4001/ip4/192.168.2.1/tcp/5001)\n   * const mh4 = multiaddr('/ip4/127.0.0.1/tcp/2000/wss/p2p-webrtc-star/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSooo2a')\n   * // Multiaddr(/ip4/127.0.0.1/tcp/2000/wss/p2p-webrtc-star/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSooo2a)\n   * mh1.isThinWaistAddress()\n   * // true\n   * mh2.isThinWaistAddress()\n   * // true\n   * mh3.isThinWaistAddress()\n   * // false\n   * mh4.isThinWaistAddress()\n   * // false\n   * ```\n   */\n  isThinWaistAddress(addr?: Multiaddr): boolean\n}\n\n/**\n * Creates a Multiaddr from a node-friendly address object\n *\n * @example\n * ```js\n * import { fromNodeAddress } from '@multiformats/multiaddr'\n *\n * fromNodeAddress({address: '127.0.0.1', port: '4001'}, 'tcp')\n * // Multiaddr(/ip4/127.0.0.1/tcp/4001)\n * ```\n */\nexport function fromNodeAddress (addr: NodeAddress, transport: string): Multiaddr {\n  if (addr == null) {\n    throw new Error('requires node address object')\n  }\n  if (transport == null) {\n    throw new Error('requires transport protocol')\n  }\n  let ip: string | undefined\n  let host = addr.address\n  switch (addr.family) {\n    case 4:\n      ip = 'ip4'\n      break\n    case 6:\n      ip = 'ip6'\n\n      if (host.includes('%')) {\n        const parts = host.split('%')\n\n        if (parts.length !== 2) {\n          throw Error('Multiple ip6 zones in multiaddr')\n        }\n\n        host = parts[0]\n        const zone = parts[1]\n        ip = `/ip6zone/${zone}/ip6`\n      }\n      break\n    default:\n      throw Error('Invalid addr family, should be 4 or 6.')\n  }\n  return new MultiaddrClass('/' + [ip, host, transport, addr.port].join('/'))\n}\n\n/**\n * Create a {@link Multiaddr} from an array of {@link Tuple}s\n *\n * @example\n *\n * ```ts\n * import { fromTuples, multiaddr } from '@multiformats/multiaddr'\n *\n * const ma = multiaddr('/ip4/127.0.0.1')\n * const tuples = ma.tuples()\n *\n * const ma2 = fromTuples(tuples)\n *\n * console.info(ma2)\n * // '/ip4/127.0.0.1'\n * ```\n */\nexport function fromTuples (tuples: Tuple[]): Multiaddr {\n  return multiaddr(tuplesToBytes(tuples))\n}\n\n/**\n * Create a {@link Multiaddr} from an array of {@link StringTuple}s\n *\n * @example\n *\n * ```ts\n * import { fromStringTuples, multiaddr } from '@multiformats/multiaddr'\n *\n * const ma = multiaddr('/ip4/127.0.0.1')\n * const tuples = ma.stringTuples()\n *\n * const ma2 = fromStringTuples(tuples)\n *\n * console.info(ma2)\n * // '/ip4/127.0.0.1'\n * ```\n */\nexport function fromStringTuples (tuples: StringTuple[]): Multiaddr {\n  return fromTuples(stringTuplesToTuples(tuples))\n}\n\n/**\n * Returns if something is a {@link Multiaddr} that is a resolvable name\n *\n * @example\n *\n * ```js\n * import { isName, multiaddr } from '@multiformats/multiaddr'\n *\n * isName(multiaddr('/ip4/127.0.0.1'))\n * // false\n * isName(multiaddr('/dns/ipfs.io'))\n * // true\n * ```\n */\nexport function isName (addr: Multiaddr): boolean {\n  if (!isMultiaddr(addr)) {\n    return false\n  }\n\n  // if a part of the multiaddr is resolvable, then return true\n  return addr.protos().some((proto) => proto.resolvable)\n}\n\n/**\n * Check if object is a {@link Multiaddr} instance\n *\n * @example\n *\n * ```js\n * import { isMultiaddr, multiaddr } from '@multiformats/multiaddr'\n *\n * isMultiaddr(5)\n * // false\n * isMultiaddr(multiaddr('/ip4/127.0.0.1'))\n * // true\n * ```\n */\nexport function isMultiaddr (value: any): value is Multiaddr {\n  return Boolean(value?.[symbol])\n}\n\n/**\n * A function that takes a {@link MultiaddrInput} and returns a {@link Multiaddr}\n *\n * @example\n * ```js\n * import { multiaddr } from '@libp2p/multiaddr'\n *\n * multiaddr('/ip4/127.0.0.1/tcp/4001')\n * // Multiaddr(/ip4/127.0.0.1/tcp/4001)\n * ```\n *\n * @param {MultiaddrInput} [addr] - If String or Uint8Array, needs to adhere to the address format of a [multiaddr](https://github.com/multiformats/multiaddr#string-format)\n */\nexport function multiaddr (addr?: MultiaddrInput): Multiaddr {\n  return new MultiaddrClass(addr)\n}\n\nexport { getProtocol as protocols }\n", "/**\n * Returns a `Uint8Array` of the requested size. Referenced memory will\n * be initialized to 0.\n */\nexport function alloc (size: number = 0): Uint8Array {\n  return new Uint8Array(size)\n}\n\n/**\n * Where possible returns a Uint8Array of the requested size that references\n * uninitialized memory. Only use if you are certain you will immediately\n * overwrite every value in the returned `Uint8Array`.\n */\nexport function allocUnsafe (size: number = 0): Uint8Array {\n  return new Uint8Array(size)\n}\n", "/* eslint-disable no-fallthrough */\nimport { allocUnsafe } from 'uint8arrays/alloc'\nimport type { Uint8ArrayList } from 'uint8arraylist'\n\nconst N1 = Math.pow(2, 7)\nconst N2 = Math.pow(2, 14)\nconst N3 = Math.pow(2, 21)\nconst N4 = Math.pow(2, 28)\nconst N5 = Math.pow(2, 35)\nconst N6 = Math.pow(2, 42)\nconst N7 = Math.pow(2, 49)\n\n/** Most significant bit of a byte */\nconst MSB = 0x80\n/** Rest of the bits in a byte */\nconst REST = 0x7f\n\nexport function encodingLength (value: number): number {\n  if (value < N1) {\n    return 1\n  }\n\n  if (value < N2) {\n    return 2\n  }\n\n  if (value < N3) {\n    return 3\n  }\n\n  if (value < N4) {\n    return 4\n  }\n\n  if (value < N5) {\n    return 5\n  }\n\n  if (value < N6) {\n    return 6\n  }\n\n  if (value < N7) {\n    return 7\n  }\n\n  if (Number.MAX_SAFE_INTEGER != null && value > Number.MAX_SAFE_INTEGER) {\n    throw new RangeError('Could not encode varint')\n  }\n\n  return 8\n}\n\nexport function encodeUint8Array (value: number, buf: Uint8Array, offset: number = 0): Uint8Array {\n  switch (encodingLength(value)) {\n    case 8: {\n      buf[offset++] = (value & 0xFF) | MSB\n      value /= 128\n    }\n    case 7: {\n      buf[offset++] = (value & 0xFF) | MSB\n      value /= 128\n    }\n    case 6: {\n      buf[offset++] = (value & 0xFF) | MSB\n      value /= 128\n    }\n    case 5: {\n      buf[offset++] = (value & 0xFF) | MSB\n      value /= 128\n    }\n    case 4: {\n      buf[offset++] = (value & 0xFF) | MSB\n      value >>>= 7\n    }\n    case 3: {\n      buf[offset++] = (value & 0xFF) | MSB\n      value >>>= 7\n    }\n    case 2: {\n      buf[offset++] = (value & 0xFF) | MSB\n      value >>>= 7\n    }\n    case 1: {\n      buf[offset++] = (value & 0xFF)\n      value >>>= 7\n      break\n    }\n    default: throw new Error('unreachable')\n  }\n  return buf\n}\n\nexport function encodeUint8ArrayList (value: number, buf: Uint8ArrayList, offset: number = 0): Uint8ArrayList {\n  switch (encodingLength(value)) {\n    case 8: {\n      buf.set(offset++, (value & 0xFF) | MSB)\n      value /= 128\n    }\n    case 7: {\n      buf.set(offset++, (value & 0xFF) | MSB)\n      value /= 128\n    }\n    case 6: {\n      buf.set(offset++, (value & 0xFF) | MSB)\n      value /= 128\n    }\n    case 5: {\n      buf.set(offset++, (value & 0xFF) | MSB)\n      value /= 128\n    }\n    case 4: {\n      buf.set(offset++, (value & 0xFF) | MSB)\n      value >>>= 7\n    }\n    case 3: {\n      buf.set(offset++, (value & 0xFF) | MSB)\n      value >>>= 7\n    }\n    case 2: {\n      buf.set(offset++, (value & 0xFF) | MSB)\n      value >>>= 7\n    }\n    case 1: {\n      buf.set(offset++, (value & 0xFF))\n      value >>>= 7\n      break\n    }\n    default: throw new Error('unreachable')\n  }\n  return buf\n}\n\nexport function decodeUint8Array (buf: Uint8Array, offset: number): number {\n  let b = buf[offset]\n  let res = 0\n\n  res += b & REST\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf[offset + 1]\n  res += (b & REST) << 7\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf[offset + 2]\n  res += (b & REST) << 14\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf[offset + 3]\n  res += (b & REST) << 21\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf[offset + 4]\n  res += (b & REST) * N4\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf[offset + 5]\n  res += (b & REST) * N5\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf[offset + 6]\n  res += (b & REST) * N6\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf[offset + 7]\n  res += (b & REST) * N7\n  if (b < MSB) {\n    return res\n  }\n\n  throw new RangeError('Could not decode varint')\n}\n\nexport function decodeUint8ArrayList (buf: Uint8ArrayList, offset: number): number {\n  let b = buf.get(offset)\n  let res = 0\n\n  res += b & REST\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf.get(offset + 1)\n  res += (b & REST) << 7\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf.get(offset + 2)\n  res += (b & REST) << 14\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf.get(offset + 3)\n  res += (b & REST) << 21\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf.get(offset + 4)\n  res += (b & REST) * N4\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf.get(offset + 5)\n  res += (b & REST) * N5\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf.get(offset + 6)\n  res += (b & REST) * N6\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf.get(offset + 7)\n  res += (b & REST) * N7\n  if (b < MSB) {\n    return res\n  }\n\n  throw new RangeError('Could not decode varint')\n}\n\nexport function encode (value: number): Uint8Array\nexport function encode (value: number, buf: Uint8Array, offset?: number): Uint8Array\nexport function encode (value: number, buf: Uint8ArrayList, offset?: number): Uint8ArrayList\nexport function encode <T extends Uint8Array | Uint8ArrayList = Uint8Array> (value: number, buf?: T, offset: number = 0): T {\n  if (buf == null) {\n    buf = allocUnsafe(encodingLength(value)) as T\n  }\n  if (buf instanceof Uint8Array) {\n    return encodeUint8Array(value, buf, offset) as T\n  } else {\n    return encodeUint8ArrayList(value, buf, offset) as T\n  }\n}\n\nexport function decode (buf: Uint8ArrayList | Uint8Array, offset: number = 0): number {\n  if (buf instanceof Uint8Array) {\n    return decodeUint8Array(buf, offset)\n  } else {\n    return decodeUint8ArrayList(buf, offset)\n  }\n}\n", "import { allocUnsafe } from '#alloc'\nimport { asUint8Array } from '#util/as-uint8array'\n\n/**\n * Returns a new Uint8Array created by concatenating the passed Uint8Arrays\n */\nexport function concat (arrays: Uint8Array[], length?: number): Uint8Array {\n  if (length == null) {\n    length = arrays.reduce((acc, curr) => acc + curr.length, 0)\n  }\n\n  const output = allocUnsafe(length)\n  let offset = 0\n\n  for (const arr of arrays) {\n    output.set(arr, offset)\n    offset += arr.length\n  }\n\n  return asUint8Array(output)\n}\n", "import { baseX } from './base.js'\n\nexport const base10 = baseX({\n  prefix: '9',\n  name: 'base10',\n  alphabet: '0123456789'\n})\n", "export const empty = new Uint8Array(0)\n\nexport function toHex (d: Uint8Array): string {\n  return d.reduce((hex, byte) => hex + byte.toString(16).padStart(2, '0'), '')\n}\n\nexport function fromHex (hex: string): Uint8Array {\n  const hexes = hex.match(/../g)\n  return hexes != null ? new Uint8Array(hexes.map(b => parseInt(b, 16))) : empty\n}\n\nexport function equals (aa: Uint8Array, bb: Uint8Array): boolean {\n  if (aa === bb) { return true }\n  if (aa.byteLength !== bb.byteLength) {\n    return false\n  }\n\n  for (let ii = 0; ii < aa.byteLength; ii++) {\n    if (aa[ii] !== bb[ii]) {\n      return false\n    }\n  }\n\n  return true\n}\n\nexport function coerce (o: ArrayBufferView | ArrayBuffer | Uint8Array): Uint8Array {\n  if (o instanceof Uint8Array && o.constructor.name === 'Uint8Array') { return o }\n  if (o instanceof ArrayBuffer) { return new Uint8Array(o) }\n  if (ArrayBuffer.isView(o)) {\n    return new Uint8Array(o.buffer, o.byteOffset, o.byteLength)\n  }\n  throw new Error('Unknown type, must be binary type')\n}\n\nexport function isBinary (o: unknown): o is ArrayBuffer | ArrayBufferView {\n  return o instanceof ArrayBuffer || ArrayBuffer.isView(o)\n}\n\nexport function fromString (str: string): Uint8Array {\n  return new TextEncoder().encode(str)\n}\n\nexport function toString (b: Uint8Array): string {\n  return new TextDecoder().decode(b)\n}\n", "/* eslint-disable */\n// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\n/**\n * @param {string} ALPHABET\n * @param {any} name\n */\nfunction base (ALPHABET, name) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256);\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255;\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i);\n    var xc = x.charCodeAt(0);\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i;\n  }\n  var BASE = ALPHABET.length;\n  var LEADER = ALPHABET.charAt(0);\n  var FACTOR = Math.log(BASE) / Math.log(256); // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE); // log(256) / log(BASE), rounded up\n  /**\n   * @param {any[] | Iterable<number>} source\n   */\n  function encode (source) {\n    // @ts-ignore\n    if (source instanceof Uint8Array) ; else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source);\n    }\n    if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0;\n    var length = 0;\n    var pbegin = 0;\n    var pend = source.length;\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++;\n      zeroes++;\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0;\n    var b58 = new Uint8Array(size);\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin];\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0;\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0;\n        b58[it1] = (carry % BASE) >>> 0;\n        carry = (carry / BASE) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      pbegin++;\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length;\n    while (it2 !== size && b58[it2] === 0) {\n      it2++;\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes);\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]); }\n    return str\n  }\n  /**\n   * @param {string | string[]} source\n   */\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return new Uint8Array() }\n    var psz = 0;\n        // Skip leading spaces.\n    if (source[psz] === ' ') { return }\n        // Skip and count leading '1's.\n    var zeroes = 0;\n    var length = 0;\n    while (source[psz] === LEADER) {\n      zeroes++;\n      psz++;\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0; // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size);\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)];\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0;\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0;\n        b256[it3] = (carry % 256) >>> 0;\n        carry = (carry / 256) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      psz++;\n    }\n        // Skip trailing spaces.\n    if (source[psz] === ' ') { return }\n        // Skip leading zeroes in b256.\n    var it4 = size - length;\n    while (it4 !== size && b256[it4] === 0) {\n      it4++;\n    }\n    var vch = new Uint8Array(zeroes + (size - it4));\n    var j = zeroes;\n    while (it4 !== size) {\n      vch[j++] = b256[it4++];\n    }\n    return vch\n  }\n  /**\n   * @param {string | string[]} string\n   */\n  function decode (string) {\n    var buffer = decodeUnsafe(string);\n    if (buffer) { return buffer }\n    throw new Error(`Non-${name} character`)\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nvar src = base;\n\nvar _brrp__multiformats_scope_baseX = src;\n\nexport default _brrp__multiformats_scope_baseX;\n", "import { coerce } from '../bytes.js'\nimport basex from '../vendor/base-x.js'\nimport type { BaseCodec, BaseDecoder, BaseEncoder, CombobaseDecoder, Multibase, MultibaseCodec, MultibaseDecoder, MultibaseEncoder, UnibaseDecoder } from './interface.js'\n\ninterface EncodeFn { (bytes: Uint8Array): string }\ninterface DecodeFn { (text: string): Uint8Array }\n\n/**\n * Class represents both BaseEncoder and MultibaseEncoder meaning it\n * can be used to encode to multibase or base encode without multibase\n * prefix.\n */\nclass Encoder<Base extends string, Prefix extends string> implements MultibaseEncoder<Prefix>, BaseEncoder {\n  readonly name: Base\n  readonly prefix: Prefix\n  readonly baseEncode: EncodeFn\n\n  constructor (name: Base, prefix: Prefix, baseEncode: EncodeFn) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n  }\n\n  encode (bytes: Uint8Array): Multibase<Prefix> {\n    if (bytes instanceof Uint8Array) {\n      return `${this.prefix}${this.baseEncode(bytes)}`\n    } else {\n      throw Error('Unknown type, must be binary type')\n    }\n  }\n}\n\n/**\n * Class represents both BaseDecoder and MultibaseDecoder so it could be used\n * to decode multibases (with matching prefix) or just base decode strings\n * with corresponding base encoding.\n */\nclass Decoder<Base extends string, Prefix extends string> implements MultibaseDecoder<Prefix>, UnibaseDecoder<Prefix>, BaseDecoder {\n  readonly name: Base\n  readonly prefix: Prefix\n  readonly baseDecode: DecodeFn\n  private readonly prefixCodePoint: number\n\n  constructor (name: Base, prefix: Prefix, baseDecode: DecodeFn) {\n    this.name = name\n    this.prefix = prefix\n    const prefixCodePoint = prefix.codePointAt(0)\n    /* c8 ignore next 3 */\n    if (prefixCodePoint === undefined) {\n      throw new Error('Invalid prefix character')\n    }\n    this.prefixCodePoint = prefixCodePoint\n    this.baseDecode = baseDecode\n  }\n\n  decode (text: string): Uint8Array {\n    if (typeof text === 'string') {\n      if (text.codePointAt(0) !== this.prefixCodePoint) {\n        throw Error(`Unable to decode multibase string ${JSON.stringify(text)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)\n      }\n      return this.baseDecode(text.slice(this.prefix.length))\n    } else {\n      throw Error('Can only multibase decode strings')\n    }\n  }\n\n  or<OtherPrefix extends string> (decoder: UnibaseDecoder<OtherPrefix> | ComposedDecoder<OtherPrefix>): ComposedDecoder<Prefix | OtherPrefix> {\n    return or(this, decoder)\n  }\n}\n\ntype Decoders<Prefix extends string> = Record<Prefix, UnibaseDecoder<Prefix>>\n\nclass ComposedDecoder<Prefix extends string> implements MultibaseDecoder<Prefix>, CombobaseDecoder<Prefix> {\n  readonly decoders: Decoders<Prefix>\n\n  constructor (decoders: Decoders<Prefix>) {\n    this.decoders = decoders\n  }\n\n  or <OtherPrefix extends string> (decoder: UnibaseDecoder<OtherPrefix> | ComposedDecoder<OtherPrefix>): ComposedDecoder<Prefix | OtherPrefix> {\n    return or(this, decoder)\n  }\n\n  decode (input: string): Uint8Array {\n    const prefix = input[0] as Prefix\n    const decoder = this.decoders[prefix]\n    if (decoder != null) {\n      return decoder.decode(input)\n    } else {\n      throw RangeError(`Unable to decode multibase string ${JSON.stringify(input)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)\n    }\n  }\n}\n\nexport function or <L extends string, R extends string> (left: UnibaseDecoder<L> | CombobaseDecoder<L>, right: UnibaseDecoder<R> | CombobaseDecoder<R>): ComposedDecoder<L | R> {\n  return new ComposedDecoder({\n    ...(left.decoders ?? { [(left as UnibaseDecoder<L>).prefix]: left }),\n    ...(right.decoders ?? { [(right as UnibaseDecoder<R>).prefix]: right })\n  } as Decoders<L | R>)\n}\n\nexport class Codec<Base extends string, Prefix extends string> implements MultibaseCodec<Prefix>, MultibaseEncoder<Prefix>, MultibaseDecoder<Prefix>, BaseCodec, BaseEncoder, BaseDecoder {\n  readonly name: Base\n  readonly prefix: Prefix\n  readonly baseEncode: EncodeFn\n  readonly baseDecode: DecodeFn\n  readonly encoder: Encoder<Base, Prefix>\n  readonly decoder: Decoder<Base, Prefix>\n\n  constructor (name: Base, prefix: Prefix, baseEncode: EncodeFn, baseDecode: DecodeFn) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n    this.baseDecode = baseDecode\n    this.encoder = new Encoder(name, prefix, baseEncode)\n    this.decoder = new Decoder(name, prefix, baseDecode)\n  }\n\n  encode (input: Uint8Array): string {\n    return this.encoder.encode(input)\n  }\n\n  decode (input: string): Uint8Array {\n    return this.decoder.decode(input)\n  }\n}\n\nexport function from <Base extends string, Prefix extends string> ({ name, prefix, encode, decode }: { name: Base, prefix: Prefix, encode: EncodeFn, decode: DecodeFn }): Codec<Base, Prefix> {\n  return new Codec(name, prefix, encode, decode)\n}\n\nexport function baseX <Base extends string, Prefix extends string> ({ name, prefix, alphabet }: { name: Base, prefix: Prefix, alphabet: string }): Codec<Base, Prefix> {\n  const { encode, decode } = basex(alphabet, name)\n  return from({\n    prefix,\n    name,\n    encode,\n    decode: (text: string): Uint8Array => coerce(decode(text))\n  })\n}\n\nfunction decode (string: string, alphabetIdx: Record<string, number>, bitsPerChar: number, name: string): Uint8Array {\n  // Count the padding bytes:\n  let end = string.length\n  while (string[end - 1] === '=') {\n    --end\n  }\n\n  // Allocate the output:\n  const out = new Uint8Array((end * bitsPerChar / 8) | 0)\n\n  // Parse the data:\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  let written = 0 // Next byte to write\n  for (let i = 0; i < end; ++i) {\n    // Read one character from the string:\n    const value = alphabetIdx[string[i]]\n    if (value === undefined) {\n      throw new SyntaxError(`Non-${name} character`)\n    }\n\n    // Append the bits to the buffer:\n    buffer = (buffer << bitsPerChar) | value\n    bits += bitsPerChar\n\n    // Write out some bits if the buffer has a byte's worth:\n    if (bits >= 8) {\n      bits -= 8\n      out[written++] = 0xff & (buffer >> bits)\n    }\n  }\n\n  // Verify that we have received just enough bits:\n  if (bits >= bitsPerChar || (0xff & (buffer << (8 - bits))) !== 0) {\n    throw new SyntaxError('Unexpected end of data')\n  }\n\n  return out\n}\n\nfunction encode (data: Uint8Array, alphabet: string, bitsPerChar: number): string {\n  const pad = alphabet[alphabet.length - 1] === '='\n  const mask = (1 << bitsPerChar) - 1\n  let out = ''\n\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  for (let i = 0; i < data.length; ++i) {\n    // Slurp data into the buffer:\n    buffer = (buffer << 8) | data[i]\n    bits += 8\n\n    // Write out as much as we can:\n    while (bits > bitsPerChar) {\n      bits -= bitsPerChar\n      out += alphabet[mask & (buffer >> bits)]\n    }\n  }\n\n  // Partial character:\n  if (bits !== 0) {\n    out += alphabet[mask & (buffer << (bitsPerChar - bits))]\n  }\n\n  // Add padding characters until we hit a byte boundary:\n  if (pad) {\n    while (((out.length * bitsPerChar) & 7) !== 0) {\n      out += '='\n    }\n  }\n\n  return out\n}\n\nfunction createAlphabetIdx (alphabet: string): Record<string, number> {\n  // Build the character lookup table:\n  const alphabetIdx: Record<string, number> = {}\n  for (let i = 0; i < alphabet.length; ++i) {\n    alphabetIdx[alphabet[i]] = i\n  }\n  return alphabetIdx\n}\n\n/**\n * RFC4648 Factory\n */\nexport function rfc4648 <Base extends string, Prefix extends string> ({ name, prefix, bitsPerChar, alphabet }: { name: Base, prefix: Prefix, bitsPerChar: number, alphabet: string }): Codec<Base, Prefix> {\n  const alphabetIdx = createAlphabetIdx(alphabet)\n  return from({\n    prefix,\n    name,\n    encode (input: Uint8Array): string {\n      return encode(input, alphabet, bitsPerChar)\n    },\n    decode (input: string): Uint8Array {\n      return decode(input, alphabetIdx, bitsPerChar, name)\n    }\n  })\n}\n", "import { rfc4648 } from './base.js'\n\nexport const base16 = rfc4648({\n  prefix: 'f',\n  name: 'base16',\n  alphabet: '0123456789abcdef',\n  bitsPerChar: 4\n})\n\nexport const base16upper = rfc4648({\n  prefix: 'F',\n  name: 'base16upper',\n  alphabet: '0123456789ABCDEF',\n  bitsPerChar: 4\n})\n", "import { rfc4648 } from './base.js'\n\nexport const base2 = rfc4648({\n  prefix: '0',\n  name: 'base2',\n  alphabet: '01',\n  bitsPerChar: 1\n})\n", "import { from } from './base.js'\n\nconst alphabet = Array.from('\uD83D\uDE80\uD83E\uDE90\u2604\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\u2600\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\u2764\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\u263A\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\u270C\u2728\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\u2763\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\u270B\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\u2B50\u2705\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\u2714\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\u2639\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\u261D\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\u26BD\uD83E\uDD19\u2615\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\u26A1\uD83C\uDF1E\uD83C\uDF88\u274C\u270A\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\u2708\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\u25B6\u27A1\u2753\uD83D\uDC8E\uD83D\uDCB8\u2B07\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\u26A0\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\u260E\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\u2744\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42')\nconst alphabetBytesToChars: string[] = (alphabet.reduce<string[]>((p, c, i) => { p[i] = c; return p }, ([])))\nconst alphabetCharsToBytes: number[] = (alphabet.reduce<number[]>((p, c, i) => {\n  const codePoint = c.codePointAt(0)\n  if (codePoint == null) {\n    throw new Error(`Invalid character: ${c}`)\n  }\n  p[codePoint] = i\n  return p\n}, ([])))\n\nfunction encode (data: Uint8Array): string {\n  return data.reduce((p, c) => {\n    p += alphabetBytesToChars[c]\n    return p\n  }, '')\n}\n\nfunction decode (str: string): Uint8Array {\n  const byts = []\n  for (const char of str) {\n    const codePoint = char.codePointAt(0)\n    if (codePoint == null) {\n      throw new Error(`Invalid character: ${char}`)\n    }\n    const byt = alphabetCharsToBytes[codePoint]\n    if (byt == null) {\n      throw new Error(`Non-base256emoji character: ${char}`)\n    }\n    byts.push(byt)\n  }\n  return new Uint8Array(byts)\n}\n\nexport const base256emoji = from({\n  prefix: '\uD83D\uDE80',\n  name: 'base256emoji',\n  encode,\n  decode\n})\n", "import { rfc4648 } from './base.js'\n\nexport const base32 = rfc4648({\n  prefix: 'b',\n  name: 'base32',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567',\n  bitsPerChar: 5\n})\n\nexport const base32upper = rfc4648({\n  prefix: 'B',\n  name: 'base32upper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\n  bitsPerChar: 5\n})\n\nexport const base32pad = rfc4648({\n  prefix: 'c',\n  name: 'base32pad',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567=',\n  bitsPerChar: 5\n})\n\nexport const base32padupper = rfc4648({\n  prefix: 'C',\n  name: 'base32padupper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=',\n  bitsPerChar: 5\n})\n\nexport const base32hex = rfc4648({\n  prefix: 'v',\n  name: 'base32hex',\n  alphabet: '0123456789abcdefghijklmnopqrstuv',\n  bitsPerChar: 5\n})\n\nexport const base32hexupper = rfc4648({\n  prefix: 'V',\n  name: 'base32hexupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV',\n  bitsPerChar: 5\n})\n\nexport const base32hexpad = rfc4648({\n  prefix: 't',\n  name: 'base32hexpad',\n  alphabet: '0123456789abcdefghijklmnopqrstuv=',\n  bitsPerChar: 5\n})\n\nexport const base32hexpadupper = rfc4648({\n  prefix: 'T',\n  name: 'base32hexpadupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV=',\n  bitsPerChar: 5\n})\n\nexport const base32z = rfc4648({\n  prefix: 'h',\n  name: 'base32z',\n  alphabet: 'ybndrfg8ejkmcpqxot1uwisza345h769',\n  bitsPerChar: 5\n})\n", "import { baseX } from './base.js'\n\nexport const base36 = baseX({\n  prefix: 'k',\n  name: 'base36',\n  alphabet: '0123456789abcdefghijklmnopqrstuvwxyz'\n})\n\nexport const base36upper = baseX({\n  prefix: 'K',\n  name: 'base36upper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n})\n", "import { baseX } from './base.js'\n\nexport const base58btc = baseX({\n  name: 'base58btc',\n  prefix: 'z',\n  alphabet: '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n})\n\nexport const base58flickr = baseX({\n  name: 'base58flickr',\n  prefix: 'Z',\n  alphabet: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'\n})\n", "import { rfc4648 } from './base.js'\n\nexport const base64 = rfc4648({\n  prefix: 'm',\n  name: 'base64',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n  bitsPerChar: 6\n})\n\nexport const base64pad = rfc4648({\n  prefix: 'M',\n  name: 'base64pad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n  bitsPerChar: 6\n})\n\nexport const base64url = rfc4648({\n  prefix: 'u',\n  name: 'base64url',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_',\n  bitsPerChar: 6\n})\n\nexport const base64urlpad = rfc4648({\n  prefix: 'U',\n  name: 'base64urlpad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=',\n  bitsPerChar: 6\n})\n", "import { rfc4648 } from './base.js'\n\nexport const base8 = rfc4648({\n  prefix: '7',\n  name: 'base8',\n  alphabet: '01234567',\n  bitsPerChar: 3\n})\n", "import { fromString, toString } from '../bytes.js'\nimport { from } from './base.js'\n\nexport const identity = from({\n  prefix: '\\x00',\n  name: 'identity',\n  encode: (buf) => toString(buf),\n  decode: (str) => fromString(str)\n})\n", "import type { ArrayBufferView, ByteView } from './interface.js'\n\nconst textEncoder = new TextEncoder()\nconst textDecoder = new TextDecoder()\n\nexport const name = 'json'\nexport const code = 0x0200\n\nexport function encode <T> (node: T): ByteView<T> {\n  return textEncoder.encode(JSON.stringify(node))\n}\n\nexport function decode <T> (data: ByteView<T> | ArrayBufferView<T>): T {\n  return JSON.parse(textDecoder.decode(data))\n}\n", "import { coerce } from '../bytes.js'\nimport * as Digest from './digest.js'\n\nconst code: 0x0 = 0x0\nconst name = 'identity'\n\nconst encode: (input: Uint8Array) => Uint8Array = coerce\n\nfunction digest (input: Uint8Array): Digest.Digest<typeof code, number> {\n  return Digest.create(code, encode(input))\n}\n\nexport const identity = { code, name, encode, digest }\n", "/* eslint-disable */\nvar encode_1 = encode;\n\nvar MSB = 0x80\n  , REST = 0x7F\n  , MSBALL = ~REST\n  , INT = Math.pow(2, 31);\n\n/**\n * @param {number} num\n * @param {number[]} out\n * @param {number} offset\n */\nfunction encode(num, out, offset) {\n  out = out || [];\n  offset = offset || 0;\n  var oldOffset = offset;\n\n  while(num >= INT) {\n    out[offset++] = (num & 0xFF) | MSB;\n    num /= 128;\n  }\n  while(num & MSBALL) {\n    out[offset++] = (num & 0xFF) | MSB;\n    num >>>= 7;\n  }\n  out[offset] = num | 0;\n  \n  // @ts-ignore\n  encode.bytes = offset - oldOffset + 1;\n  \n  return out\n}\n\nvar decode = read;\n\nvar MSB$1 = 0x80\n  , REST$1 = 0x7F;\n\n/**\n * @param {string | any[]} buf\n * @param {number} offset\n */\nfunction read(buf, offset) {\n  var res    = 0\n    , offset = offset || 0\n    , shift  = 0\n    , counter = offset\n    , b\n    , l = buf.length;\n\n  do {\n    if (counter >= l) {\n      // @ts-ignore\n      read.bytes = 0;\n      throw new RangeError('Could not decode varint')\n    }\n    b = buf[counter++];\n    res += shift < 28\n      ? (b & REST$1) << shift\n      : (b & REST$1) * Math.pow(2, shift);\n    shift += 7;\n  } while (b >= MSB$1)\n\n  // @ts-ignore\n  read.bytes = counter - offset;\n\n  return res\n}\n\nvar N1 = Math.pow(2,  7);\nvar N2 = Math.pow(2, 14);\nvar N3 = Math.pow(2, 21);\nvar N4 = Math.pow(2, 28);\nvar N5 = Math.pow(2, 35);\nvar N6 = Math.pow(2, 42);\nvar N7 = Math.pow(2, 49);\nvar N8 = Math.pow(2, 56);\nvar N9 = Math.pow(2, 63);\n\nvar length = function (/** @type {number} */ value) {\n  return (\n    value < N1 ? 1\n  : value < N2 ? 2\n  : value < N3 ? 3\n  : value < N4 ? 4\n  : value < N5 ? 5\n  : value < N6 ? 6\n  : value < N7 ? 7\n  : value < N8 ? 8\n  : value < N9 ? 9\n  :              10\n  )\n};\n\nvar varint = {\n    encode: encode_1\n  , decode: decode\n  , encodingLength: length\n};\n\nvar _brrp_varint = varint;\n\nexport default _brrp_varint;\n", "import varint from './vendor/varint.js'\n\nexport function decode (data: Uint8Array, offset = 0): [number, number] {\n  const code = varint.decode(data, offset)\n  return [code, varint.decode.bytes]\n}\n\nexport function encodeTo (int: number, target: Uint8Array, offset = 0): Uint8Array {\n  varint.encode(int, target, offset)\n  return target\n}\n\nexport function encodingLength (int: number): number {\n  return varint.encodingLength(int)\n}\n", "import { coerce, equals as equalBytes } from '../bytes.js'\nimport * as varint from '../varint.js'\nimport type { MultihashDigest } from './interface.js'\n\n/**\n * Creates a multihash digest.\n */\nexport function create <Code extends number> (code: Code, digest: Uint8Array): Digest<Code, number> {\n  const size = digest.byteLength\n  const sizeOffset = varint.encodingLength(code)\n  const digestOffset = sizeOffset + varint.encodingLength(size)\n\n  const bytes = new Uint8Array(digestOffset + size)\n  varint.encodeTo(code, bytes, 0)\n  varint.encodeTo(size, bytes, sizeOffset)\n  bytes.set(digest, digestOffset)\n\n  return new Digest(code, size, digest, bytes)\n}\n\n/**\n * Turns bytes representation of multihash digest into an instance.\n */\nexport function decode (multihash: Uint8Array): MultihashDigest {\n  const bytes = coerce(multihash)\n  const [code, sizeOffset] = varint.decode(bytes)\n  const [size, digestOffset] = varint.decode(bytes.subarray(sizeOffset))\n  const digest = bytes.subarray(sizeOffset + digestOffset)\n\n  if (digest.byteLength !== size) {\n    throw new Error('Incorrect length')\n  }\n\n  return new Digest(code, size, digest, bytes)\n}\n\nexport function equals (a: MultihashDigest, b: unknown): b is MultihashDigest {\n  if (a === b) {\n    return true\n  } else {\n    const data = b as { code?: unknown, size?: unknown, bytes?: unknown }\n\n    return (\n      a.code === data.code &&\n      a.size === data.size &&\n      data.bytes instanceof Uint8Array &&\n      equalBytes(a.bytes, data.bytes)\n    )\n  }\n}\n\n/**\n * Represents a multihash digest which carries information about the\n * hashing algorithm and an actual hash digest.\n */\nexport class Digest<Code extends number, Size extends number> implements MultihashDigest {\n  readonly code: Code\n  readonly size: Size\n  readonly digest: Uint8Array\n  readonly bytes: Uint8Array\n\n  /**\n   * Creates a multihash digest.\n   */\n  constructor (code: Code, size: Size, digest: Uint8Array, bytes: Uint8Array) {\n    this.code = code\n    this.size = size\n    this.digest = digest\n    this.bytes = bytes\n  }\n}\n\n/**\n * Used to check that the passed multihash has the passed code\n */\nexport function hasCode <T extends number> (digest: MultihashDigest, code: T): digest is MultihashDigest<T> {\n  return digest.code === code\n}\n", "/* global crypto */\n\nimport { from } from './hasher.js'\n\nfunction sha (name: AlgorithmIdentifier): (data: Uint8Array) => Promise<Uint8Array> {\n  return async data => new Uint8Array(await crypto.subtle.digest(name, data))\n}\n\nexport const sha256 = from({\n  name: 'sha2-256',\n  code: 0x12,\n  encode: sha('SHA-256')\n})\n\nexport const sha512 = from({\n  name: 'sha2-512',\n  code: 0x13,\n  encode: sha('SHA-512')\n})\n", "import * as Digest from './digest.js'\nimport type { MultihashHasher } from './interface.js'\n\ntype Await<T> = Promise<T> | T\n\nexport function from <Name extends string, Code extends number> ({ name, code, encode }: { name: Name, code: Code, encode(input: Uint8Array): Await<Uint8Array> }): Hasher<Name, Code> {\n  return new Hasher(name, code, encode)\n}\n\n/**\n * Hasher represents a hashing algorithm implementation that produces as\n * `MultihashDigest`.\n */\nexport class Hasher<Name extends string, Code extends number> implements MultihashHasher<Code> {\n  readonly name: Name\n  readonly code: Code\n  readonly encode: (input: Uint8Array) => Await<Uint8Array>\n\n  constructor (name: Name, code: Code, encode: (input: Uint8Array) => Await<Uint8Array>) {\n    this.name = name\n    this.code = code\n    this.encode = encode\n  }\n\n  digest (input: Uint8Array): Await<Digest.Digest<Code, number>> {\n    if (input instanceof Uint8Array) {\n      const result = this.encode(input)\n      return result instanceof Uint8Array\n        ? Digest.create(this.code, result)\n        /* c8 ignore next 1 */\n        : result.then(digest => Digest.create(this.code, digest))\n    } else {\n      throw Error('Unknown type, must be binary type')\n      /* c8 ignore next 1 */\n    }\n  }\n}\n", "import { base32 } from './bases/base32.js'\nimport { base36 } from './bases/base36.js'\nimport { base58btc } from './bases/base58.js'\nimport { coerce } from './bytes.js'\nimport * as Digest from './hashes/digest.js'\nimport * as varint from './varint.js'\nimport type * as API from './link/interface.js'\n\n// This way TS will also expose all the types from module\nexport * from './link/interface.js'\n\nexport function format <T extends API.Link<unknown, number, number, API.Version>, Prefix extends string> (link: T, base?: API.MultibaseEncoder<Prefix>): API.ToString<T, Prefix> {\n  const { bytes, version } = link\n  switch (version) {\n    case 0:\n      return toStringV0(\n        bytes,\n        baseCache(link),\n        base as API.MultibaseEncoder<'z'> ?? base58btc.encoder\n      )\n    default:\n      return toStringV1(\n        bytes,\n        baseCache(link),\n        (base ?? base32.encoder) as API.MultibaseEncoder<Prefix>\n      )\n  }\n}\n\nexport function toJSON <Link extends API.UnknownLink> (link: Link): API.LinkJSON<Link> {\n  return {\n    '/': format(link)\n  }\n}\n\nexport function fromJSON <Link extends API.UnknownLink> (json: API.LinkJSON<Link>): CID<unknown, number, number, API.Version> {\n  return CID.parse(json['/'])\n}\n\nconst cache = new WeakMap<API.UnknownLink, Map<string, string>>()\n\nfunction baseCache (cid: API.UnknownLink): Map<string, string> {\n  const baseCache = cache.get(cid)\n  if (baseCache == null) {\n    const baseCache = new Map()\n    cache.set(cid, baseCache)\n    return baseCache\n  }\n  return baseCache\n}\n\nexport class CID<Data = unknown, Format extends number = number, Alg extends number = number, Version extends API.Version = API.Version> implements API.Link<Data, Format, Alg, Version> {\n  readonly code: Format\n  readonly version: Version\n  readonly multihash: API.MultihashDigest<Alg>\n  readonly bytes: Uint8Array\n  readonly '/': Uint8Array\n\n  /**\n   * @param version - Version of the CID\n   * @param code - Code of the codec content is encoded in, see https://github.com/multiformats/multicodec/blob/master/table.csv\n   * @param multihash - (Multi)hash of the of the content.\n   */\n  constructor (version: Version, code: Format, multihash: API.MultihashDigest<Alg>, bytes: Uint8Array) {\n    this.code = code\n    this.version = version\n    this.multihash = multihash\n    this.bytes = bytes\n\n    // flag to serializers that this is a CID and\n    // should be treated specially\n    this['/'] = bytes\n  }\n\n  /**\n   * Signalling `cid.asCID === cid` has been replaced with `cid['/'] === cid.bytes`\n   * please either use `CID.asCID(cid)` or switch to new signalling mechanism\n   *\n   * @deprecated\n   */\n  get asCID (): this {\n    return this\n  }\n\n  // ArrayBufferView\n  get byteOffset (): number {\n    return this.bytes.byteOffset\n  }\n\n  // ArrayBufferView\n  get byteLength (): number {\n    return this.bytes.byteLength\n  }\n\n  toV0 (): CID<Data, API.DAG_PB, API.SHA_256, 0> {\n    switch (this.version) {\n      case 0: {\n        return this as CID<Data, API.DAG_PB, API.SHA_256, 0>\n      }\n      case 1: {\n        const { code, multihash } = this\n\n        if (code !== DAG_PB_CODE) {\n          throw new Error('Cannot convert a non dag-pb CID to CIDv0')\n        }\n\n        // sha2-256\n        if (multihash.code !== SHA_256_CODE) {\n          throw new Error('Cannot convert non sha2-256 multihash CID to CIDv0')\n        }\n\n        return (\n          CID.createV0(\n            multihash as API.MultihashDigest<API.SHA_256>\n          )\n        )\n      }\n      default: {\n        throw Error(\n          `Can not convert CID version ${this.version} to version 0. This is a bug please report`\n        )\n      }\n    }\n  }\n\n  toV1 (): CID<Data, Format, Alg, 1> {\n    switch (this.version) {\n      case 0: {\n        const { code, digest } = this.multihash\n        const multihash = Digest.create(code, digest)\n        return (\n          CID.createV1(this.code, multihash)\n        )\n      }\n      case 1: {\n        return this as CID<Data, Format, Alg, 1>\n      }\n      default: {\n        throw Error(\n          `Can not convert CID version ${this.version} to version 1. This is a bug please report`\n        )\n      }\n    }\n  }\n\n  equals (other: unknown): other is CID<Data, Format, Alg, Version> {\n    return CID.equals(this, other)\n  }\n\n  static equals <Data, Format extends number, Alg extends number, Version extends API.Version>(self: API.Link<Data, Format, Alg, Version>, other: unknown): other is CID {\n    const unknown = other as { code?: unknown, version?: unknown, multihash?: unknown }\n    return (\n      unknown != null &&\n      self.code === unknown.code &&\n      self.version === unknown.version &&\n      Digest.equals(self.multihash, unknown.multihash)\n    )\n  }\n\n  toString (base?: API.MultibaseEncoder<string>): string {\n    return format(this, base)\n  }\n\n  toJSON (): API.LinkJSON<this> {\n    return { '/': format(this) }\n  }\n\n  link (): this {\n    return this\n  }\n\n  readonly [Symbol.toStringTag] = 'CID';\n\n  // Legacy\n\n  [Symbol.for('nodejs.util.inspect.custom')] (): string {\n    return `CID(${this.toString()})`\n  }\n\n  /**\n   * Takes any input `value` and returns a `CID` instance if it was\n   * a `CID` otherwise returns `null`. If `value` is instanceof `CID`\n   * it will return value back. If `value` is not instance of this CID\n   * class, but is compatible CID it will return new instance of this\n   * `CID` class. Otherwise returns null.\n   *\n   * This allows two different incompatible versions of CID library to\n   * co-exist and interop as long as binary interface is compatible.\n   */\n  static asCID <Data, Format extends number, Alg extends number, Version extends API.Version, U>(input: API.Link<Data, Format, Alg, Version> | U): CID<Data, Format, Alg, Version> | null {\n    if (input == null) {\n      return null\n    }\n\n    const value = input as any\n    if (value instanceof CID) {\n      // If value is instance of CID then we're all set.\n      return value\n    } else if ((value['/'] != null && value['/'] === value.bytes) || value.asCID === value) {\n      // If value isn't instance of this CID class but `this.asCID === this` or\n      // `value['/'] === value.bytes` is true it is CID instance coming from a\n      // different implementation (diff version or duplicate). In that case we\n      // rebase it to this `CID` implementation so caller is guaranteed to get\n      // instance with expected API.\n      const { version, code, multihash, bytes } = value\n      return new CID(\n        version,\n        code,\n        multihash as API.MultihashDigest<Alg>,\n        bytes ?? encodeCID(version, code, multihash.bytes)\n      )\n    } else if (value[cidSymbol] === true) {\n      // If value is a CID from older implementation that used to be tagged via\n      // symbol we still rebase it to the this `CID` implementation by\n      // delegating that to a constructor.\n      const { version, multihash, code } = value\n      const digest = Digest.decode(multihash) as API.MultihashDigest<Alg>\n      return CID.create(version, code, digest)\n    } else {\n      // Otherwise value is not a CID (or an incompatible version of it) in\n      // which case we return `null`.\n      return null\n    }\n  }\n\n  /**\n   * @param version - Version of the CID\n   * @param code - Code of the codec content is encoded in, see https://github.com/multiformats/multicodec/blob/master/table.csv\n   * @param digest - (Multi)hash of the of the content.\n   */\n  static create <Data, Format extends number, Alg extends number, Version extends API.Version>(version: Version, code: Format, digest: API.MultihashDigest<Alg>): CID<Data, Format, Alg, Version> {\n    if (typeof code !== 'number') {\n      throw new Error('String codecs are no longer supported')\n    }\n\n    if (!(digest.bytes instanceof Uint8Array)) {\n      throw new Error('Invalid digest')\n    }\n\n    switch (version) {\n      case 0: {\n        if (code !== DAG_PB_CODE) {\n          throw new Error(\n            `Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`\n          )\n        } else {\n          return new CID(version, code, digest, digest.bytes)\n        }\n      }\n      case 1: {\n        const bytes = encodeCID(version, code, digest.bytes)\n        return new CID(version, code, digest, bytes)\n      }\n      default: {\n        throw new Error('Invalid version')\n      }\n    }\n  }\n\n  /**\n   * Simplified version of `create` for CIDv0.\n   */\n  static createV0 <T = unknown>(digest: API.MultihashDigest<typeof SHA_256_CODE>): CID<T, typeof DAG_PB_CODE, typeof SHA_256_CODE, 0> {\n    return CID.create(0, DAG_PB_CODE, digest)\n  }\n\n  /**\n   * Simplified version of `create` for CIDv1.\n   *\n   * @param code - Content encoding format code.\n   * @param digest - Multihash of the content.\n   */\n  static createV1 <Data, Code extends number, Alg extends number>(code: Code, digest: API.MultihashDigest<Alg>): CID<Data, Code, Alg, 1> {\n    return CID.create(1, code, digest)\n  }\n\n  /**\n   * Decoded a CID from its binary representation. The byte array must contain\n   * only the CID with no additional bytes.\n   *\n   * An error will be thrown if the bytes provided do not contain a valid\n   * binary representation of a CID.\n   */\n  static decode <Data, Code extends number, Alg extends number, Version extends API.Version>(bytes: API.ByteView<API.Link<Data, Code, Alg, Version>>): CID<Data, Code, Alg, Version> {\n    const [cid, remainder] = CID.decodeFirst(bytes)\n    if (remainder.length !== 0) {\n      throw new Error('Incorrect length')\n    }\n    return cid\n  }\n\n  /**\n   * Decoded a CID from its binary representation at the beginning of a byte\n   * array.\n   *\n   * Returns an array with the first element containing the CID and the second\n   * element containing the remainder of the original byte array. The remainder\n   * will be a zero-length byte array if the provided bytes only contained a\n   * binary CID representation.\n   */\n  static decodeFirst <T, C extends number, A extends number, V extends API.Version>(bytes: API.ByteView<API.Link<T, C, A, V>>): [CID<T, C, A, V>, Uint8Array] {\n    const specs = CID.inspectBytes(bytes)\n    const prefixSize = specs.size - specs.multihashSize\n    const multihashBytes = coerce(\n      bytes.subarray(prefixSize, prefixSize + specs.multihashSize)\n    )\n    if (multihashBytes.byteLength !== specs.multihashSize) {\n      throw new Error('Incorrect length')\n    }\n    const digestBytes = multihashBytes.subarray(\n      specs.multihashSize - specs.digestSize\n    )\n    const digest = new Digest.Digest(\n      specs.multihashCode,\n      specs.digestSize,\n      digestBytes,\n      multihashBytes\n    )\n    const cid =\n      specs.version === 0\n        ? CID.createV0(digest as API.MultihashDigest<API.SHA_256>)\n        : CID.createV1(specs.codec, digest)\n    return [cid as CID<T, C, A, V>, bytes.subarray(specs.size)]\n  }\n\n  /**\n   * Inspect the initial bytes of a CID to determine its properties.\n   *\n   * Involves decoding up to 4 varints. Typically this will require only 4 to 6\n   * bytes but for larger multicodec code values and larger multihash digest\n   * lengths these varints can be quite large. It is recommended that at least\n   * 10 bytes be made available in the `initialBytes` argument for a complete\n   * inspection.\n   */\n  static inspectBytes <T, C extends number, A extends number, V extends API.Version>(initialBytes: API.ByteView<API.Link<T, C, A, V>>): { version: V, codec: C, multihashCode: A, digestSize: number, multihashSize: number, size: number } {\n    let offset = 0\n    const next = (): number => {\n      const [i, length] = varint.decode(initialBytes.subarray(offset))\n      offset += length\n      return i\n    }\n\n    let version = next() as V\n    let codec = DAG_PB_CODE as C\n    if (version as number === 18) {\n      // CIDv0\n      version = 0 as V\n      offset = 0\n    } else {\n      codec = next() as C\n    }\n\n    if (version !== 0 && version !== 1) {\n      throw new RangeError(`Invalid CID version ${version}`)\n    }\n\n    const prefixSize = offset\n    const multihashCode = next() as A // multihash code\n    const digestSize = next() // multihash length\n    const size = offset + digestSize\n    const multihashSize = size - prefixSize\n\n    return { version, codec, multihashCode, digestSize, multihashSize, size }\n  }\n\n  /**\n   * Takes cid in a string representation and creates an instance. If `base`\n   * decoder is not provided will use a default from the configuration. It will\n   * throw an error if encoding of the CID is not compatible with supplied (or\n   * a default decoder).\n   */\n  static parse <Prefix extends string, Data, Code extends number, Alg extends number, Version extends API.Version>(source: API.ToString<API.Link<Data, Code, Alg, Version>, Prefix>, base?: API.MultibaseDecoder<Prefix>): CID<Data, Code, Alg, Version> {\n    const [prefix, bytes] = parseCIDtoBytes(source, base)\n\n    const cid = CID.decode(bytes)\n\n    if (cid.version === 0 && source[0] !== 'Q') {\n      throw Error('Version 0 CID string must not include multibase prefix')\n    }\n\n    // Cache string representation to avoid computing it on `this.toString()`\n    baseCache(cid).set(prefix, source)\n\n    return cid\n  }\n}\n\nfunction parseCIDtoBytes <Prefix extends string, Data, Code extends number, Alg extends number, Version extends API.Version> (source: API.ToString<API.Link<Data, Code, Alg, Version>, Prefix>, base?: API.MultibaseDecoder<Prefix>): [Prefix, API.ByteView<API.Link<Data, Code, Alg, Version>>] {\n  switch (source[0]) {\n    // CIDv0 is parsed differently\n    case 'Q': {\n      const decoder = base ?? base58btc\n      return [\n        base58btc.prefix as Prefix,\n        decoder.decode(`${base58btc.prefix}${source}`)\n      ]\n    }\n    case base58btc.prefix: {\n      const decoder = base ?? base58btc\n      return [base58btc.prefix as Prefix, decoder.decode(source)]\n    }\n    case base32.prefix: {\n      const decoder = base ?? base32\n      return [base32.prefix as Prefix, decoder.decode(source)]\n    }\n    case base36.prefix: {\n      const decoder = base ?? base36\n      return [base36.prefix as Prefix, decoder.decode(source)]\n    }\n    default: {\n      if (base == null) {\n        throw Error(\n          'To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided'\n        )\n      }\n      return [source[0] as Prefix, base.decode(source)]\n    }\n  }\n}\n\nfunction toStringV0 (bytes: Uint8Array, cache: Map<string, string>, base: API.MultibaseEncoder<'z'>): string {\n  const { prefix } = base\n  if (prefix !== base58btc.prefix) {\n    throw Error(`Cannot string encode V0 in ${base.name} encoding`)\n  }\n\n  const cid = cache.get(prefix)\n  if (cid == null) {\n    const cid = base.encode(bytes).slice(1)\n    cache.set(prefix, cid)\n    return cid\n  } else {\n    return cid\n  }\n}\n\nfunction toStringV1 <Prefix extends string> (bytes: Uint8Array, cache: Map<string, string>, base: API.MultibaseEncoder<Prefix>): string {\n  const { prefix } = base\n  const cid = cache.get(prefix)\n  if (cid == null) {\n    const cid = base.encode(bytes)\n    cache.set(prefix, cid)\n    return cid\n  } else {\n    return cid\n  }\n}\n\nconst DAG_PB_CODE = 0x70\nconst SHA_256_CODE = 0x12\n\nfunction encodeCID (version: API.Version, code: number, multihash: Uint8Array): Uint8Array {\n  const codeOffset = varint.encodingLength(version)\n  const hashOffset = codeOffset + varint.encodingLength(code)\n  const bytes = new Uint8Array(hashOffset + multihash.byteLength)\n  varint.encodeTo(version, bytes, 0)\n  varint.encodeTo(code, bytes, codeOffset)\n  bytes.set(multihash, hashOffset)\n  return bytes\n}\n\nconst cidSymbol = Symbol.for('@ipld/js-cid/CID')\n", "import * as base10 from './bases/base10.js'\nimport * as base16 from './bases/base16.js'\nimport * as base2 from './bases/base2.js'\nimport * as base256emoji from './bases/base256emoji.js'\nimport * as base32 from './bases/base32.js'\nimport * as base36 from './bases/base36.js'\nimport * as base58 from './bases/base58.js'\nimport * as base64 from './bases/base64.js'\nimport * as base8 from './bases/base8.js'\nimport * as identityBase from './bases/identity.js'\nimport * as json from './codecs/json.js'\nimport * as raw from './codecs/raw.js'\nimport * as identity from './hashes/identity.js'\nimport * as sha2 from './hashes/sha2.js'\nimport { CID, hasher, digest, varint, bytes } from './index.js'\n\nexport const bases = { ...identityBase, ...base2, ...base8, ...base10, ...base16, ...base32, ...base36, ...base58, ...base64, ...base256emoji }\nexport const hashes = { ...sha2, ...identity }\nexport const codecs = { raw, json }\n\nexport { CID, hasher, digest, varint, bytes }\n", "import { bases } from 'multiformats/basics'\nimport type { MultibaseCodec } from 'multiformats'\nimport { allocUnsafe } from '#alloc'\n\nfunction createCodec (name: string, prefix: string, encode: (buf: Uint8Array) => string, decode: (str: string) => Uint8Array): MultibaseCodec<any> {\n  return {\n    name,\n    prefix,\n    encoder: {\n      name,\n      prefix,\n      encode\n    },\n    decoder: {\n      decode\n    }\n  }\n}\n\nconst string = createCodec('utf8', 'u', (buf) => {\n  const decoder = new TextDecoder('utf8')\n  return 'u' + decoder.decode(buf)\n}, (str) => {\n  const encoder = new TextEncoder()\n  return encoder.encode(str.substring(1))\n})\n\nconst ascii = createCodec('ascii', 'a', (buf) => {\n  let string = 'a'\n\n  for (let i = 0; i < buf.length; i++) {\n    string += String.fromCharCode(buf[i])\n  }\n  return string\n}, (str) => {\n  str = str.substring(1)\n  const buf = allocUnsafe(str.length)\n\n  for (let i = 0; i < str.length; i++) {\n    buf[i] = str.charCodeAt(i)\n  }\n\n  return buf\n})\n\nexport type SupportedEncodings = 'utf8' | 'utf-8' | 'hex' | 'latin1' | 'ascii' | 'binary' | keyof typeof bases\n\nconst BASES: Record<SupportedEncodings, MultibaseCodec<any>> = {\n  utf8: string,\n  'utf-8': string,\n  hex: bases.base16,\n  latin1: ascii,\n  ascii,\n  binary: ascii,\n\n  ...bases\n}\n\nexport default BASES\n", "import bases, { type SupportedEncodings } from './util/bases.js'\n\nexport type { SupportedEncodings }\n\n/**\n * Turns a `Uint8Array` into a string.\n *\n * Supports `utf8`, `utf-8` and any encoding supported by the multibase module.\n *\n * Also `ascii` which is similar to node's 'binary' encoding.\n */\nexport function toString (array: Uint8Array, encoding: SupportedEncodings = 'utf8'): string {\n  const base = bases[encoding]\n\n  if (base == null) {\n    throw new Error(`Unsupported encoding \"${encoding}\"`)\n  }\n\n  // strip multibase prefix\n  return base.encoder.encode(array).substring(1)\n}\n", "/* eslint-disable @typescript-eslint/no-unsafe-return */\n\n// Heavily inspired by https://doc.rust-lang.org/src/std/net/parser.rs.html\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype Fn = (...foo: any) => any;\n\nexport class Parser {\n  private index = 0;\n  private input = \"\";\n\n  new(input: string): this {\n    this.index = 0;\n    this.input = input;\n    return this;\n  }\n\n  /** Run a parser, and restore the pre-parse state if it fails. */\n  readAtomically<T extends Fn>(fn: T): ReturnType<T> {\n    const index = this.index;\n    const result = fn();\n    if (result === undefined) {\n      this.index = index;\n    }\n    return result;\n  }\n\n  /** Run a parser, but fail if the entire input wasn't consumed. Doesn't run atomically. */\n  parseWith<T extends Fn>(fn: T): ReturnType<T> | undefined {\n    const result = fn();\n    if (this.index !== this.input.length) {\n      return undefined;\n    }\n    return result;\n  }\n\n  /** Peek the next character from the input */\n  peekChar(): string | undefined {\n    if (this.index >= this.input.length) {\n      return undefined;\n    }\n    return this.input[this.index];\n  }\n\n  /** Read the next character from the input */\n  readChar(): string | undefined {\n    if (this.index >= this.input.length) {\n      return undefined;\n    }\n    return this.input[this.index++];\n  }\n\n  /** Read the next character from the input if it matches the target. */\n  readGivenChar(target: string): string | undefined {\n    return this.readAtomically(() => {\n      const char = this.readChar();\n      if (char !== target) {\n        return undefined;\n      }\n      return char;\n    });\n  }\n\n  /**\n   * Helper for reading separators in an indexed loop. Reads the separator\n   * character iff index > 0, then runs the parser. When used in a loop,\n   * the separator character will only be read on index > 0 (see\n   * readIPv4Addr for an example)\n   */\n  readSeparator<T extends Fn>(sep: string, index: number, inner: T): ReturnType<T> {\n    return this.readAtomically(() => {\n      if (index > 0) {\n        if (this.readGivenChar(sep) === undefined) {\n          return undefined;\n        }\n      }\n      return inner();\n    });\n  }\n\n  /**\n   * Read a number off the front of the input in the given radix, stopping\n   * at the first non-digit character or eof. Fails if the number has more\n   * digits than max_digits or if there is no number.\n   */\n  readNumber(\n    radix: number,\n    maxDigits: number | undefined,\n    allowZeroPrefix: boolean,\n    maxBytes: number\n  ): number | undefined {\n    return this.readAtomically(() => {\n      let result = 0;\n      let digitCount = 0;\n\n      const leadingChar = this.peekChar();\n      if (leadingChar === undefined) {\n        return undefined;\n      }\n      const hasLeadingZero = leadingChar === \"0\";\n      const maxValue = 2 ** (8 * maxBytes) - 1;\n\n      // eslint-disable-next-line no-constant-condition\n      while (true) {\n        const digit = this.readAtomically(() => {\n          const char = this.readChar();\n          if (char === undefined) {\n            return undefined;\n          }\n          const num = Number.parseInt(char, radix);\n          if (Number.isNaN(num)) {\n            return undefined;\n          }\n          return num;\n        });\n        if (digit === undefined) {\n          break;\n        }\n        result *= radix;\n        result += digit;\n        if (result > maxValue) {\n          return undefined;\n        }\n        digitCount += 1;\n        if (maxDigits !== undefined) {\n          if (digitCount > maxDigits) {\n            return undefined;\n          }\n        }\n      }\n\n      if (digitCount === 0) {\n        return undefined;\n      } else if (!allowZeroPrefix && hasLeadingZero && digitCount > 1) {\n        return undefined;\n      } else {\n        return result;\n      }\n    });\n  }\n\n  /** Read an IPv4 address. */\n  readIPv4Addr(): Uint8Array | undefined {\n    return this.readAtomically(() => {\n      const out = new Uint8Array(4);\n\n      for (let i = 0; i < out.length; i++) {\n        const ix = this.readSeparator(\".\", i, () => this.readNumber(10, 3, false, 1));\n        if (ix === undefined) {\n          return undefined;\n        }\n        out[i] = ix;\n      }\n\n      return out;\n    });\n  }\n\n  /** Read an IPv6 Address. */\n  readIPv6Addr(): Uint8Array | undefined {\n    /**\n     * Read a chunk of an IPv6 address into `groups`. Returns the number\n     * of groups read, along with a bool indicating if an embedded\n     * trailing IPv4 address was read. Specifically, read a series of\n     * colon-separated IPv6 groups (0x0000 - 0xFFFF), with an optional\n     * trailing embedded IPv4 address.\n     */\n    const readGroups = (groups: Uint8Array): [number, boolean] => {\n      for (let i = 0; i < groups.length / 2; i++) {\n        const ix = i * 2;\n        // Try to read a trailing embedded IPv4 address. There must be at least 4 groups left.\n        if (i < groups.length - 3) {\n          const ipv4 = this.readSeparator(\":\", i, () => this.readIPv4Addr());\n          if (ipv4 !== undefined) {\n            groups[ix] = ipv4[0];\n            groups[ix + 1] = ipv4[1];\n            groups[ix + 2] = ipv4[2];\n            groups[ix + 3] = ipv4[3];\n\n            return [ix + 4, true];\n          }\n        }\n\n        const group = this.readSeparator(\":\", i, () => this.readNumber(16, 4, true, 2));\n        if (group === undefined) {\n          return [ix, false];\n        }\n        groups[ix] = group >> 8;\n        groups[ix + 1] = group & 255;\n      }\n      return [groups.length, false];\n    };\n\n    return this.readAtomically(() => {\n      // Read the front part of the address; either the whole thing, or up to the first ::\n      const head = new Uint8Array(16);\n      const [headSize, headIp4] = readGroups(head);\n\n      if (headSize === 16) {\n        return head;\n      }\n\n      // IPv4 part is not allowed before `::`\n      if (headIp4) {\n        return undefined;\n      }\n\n      // Read `::` if previous code parsed less than 8 groups.\n      // `::` indicates one or more groups of 16 bits of zeros.\n      if (this.readGivenChar(\":\") === undefined) {\n        return undefined;\n      }\n      if (this.readGivenChar(\":\") === undefined) {\n        return undefined;\n      }\n\n      // Read the back part of the address. The :: must contain at least one\n      // set of zeroes, so our max length is 7.\n      const tail = new Uint8Array(14);\n      const limit = 16 - (headSize + 2);\n      const [tailSize] = readGroups(tail.subarray(0, limit));\n\n      // Concat the head and tail of the IP address\n      head.set(tail.subarray(0, tailSize), 16 - tailSize);\n\n      return head;\n    });\n  }\n\n  /** Read an IP Address, either IPv4 or IPv6. */\n  readIPAddr(): Uint8Array | undefined {\n    return this.readIPv4Addr() ?? this.readIPv6Addr();\n  }\n}\n", "import { Parser } from \"./parser.js\";\n\n// See https://stackoverflow.com/questions/166132/maximum-length-of-the-textual-representation-of-an-ipv6-address\nconst MAX_IPV6_LENGTH = 45;\nconst MAX_IPV4_LENGTH = 15;\n\nconst parser = new Parser();\n\n/** Parse `input` into IPv4 bytes. */\nexport function parseIPv4(input: string): Uint8Array | undefined {\n  if (input.length > MAX_IPV4_LENGTH) {\n    return undefined;\n  }\n  return parser.new(input).parseWith(() => parser.readIPv4Addr());\n}\n\n/** Parse IPv4 `input` into IPv6 with IPv4-mapped bytes, eg ::ffff:1.2.3.4 */\nexport function parseIPv4Mapped(input: string): Uint8Array | undefined {\n  if (input.length > MAX_IPV4_LENGTH) {\n    return undefined;\n  }\n\n  const ipv4 = parser.new(input).parseWith(() => parser.readIPv4Addr());\n  if (ipv4 === undefined) {\n    return undefined;\n  }\n\n  return Uint8Array.from([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0xff, 0xff, ipv4[0], ipv4[1], ipv4[2], ipv4[3]]);\n}\n\n/** Parse `input` into IPv6 bytes. */\nexport function parseIPv6(input: string): Uint8Array | undefined {\n  // strip zone index if it is present\n  if (input.includes(\"%\")) {\n    input = input.split(\"%\")[0];\n  }\n  if (input.length > MAX_IPV6_LENGTH) {\n    return undefined;\n  }\n  return parser.new(input).parseWith(() => parser.readIPv6Addr());\n}\n\n/** Parse `input` into IPv4 or IPv6 bytes. */\nexport function parseIP(input: string, mapIPv4ToIPv6 = false): Uint8Array | undefined {\n  // strip zone index if it is present\n  if (input.includes(\"%\")) {\n    input = input.split(\"%\")[0];\n  }\n\n  if (input.length > MAX_IPV6_LENGTH) {\n    return undefined;\n  }\n\n  const addr = parser.new(input).parseWith(() => parser.readIPAddr());\n  if (!addr) {\n    return undefined;\n  }\n\n  if (mapIPv4ToIPv6 && addr.length === 4) {\n    return Uint8Array.from([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0xff, 0xff, addr[0], addr[1], addr[2], addr[3]]);\n  }\n\n  return addr;\n}\n", "import { IPv4Len, IPv6Len } from \"./ip.js\";\n\nexport function allFF(\n  a: number[] | Uint8Array,\n  from: number,\n  to: number\n): boolean {\n  let i = 0;\n  for (const e of a) {\n    if (i < from) continue;\n    if (i > to) break;\n    if (e !== 0xff) return false;\n    i++;\n  }\n  return true;\n}\n\nexport function deepEqual(\n  a: Uint8Array | number[],\n  b: Uint8Array,\n  from: number,\n  to: number\n): boolean {\n  let i = 0;\n  for (const e of a) {\n    if (i < from) continue;\n    if (i > to) break;\n    if (e !== b[i]) return false;\n    i++;\n  }\n  return true;\n}\n\n/***\n * Returns long ip format\n */\nexport function ipToString(ip: Uint8Array | number[]): string {\n  switch (ip.length) {\n    case IPv4Len: {\n      return ip.join(\".\");\n    }\n    case IPv6Len: {\n      const result = [] as string[];\n      for (let i = 0; i < ip.length; i++) {\n        if (i % 2 === 0) {\n          result.push(\n            ip[i].toString(16).padStart(2, \"0\") +\n              ip[i + 1].toString(16).padStart(2, \"0\")\n          );\n        }\n      }\n      return result.join(\":\");\n    }\n    default: {\n      throw new Error(\"Invalid ip length\");\n    }\n  }\n}\n\n/**\n * If mask is a sequence of 1 bits followed by 0 bits, return number of 1 bits else -1\n */\nexport function simpleMaskLength(mask: Uint8Array): number {\n  let ones = 0;\n  // eslint-disable-next-line prefer-const\n  for (let [index, byte] of mask.entries()) {\n    if (byte === 0xff) {\n      ones += 8;\n      continue;\n    }\n    while ((byte & 0x80) != 0) {\n      ones++;\n      byte = byte << 1;\n    }\n    if ((byte & 0x80) != 0) {\n      return -1;\n    }\n    for (let i = index + 1; i < mask.length; i++) {\n      if (mask[i] != 0) {\n        return -1;\n      }\n    }\n    break;\n  }\n  return ones;\n}\n\nexport function maskToHex(mask: Uint8Array): string {\n  let hex = \"0x\";\n  for (const byte of mask) {\n    hex += (byte >> 4).toString(16) + (byte & 0x0f).toString(16);\n  }\n  return hex;\n}\n", "import { parseIP } from \"@chainsafe/is-ip/parse\";\nimport { allFF, deepEqual } from \"./util.js\";\n\nexport const IPv4Len = 4;\nexport const IPv6Len = 16;\n\nexport const maxIPv6Octet = parseInt(\"0xFFFF\", 16);\nexport const ipv4Prefix = new Uint8Array([\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255,\n]);\n\nexport interface IpNetRaw {\n  network: Uint8Array;\n  mask: Uint8Array;\n}\n\nexport function maskIp(ip: Uint8Array, mask: Uint8Array): Uint8Array {\n  if (mask.length === IPv6Len && ip.length === IPv4Len && allFF(mask, 0, 11)) {\n    mask = mask.slice(12);\n  }\n  if (\n    mask.length === IPv4Len &&\n    ip.length === IPv6Len &&\n    deepEqual(ip, ipv4Prefix, 0, 11)\n  ) {\n    ip = ip.slice(12);\n  }\n  const n = ip.length;\n  if (n != mask.length) {\n    throw new Error(\"Failed to mask ip\");\n  }\n  const out = new Uint8Array(n);\n  for (let i = 0; i < n; i++) {\n    out[i] = ip[i] & mask[i];\n  }\n  return out;\n}\n\nexport function containsIp(\n  net: IpNetRaw,\n  ip: Uint8Array | number[] | string\n): boolean {\n  if (typeof ip === \"string\") {\n    ip = parseIP(ip)!;\n  }\n  if (ip == null) throw new Error(\"Invalid ip\");\n  if (ip.length !== net.network.length) {\n    return false;\n  }\n  for (let i = 0; i < ip.length; i++) {\n    if ((net.network[i] & net.mask[i]) !== (ip[i] & net.mask[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function iPv4FromIPv6(ip: Uint8Array): Uint8Array {\n  if (!isIPv4mappedIPv6(ip)) {\n    throw new Error(\"Must have 0xffff prefix\");\n  }\n  return ip.slice(12);\n}\n\nexport function isIPv4mappedIPv6(ip: Uint8Array | number[]): boolean {\n  return deepEqual(ip, ipv4Prefix, 0, 11);\n}\n", "import { parseIPv4, parseIPv6 } from \"@chainsafe/is-ip/parse\";\nimport { IPv4Len, IPv6Len, maskIp } from \"./ip.js\";\n\nexport function parseCidr(s: string): {\n  network: Uint8Array;\n  mask: Uint8Array;\n} {\n  const [address, maskString] = s.split(\"/\");\n  if (!address || !maskString)\n    throw new Error(\"Failed to parse given CIDR: \" + s);\n  let ipLength = IPv4Len;\n  let ip = parseIPv4(address);\n  if (ip == null) {\n    ipLength = IPv6Len;\n    ip = parseIPv6(address);\n    if (ip == null) throw new Error(\"Failed to parse given CIDR: \" + s);\n  }\n  const m = parseInt(maskString, 10);\n  if (\n    Number.isNaN(m) ||\n    String(m).length !== maskString.length ||\n    m < 0 ||\n    m > ipLength * 8\n  ) {\n    throw new Error(\"Failed to parse given CIDR: \" + s);\n  }\n  const mask = cidrMask(m, 8 * ipLength);\n  return {\n    network: maskIp(ip, mask),\n    mask,\n  };\n}\n\nexport function cidrMask(ones: number, bits: number): Uint8Array {\n  if (bits !== 8 * IPv4Len && bits !== 8 * IPv6Len)\n    throw new Error(\"Invalid CIDR mask\");\n  if (ones < 0 || ones > bits) throw new Error(\"Invalid CIDR mask\");\n  const l = bits / 8;\n  const m = new Uint8Array(l);\n  for (let i = 0; i < l; i++) {\n    if (ones >= 8) {\n      m[i] = 0xff;\n      ones -= 8;\n      continue;\n    }\n    m[i] = 255 - (0xff >> ones);\n    ones = 0;\n  }\n  return m;\n}\n", "import { parseIP } from \"@chainsafe/is-ip/parse\";\nimport { cidrMask, parseCidr } from \"./cidr.js\";\nimport { containsIp, maskIp } from \"./ip.js\";\nimport { ipToString, maskToHex, simpleMaskLength } from \"./util.js\";\n\nexport class IpNet {\n  public readonly network: Uint8Array;\n  public readonly mask: Uint8Array;\n\n  /**\n   *\n   * @param ipOrCidr either network ip or full cidr address\n   * @param mask in case ipOrCidr is network this can be either mask in decimal format or as ip address\n   */\n  constructor(ipOrCidr: string, mask?: string | number) {\n    if (mask == null) {\n      ({ network: this.network, mask: this.mask } = parseCidr(ipOrCidr));\n    } else {\n      const ipResult = parseIP(ipOrCidr);\n      if (ipResult == null) {\n        throw new Error(\"Failed to parse network\");\n      }\n      mask = String(mask);\n      const m = parseInt(mask, 10);\n      if (\n        Number.isNaN(m) ||\n        String(m).length !== mask.length ||\n        m < 0 ||\n        m > ipResult.length * 8\n      ) {\n        const maskResult = parseIP(mask);\n        if (maskResult == null) {\n          throw new Error(\"Failed to parse mask\");\n        }\n        this.mask = maskResult;\n      } else {\n        this.mask = cidrMask(m, 8 * ipResult.length);\n      }\n      this.network = maskIp(ipResult, this.mask);\n    }\n  }\n\n  /**\n   * Checks if netmask contains ip address\n   * @param ip\n   * @returns\n   */\n  contains(ip: Uint8Array | number[] | string): boolean {\n    return containsIp({ network: this.network, mask: this.mask }, ip);\n  }\n\n  /**Serializes back to string format */\n  toString(): string {\n    const l = simpleMaskLength(this.mask);\n    const mask = l !== -1 ? String(l) : maskToHex(this.mask);\n    return ipToString(this.network) + \"/\" + mask;\n  }\n}\n", "import bases, { type SupportedEncodings } from './util/bases.js'\n\nexport type { SupportedEncodings }\n\n/**\n * Create a `Uint8Array` from the passed string\n *\n * Supports `utf8`, `utf-8`, `hex`, and any encoding supported by the multiformats module.\n *\n * Also `ascii` which is similar to node's 'binary' encoding.\n */\nexport function fromString (string: string, encoding: SupportedEncodings = 'utf8'): Uint8Array {\n  const base = bases[encoding]\n\n  if (base == null) {\n    throw new Error(`Unsupported encoding \"${encoding}\"`)\n  }\n\n  // add multibase prefix\n  return base.decoder.decode(`${base.prefix}${string}`) // eslint-disable-line @typescript-eslint/restrict-template-expressions\n}\n", "import { parseIP, parseIPv4, parseIPv6 } from \"./parse.js\";\n\n/** Check if `input` is IPv4. */\nexport function isIPv4(input: string): boolean {\n  return Boolean(parseIPv4(input));\n}\n\n/** Check if `input` is IPv6. */\nexport function isIPv6(input: string): boolean {\n  return Boolean(parseIPv6(input));\n}\n\n/** Check if `input` is IPv4 or IPv6. */\nexport function isIP(input: string): boolean {\n  return Boolean(parseIP(input));\n}\n\n/**\n * @returns `6` if `input` is IPv6, `4` if `input` is IPv4, or `undefined` if `input` is neither.\n */\nexport function ipVersion(input: string): 4 | 6 | undefined {\n  if (isIPv4(input)) {\n    return 4;\n  } else if (isIPv6(input)) {\n    return 6;\n  } else {\n    return undefined;\n  }\n}\n", "import { isIPv4, isIPv6 } from '@chainsafe/is-ip'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\n\nexport { isIP } from '@chainsafe/is-ip'\nexport const isV4 = isIPv4\nexport const isV6 = isIPv6\n\n// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L7\n// but with buf/offset args removed because we don't use them\nexport const toBytes = function (ip: string): Uint8Array {\n  let offset = 0\n  ip = ip.toString().trim()\n\n  if (isV4(ip)) {\n    const bytes = new Uint8Array(offset + 4)\n\n    ip.split(/\\./g).forEach((byte) => {\n      bytes[offset++] = parseInt(byte, 10) & 0xff\n    })\n\n    return bytes\n  }\n\n  if (isV6(ip)) {\n    const sections = ip.split(':', 8)\n\n    let i\n    for (i = 0; i < sections.length; i++) {\n      const isv4 = isV4(sections[i])\n      let v4Buffer: Uint8Array | undefined\n\n      if (isv4) {\n        v4Buffer = toBytes(sections[i])\n        sections[i] = uint8ArrayToString(v4Buffer.slice(0, 2), 'base16')\n      }\n\n      if (v4Buffer != null && ++i < 8) {\n        sections.splice(i, 0, uint8ArrayToString(v4Buffer.slice(2, 4), 'base16'))\n      }\n    }\n\n    if (sections[0] === '') {\n      while (sections.length < 8) { sections.unshift('0') }\n    } else if (sections[sections.length - 1] === '') {\n      while (sections.length < 8) { sections.push('0') }\n    } else if (sections.length < 8) {\n      for (i = 0; i < sections.length && sections[i] !== ''; i++) { }\n      const argv: [number, number, ...string[]] = [i, 1]\n      for (i = 9 - sections.length; i > 0; i--) {\n        argv.push('0')\n      }\n      sections.splice.apply(sections, argv)\n    }\n\n    const bytes = new Uint8Array(offset + 16)\n\n    for (i = 0; i < sections.length; i++) {\n      const word = parseInt(sections[i], 16)\n      bytes[offset++] = (word >> 8) & 0xff\n      bytes[offset++] = word & 0xff\n    }\n\n    return bytes\n  }\n\n  throw new Error('invalid ip address')\n}\n\n// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L63\nexport const toString = function (buf: Uint8Array, offset: number = 0, length?: number): string {\n  offset = ~~offset\n  length = length ?? (buf.length - offset)\n\n  const view = new DataView(buf.buffer)\n\n  if (length === 4) {\n    const result = []\n\n    // IPv4\n    for (let i = 0; i < length; i++) {\n      result.push(buf[offset + i])\n    }\n\n    return result.join('.')\n  }\n\n  if (length === 16) {\n    const result = []\n\n    // IPv6\n    for (let i = 0; i < length; i += 2) {\n      result.push(view.getUint16(offset + i).toString(16))\n    }\n\n    return result.join(':')\n      .replace(/(^|:)0(:0)*:0(:|$)/, '$1::$3')\n      .replace(/:{3,4}/, '::')\n  }\n\n  return ''\n}\n", "import type { Protocol } from './index.js'\n\nconst V = -1\nexport const names: Record<string, Protocol> = {}\nexport const codes: Record<number, Protocol> = {}\n\nexport const table: Array<[number, number, string, boolean?, boolean?]> = [\n  [4, 32, 'ip4'],\n  [6, 16, 'tcp'],\n  [33, 16, 'dccp'],\n  [41, 128, 'ip6'],\n  [42, V, 'ip6zone'],\n  [43, 8, 'ipcidr'],\n  [53, V, 'dns', true],\n  [54, V, 'dns4', true],\n  [55, V, 'dns6', true],\n  [56, V, 'dnsaddr', true],\n  [132, 16, 'sctp'],\n  [273, 16, 'udp'],\n  [275, 0, 'p2p-webrtc-star'],\n  [276, 0, 'p2p-webrtc-direct'],\n  [277, 0, 'p2p-stardust'],\n  [280, 0, 'webrtc-direct'],\n  [281, 0, 'webrtc'],\n  [290, 0, 'p2p-circuit'],\n  [301, 0, 'udt'],\n  [302, 0, 'utp'],\n  [400, V, 'unix', false, true],\n  // `ipfs` is added before `p2p` for legacy support.\n  // All text representations will default to `p2p`, but `ipfs` will\n  // still be supported\n  [421, V, 'ipfs'],\n  // `p2p` is the preferred name for 421, and is now the default\n  [421, V, 'p2p'],\n  [443, 0, 'https'],\n  [444, 96, 'onion'],\n  [445, 296, 'onion3'],\n  [446, V, 'garlic64'],\n  [448, 0, 'tls'],\n  [449, V, 'sni'],\n  [460, 0, 'quic'],\n  [461, 0, 'quic-v1'],\n  [465, 0, 'webtransport'],\n  [466, V, 'certhash'],\n  [477, 0, 'ws'],\n  [478, 0, 'wss'],\n  [479, 0, 'p2p-websocket-star'],\n  [480, 0, 'http'],\n  [481, V, 'http-path'],\n  [777, V, 'memory']\n]\n\n// populate tables\ntable.forEach(row => {\n  const proto = createProtocol(...row)\n  codes[proto.code] = proto\n  names[proto.name] = proto\n})\n\nexport function createProtocol (code: number, size: number, name: string, resolvable?: any, path?: any): Protocol {\n  return {\n    code,\n    size,\n    name,\n    resolvable: Boolean(resolvable),\n    path: Boolean(path)\n  }\n}\n\n/**\n * For the passed proto string or number, return a {@link Protocol}\n *\n * @example\n *\n * ```js\n * import { protocol } from '@multiformats/multiaddr'\n *\n * console.info(protocol(4))\n * // { code: 4, size: 32, name: 'ip4', resolvable: false, path: false }\n * ```\n */\nexport function getProtocol (proto: number | string): Protocol {\n  if (typeof proto === 'number') {\n    if (codes[proto] != null) {\n      return codes[proto]\n    }\n\n    throw new Error(`no protocol with code: ${proto}`)\n  } else if (typeof proto === 'string') {\n    if (names[proto] != null) {\n      return names[proto]\n    }\n\n    throw new Error(`no protocol with name: ${proto}`)\n  }\n\n  throw new Error(`invalid protocol id type: ${typeof proto}`)\n}\n", "import { IpNet } from '@chainsafe/netmask'\nimport { base32 } from 'multiformats/bases/base32'\nimport { base58btc } from 'multiformats/bases/base58'\nimport { bases } from 'multiformats/basics'\nimport { CID } from 'multiformats/cid'\nimport * as Digest from 'multiformats/hashes/digest'\nimport * as varint from 'uint8-varint'\nimport { concat as uint8ArrayConcat } from 'uint8arrays/concat'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\nimport * as ip from './ip.js'\nimport { getProtocol } from './protocols-table.js'\nimport type { Multiaddr } from './index.js'\n\nconst ip4Protocol = getProtocol('ip4')\nconst ip6Protocol = getProtocol('ip6')\nconst ipcidrProtocol = getProtocol('ipcidr')\n\n/**\n * converts (serializes) addresses\n */\nexport function convert (proto: string, a: string): Uint8Array\nexport function convert (proto: string, a: Uint8Array): string\nexport function convert (proto: string, a: string | Uint8Array): Uint8Array | string {\n  if (a instanceof Uint8Array) {\n    return convertToString(proto, a)\n  } else {\n    return convertToBytes(proto, a)\n  }\n}\n\n/**\n * Convert [code,Uint8Array] to string\n */\n// eslint-disable-next-line complexity\nexport function convertToString (proto: number | string, buf: Uint8Array): string {\n  const protocol = getProtocol(proto)\n  switch (protocol.code) {\n    case 4: // ipv4\n    case 41: // ipv6\n      return bytes2ip(buf)\n    case 42: // ipv6zone\n      return bytes2str(buf)\n    case 43: // ipcidr\n      return uint8ArrayToString(buf, 'base10')\n\n    case 6: // tcp\n    case 273: // udp\n    case 33: // dccp\n    case 132: // sctp\n      return bytes2port(buf).toString()\n\n    case 53: // dns\n    case 54: // dns4\n    case 55: // dns6\n    case 56: // dnsaddr\n    case 400: // unix\n    case 449: // sni\n    case 777: // memory\n      return bytes2str(buf)\n\n    case 421: // ipfs\n      return bytes2mh(buf)\n    case 444: // onion\n      return bytes2onion(buf)\n    case 445: // onion3\n      return bytes2onion(buf)\n    case 466: // certhash\n      return bytes2mb(buf)\n    case 481: // http-path\n      return globalThis.encodeURIComponent(bytes2str(buf))\n    default:\n      return uint8ArrayToString(buf, 'base16') // no clue. convert to hex\n  }\n}\n\n// eslint-disable-next-line complexity\nexport function convertToBytes (proto: string | number, str: string): Uint8Array {\n  const protocol = getProtocol(proto)\n  switch (protocol.code) {\n    case 4: // ipv4\n      return ip2bytes(str)\n    case 41: // ipv6\n      return ip2bytes(str)\n    case 42: // ipv6zone\n      return str2bytes(str)\n    case 43: // ipcidr\n      return uint8ArrayFromString(str, 'base10')\n\n    case 6: // tcp\n    case 273: // udp\n    case 33: // dccp\n    case 132: // sctp\n      return port2bytes(parseInt(str, 10))\n\n    case 53: // dns\n    case 54: // dns4\n    case 55: // dns6\n    case 56: // dnsaddr\n    case 400: // unix\n    case 449: // sni\n    case 777: // memory\n      return str2bytes(str)\n\n    case 421: // ipfs\n      return mh2bytes(str)\n    case 444: // onion\n      return onion2bytes(str)\n    case 445: // onion3\n      return onion32bytes(str)\n    case 466: // certhash\n      return mb2bytes(str)\n    case 481: // http-path\n      return str2bytes(globalThis.decodeURIComponent(str))\n    default:\n      return uint8ArrayFromString(str, 'base16') // no clue. convert from hex\n  }\n}\n\nexport function convertToIpNet (multiaddr: Multiaddr): IpNet {\n  let mask: string | undefined\n  let addr: string | undefined\n  multiaddr.stringTuples().forEach(([code, value]) => {\n    if (code === ip4Protocol.code || code === ip6Protocol.code) {\n      addr = value\n    }\n    if (code === ipcidrProtocol.code) {\n      mask = value\n    }\n  })\n  if (mask == null || addr == null) {\n    throw new Error('Invalid multiaddr')\n  }\n  return new IpNet(addr, mask)\n}\n\nconst decoders = Object.values(bases).map((c) => c.decoder)\nconst anybaseDecoder = (function () {\n  let acc = decoders[0].or(decoders[1])\n  decoders.slice(2).forEach((d) => (acc = acc.or(d)))\n  return acc\n})()\n\nfunction ip2bytes (ipString: string): Uint8Array {\n  if (!ip.isIP(ipString)) {\n    throw new Error('invalid ip address')\n  }\n  return ip.toBytes(ipString)\n}\n\nfunction bytes2ip (ipBuff: Uint8Array): string {\n  const ipString = ip.toString(ipBuff, 0, ipBuff.length)\n  if (ipString == null) {\n    throw new Error('ipBuff is required')\n  }\n  if (!ip.isIP(ipString)) {\n    throw new Error('invalid ip address')\n  }\n  return ipString\n}\n\nfunction port2bytes (port: number): Uint8Array {\n  const buf = new ArrayBuffer(2)\n  const view = new DataView(buf)\n  view.setUint16(0, port)\n\n  return new Uint8Array(buf)\n}\n\nfunction bytes2port (buf: Uint8Array): number {\n  const view = new DataView(buf.buffer)\n  return view.getUint16(buf.byteOffset)\n}\n\nfunction str2bytes (str: string): Uint8Array {\n  const buf = uint8ArrayFromString(str)\n  const size = Uint8Array.from(varint.encode(buf.length))\n  return uint8ArrayConcat([size, buf], size.length + buf.length)\n}\n\nfunction bytes2str (buf: Uint8Array): string {\n  const size = varint.decode(buf)\n  buf = buf.slice(varint.encodingLength(size))\n\n  if (buf.length !== size) {\n    throw new Error('inconsistent lengths')\n  }\n\n  return uint8ArrayToString(buf)\n}\n\nfunction mh2bytes (hash: string): Uint8Array {\n  let mh\n\n  if (hash[0] === 'Q' || hash[0] === '1') {\n    mh = Digest.decode(base58btc.decode(`z${hash}`)).bytes\n  } else {\n    mh = CID.parse(hash).multihash.bytes\n  }\n\n  // the address is a varint prefixed multihash string representation\n  const size = Uint8Array.from(varint.encode(mh.length))\n  return uint8ArrayConcat([size, mh], size.length + mh.length)\n}\n\nfunction mb2bytes (mbstr: string): Uint8Array {\n  const mb = anybaseDecoder.decode(mbstr)\n  const size = Uint8Array.from(varint.encode(mb.length))\n  return uint8ArrayConcat([size, mb], size.length + mb.length)\n}\nfunction bytes2mb (buf: Uint8Array): string {\n  const size = varint.decode(buf)\n  const hash = buf.slice(varint.encodingLength(size))\n\n  if (hash.length !== size) {\n    throw new Error('inconsistent lengths')\n  }\n\n  return 'u' + uint8ArrayToString(hash, 'base64url')\n}\n\n/**\n * Converts bytes to bas58btc string\n */\nfunction bytes2mh (buf: Uint8Array): string {\n  const size = varint.decode(buf)\n  const address = buf.slice(varint.encodingLength(size))\n\n  if (address.length !== size) {\n    throw new Error('inconsistent lengths')\n  }\n\n  return uint8ArrayToString(address, 'base58btc')\n}\n\nfunction onion2bytes (str: string): Uint8Array {\n  const addr = str.split(':')\n  if (addr.length !== 2) {\n    throw new Error(`failed to parse onion addr: [\"'${addr.join('\", \"')}'\"]' does not contain a port number`)\n  }\n  if (addr[0].length !== 16) {\n    throw new Error(`failed to parse onion addr: ${addr[0]} not a Tor onion address.`)\n  }\n\n  // onion addresses do not include the multibase prefix, add it before decoding\n  const buf = base32.decode('b' + addr[0])\n\n  // onion port number\n  const port = parseInt(addr[1], 10)\n  if (port < 1 || port > 65536) {\n    throw new Error('Port number is not in range(1, 65536)')\n  }\n  const portBuf = port2bytes(port)\n  return uint8ArrayConcat([buf, portBuf], buf.length + portBuf.length)\n}\n\nfunction onion32bytes (str: string): Uint8Array {\n  const addr = str.split(':')\n  if (addr.length !== 2) {\n    throw new Error(`failed to parse onion addr: [\"'${addr.join('\", \"')}'\"]' does not contain a port number`)\n  }\n  if (addr[0].length !== 56) {\n    throw new Error(`failed to parse onion addr: ${addr[0]} not a Tor onion3 address.`)\n  }\n  // onion addresses do not include the multibase prefix, add it before decoding\n  const buf = base32.decode(`b${addr[0]}`)\n\n  // onion port number\n  const port = parseInt(addr[1], 10)\n  if (port < 1 || port > 65536) {\n    throw new Error('Port number is not in range(1, 65536)')\n  }\n  const portBuf = port2bytes(port)\n  return uint8ArrayConcat([buf, portBuf], buf.length + portBuf.length)\n}\n\nfunction bytes2onion (buf: Uint8Array): string {\n  const addrBytes = buf.slice(0, buf.length - 2)\n  const portBytes = buf.slice(buf.length - 2)\n  const addr = uint8ArrayToString(addrBytes, 'base32')\n  const port = bytes2port(portBytes)\n  return `${addr}:${port}`\n}\n", "import * as varint from 'uint8-varint'\nimport { concat as uint8ArrayConcat } from 'uint8arrays/concat'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\nimport { convertToBytes, convertToString } from './convert.js'\nimport { getProtocol } from './protocols-table.js'\nimport type { StringTuple, Tuple, Protocol } from './index.js'\n\nexport interface MultiaddrParts {\n  bytes: Uint8Array\n  string: string\n  tuples: Tuple[]\n  stringTuples: StringTuple[]\n  path: string | null\n}\n\nexport function stringToMultiaddrParts (str: string): MultiaddrParts {\n  str = cleanPath(str)\n  const tuples: Tuple[] = []\n  const stringTuples: StringTuple[] = []\n  let path: string | null = null\n\n  const parts = str.split('/').slice(1)\n  if (parts.length === 1 && parts[0] === '') {\n    return {\n      bytes: new Uint8Array(),\n      string: '/',\n      tuples: [],\n      stringTuples: [],\n      path: null\n    }\n  }\n\n  for (let p = 0; p < parts.length; p++) {\n    const part = parts[p]\n    const proto = getProtocol(part)\n\n    if (proto.size === 0) {\n      tuples.push([proto.code])\n      stringTuples.push([proto.code])\n\n      continue\n    }\n\n    p++ // advance addr part\n    if (p >= parts.length) {\n      throw new ParseError('invalid address: ' + str)\n    }\n\n    // if it's a path proto, take the rest\n    if (proto.path === true) {\n      // should we need to check each path part to see if it's a proto?\n      // This would allow for other protocols to be added after a unix path,\n      // however it would have issues if the path had a protocol name in the path\n      path = cleanPath(parts.slice(p).join('/'))\n      tuples.push([proto.code, convertToBytes(proto.code, path)])\n      stringTuples.push([proto.code, path])\n      break\n    }\n\n    const bytes = convertToBytes(proto.code, parts[p])\n    tuples.push([proto.code, bytes])\n    stringTuples.push([proto.code, convertToString(proto.code, bytes)])\n  }\n\n  return {\n    string: stringTuplesToString(stringTuples),\n    bytes: tuplesToBytes(tuples),\n    tuples,\n    stringTuples,\n    path\n  }\n}\n\nexport function bytesToMultiaddrParts (bytes: Uint8Array): MultiaddrParts {\n  const tuples: Tuple[] = []\n  const stringTuples: StringTuple[] = []\n  let path: string | null = null\n\n  let i = 0\n  while (i < bytes.length) {\n    const code = varint.decode(bytes, i)\n    const n = varint.encodingLength(code)\n\n    const p = getProtocol(code)\n\n    const size = sizeForAddr(p, bytes.slice(i + n))\n\n    if (size === 0) {\n      tuples.push([code])\n      stringTuples.push([code])\n      i += n\n\n      continue\n    }\n\n    const addr = bytes.slice(i + n, i + n + size)\n\n    i += (size + n)\n\n    if (i > bytes.length) { // did not end _exactly_ at buffer.length\n      throw new ParseError('Invalid address Uint8Array: ' + uint8ArrayToString(bytes, 'base16'))\n    }\n\n    // ok, tuple seems good.\n    tuples.push([code, addr])\n    const stringAddr = convertToString(code, addr)\n    stringTuples.push([code, stringAddr])\n    if (p.path === true) {\n      // should we need to check each path part to see if it's a proto?\n      // This would allow for other protocols to be added after a unix path,\n      // however it would have issues if the path had a protocol name in the path\n      path = stringAddr\n      break\n    }\n  }\n\n  return {\n    bytes: Uint8Array.from(bytes),\n    string: stringTuplesToString(stringTuples),\n    tuples,\n    stringTuples,\n    path\n  }\n}\n\n/**\n * [[num code, str value?]... ] -> Tuple[]\n */\nexport function stringTuplesToTuples (stringTuples: StringTuple[]): Tuple[] {\n  const tuples: Tuple[] = []\n\n  stringTuples.forEach(([code, value]) => {\n    const tuple: Tuple = [code]\n\n    if (value != null) {\n      tuple[1] = convertToBytes(code, value)\n    }\n\n    tuples.push(tuple)\n  })\n\n  return tuples\n}\n\n/**\n * [[num code, str value?]... ] -> string\n */\nfunction stringTuplesToString (tuples: StringTuple[]): string {\n  const parts: string[] = []\n  tuples.map((tup) => {\n    const proto = getProtocol(tup[0])\n    parts.push(proto.name)\n    if (tup.length > 1 && tup[1] != null) {\n      parts.push(tup[1])\n    }\n    return null\n  })\n\n  return cleanPath(parts.join('/'))\n}\n\n/**\n * [[int code, Uint8Array ]... ] -> Uint8Array\n */\nexport function tuplesToBytes (tuples: Tuple[]): Uint8Array {\n  return uint8ArrayConcat(tuples.map((tup) => {\n    const proto = getProtocol(tup[0])\n    let buf: Uint8Array = Uint8Array.from(varint.encode(proto.code))\n\n    if (tup.length > 1 && tup[1] != null) {\n      buf = uint8ArrayConcat([buf, tup[1]]) // add address buffer\n    }\n\n    return buf\n  }))\n}\n\n/**\n * For the passed address, return the serialized size\n */\nfunction sizeForAddr (p: Protocol, addr: Uint8Array | number[]): number {\n  if (p.size > 0) {\n    return p.size / 8\n  } else if (p.size === 0) {\n    return 0\n  } else {\n    const size = varint.decode(addr instanceof Uint8Array ? addr : Uint8Array.from(addr))\n    return size + varint.encodingLength(size)\n  }\n}\n\nexport function bytesToTuples (buf: Uint8Array): Tuple[] {\n  const tuples: Array<[number, Uint8Array?]> = []\n  let i = 0\n  while (i < buf.length) {\n    const code = varint.decode(buf, i)\n    const n = varint.encodingLength(code)\n\n    const p = getProtocol(code)\n\n    const size = sizeForAddr(p, buf.slice(i + n))\n\n    if (size === 0) {\n      tuples.push([code])\n      i += n\n\n      continue\n    }\n\n    const addr = buf.slice(i + n, i + n + size)\n\n    i += (size + n)\n\n    if (i > buf.length) { // did not end _exactly_ at buffer.length\n      throw new ParseError('Invalid address Uint8Array: ' + uint8ArrayToString(buf, 'base16'))\n    }\n\n    // ok, tuple seems good.\n    tuples.push([code, addr])\n  }\n\n  return tuples\n}\n\nexport function cleanPath (str: string): string {\n  return '/' + str.trim().split('/').filter((a) => a).join('/')\n}\n\nexport class ParseError extends Error {\n  static name = 'ParseError'\n  name = 'ParseError'\n\n  constructor (str: string) {\n    super(`Error parsing address: ${str}`)\n  }\n}\n", "/**\n * Returns true if the two passed Uint8Arrays have the same content\n */\nexport function equals (a: Uint8Array, b: Uint8Array): boolean {\n  if (a === b) {\n    return true\n  }\n\n  if (a.byteLength !== b.byteLength) {\n    return false\n  }\n\n  for (let i = 0; i < a.byteLength; i++) {\n    if (a[i] !== b[i]) {\n      return false\n    }\n  }\n\n  return true\n}\n", "/* eslint-disable complexity */\nimport { base58btc } from 'multiformats/bases/base58'\nimport { CID } from 'multiformats/cid'\nimport { equals as uint8ArrayEquals } from 'uint8arrays/equals'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\nimport { bytesToMultiaddrParts, stringToMultiaddrParts, tuplesToBytes } from './codec.js'\nimport { getProtocol, names } from './protocols-table.js'\nimport { isMultiaddr, multiaddr, resolvers } from './index.js'\nimport type { MultiaddrParts } from './codec.js'\nimport type { MultiaddrInput, Multiaddr as MultiaddrInterface, MultiaddrObject, Protocol, StringTuple, Tuple, NodeAddress, ResolveOptions } from './index.js'\n\nconst inspect = Symbol.for('nodejs.util.inspect.custom')\nexport const symbol = Symbol.for('@multiformats/js-multiaddr/multiaddr')\n\nconst DNS_CODES = [\n  getProtocol('dns').code,\n  getProtocol('dns4').code,\n  getProtocol('dns6').code,\n  getProtocol('dnsaddr').code\n]\n\nclass NoAvailableResolverError extends Error {\n  constructor (message = 'No available resolver') {\n    super(message)\n    this.name = 'NoAvailableResolverError'\n  }\n}\n\n/**\n * Creates a {@link Multiaddr} from a {@link MultiaddrInput}\n */\nexport class Multiaddr implements MultiaddrInterface {\n  public bytes: Uint8Array\n  readonly #string: string\n  readonly #tuples: Tuple[]\n  readonly #stringTuples: StringTuple[]\n  readonly #path: string | null\n\n  [symbol]: boolean = true\n\n  constructor (addr?: MultiaddrInput) {\n    // default\n    if (addr == null) {\n      addr = ''\n    }\n\n    let parts: MultiaddrParts\n    if (addr instanceof Uint8Array) {\n      parts = bytesToMultiaddrParts(addr)\n    } else if (typeof addr === 'string') {\n      if (addr.length > 0 && addr.charAt(0) !== '/') {\n        throw new Error(`multiaddr \"${addr}\" must start with a \"/\"`)\n      }\n      parts = stringToMultiaddrParts(addr)\n    } else if (isMultiaddr(addr)) { // Multiaddr\n      parts = bytesToMultiaddrParts(addr.bytes)\n    } else {\n      throw new Error('addr must be a string, Buffer, or another Multiaddr')\n    }\n\n    this.bytes = parts.bytes\n    this.#string = parts.string\n    this.#tuples = parts.tuples\n    this.#stringTuples = parts.stringTuples\n    this.#path = parts.path\n  }\n\n  toString (): string {\n    return this.#string\n  }\n\n  toJSON (): string {\n    return this.toString()\n  }\n\n  toOptions (): MultiaddrObject {\n    let family: 4 | 6 | undefined\n    let transport: 'tcp' | 'udp' | undefined\n    let host: string | undefined\n    let port: number | undefined\n    let zone = ''\n\n    const tcp = getProtocol('tcp')\n    const udp = getProtocol('udp')\n    const ip4 = getProtocol('ip4')\n    const ip6 = getProtocol('ip6')\n    const dns6 = getProtocol('dns6')\n    const ip6zone = getProtocol('ip6zone')\n\n    for (const [code, value] of this.stringTuples()) {\n      if (code === ip6zone.code) {\n        zone = `%${value ?? ''}`\n      }\n\n      // default to https when protocol & port are omitted from DNS addrs\n      if (DNS_CODES.includes(code)) {\n        transport = tcp.name === 'tcp' ? 'tcp' : 'udp'\n        port = 443\n        host = `${value ?? ''}${zone}`\n        family = code === dns6.code ? 6 : 4\n      }\n\n      if (code === tcp.code || code === udp.code) {\n        transport = getProtocol(code).name === 'tcp' ? 'tcp' : 'udp'\n        port = parseInt(value ?? '')\n      }\n\n      if (code === ip4.code || code === ip6.code) {\n        transport = getProtocol(code).name === 'tcp' ? 'tcp' : 'udp'\n        host = `${value ?? ''}${zone}`\n        family = code === ip6.code ? 6 : 4\n      }\n    }\n\n    if (family == null || transport == null || host == null || port == null) {\n      throw new Error('multiaddr must have a valid format: \"/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}\".')\n    }\n\n    const opts: MultiaddrObject = {\n      family,\n      host,\n      transport,\n      port\n    }\n\n    return opts\n  }\n\n  protos (): Protocol[] {\n    return this.#tuples.map(([code]) => Object.assign({}, getProtocol(code)))\n  }\n\n  protoCodes (): number[] {\n    return this.#tuples.map(([code]) => code)\n  }\n\n  protoNames (): string[] {\n    return this.#tuples.map(([code]) => getProtocol(code).name)\n  }\n\n  tuples (): Array<[number, Uint8Array?]> {\n    return this.#tuples.map(([code, value]) => {\n      if (value == null) {\n        return [code]\n      }\n\n      return [code, value]\n    })\n  }\n\n  stringTuples (): Array<[number, string?]> {\n    return this.#stringTuples.map(([code, value]) => {\n      if (value == null) {\n        return [code]\n      }\n\n      return [code, value]\n    })\n  }\n\n  encapsulate (addr: MultiaddrInput): Multiaddr {\n    addr = new Multiaddr(addr)\n    return new Multiaddr(this.toString() + addr.toString())\n  }\n\n  decapsulate (addr: Multiaddr | string): Multiaddr {\n    const addrString = addr.toString()\n    const s = this.toString()\n    const i = s.lastIndexOf(addrString)\n    if (i < 0) {\n      throw new Error(`Address ${this.toString()} does not contain subaddress: ${addr.toString()}`)\n    }\n    return new Multiaddr(s.slice(0, i))\n  }\n\n  decapsulateCode (code: number): Multiaddr {\n    const tuples = this.tuples()\n    for (let i = tuples.length - 1; i >= 0; i--) {\n      if (tuples[i][0] === code) {\n        return new Multiaddr(tuplesToBytes(tuples.slice(0, i)))\n      }\n    }\n    return this\n  }\n\n  getPeerId (): string | null {\n    try {\n      let tuples: Array<[number, string | undefined]> = []\n\n      this.stringTuples().forEach(([code, name]) => {\n        if (code === names.p2p.code) {\n          tuples.push([code, name])\n        }\n\n        // if this is a p2p-circuit address, return the target peer id if present\n        // not the peer id of the relay\n        if (code === names['p2p-circuit'].code) {\n          tuples = []\n        }\n      })\n\n      // Get the last ipfs tuple ['p2p', 'peerid string']\n      const tuple = tuples.pop()\n      if (tuple?.[1] != null) {\n        const peerIdStr = tuple[1]\n\n        // peer id is base58btc encoded string but not multibase encoded so add the `z`\n        // prefix so we can validate that it is correctly encoded\n        if (peerIdStr[0] === 'Q' || peerIdStr[0] === '1') {\n          return uint8ArrayToString(base58btc.decode(`z${peerIdStr}`), 'base58btc')\n        }\n\n        // try to parse peer id as CID\n        return uint8ArrayToString(CID.parse(peerIdStr).multihash.bytes, 'base58btc')\n      }\n\n      return null\n    } catch (e) {\n      return null\n    }\n  }\n\n  getPath (): string | null {\n    return this.#path\n  }\n\n  equals (addr: { bytes: Uint8Array }): boolean {\n    return uint8ArrayEquals(this.bytes, addr.bytes)\n  }\n\n  async resolve (options?: ResolveOptions): Promise<MultiaddrInterface[]> {\n    const resolvableProto = this.protos().find((p) => p.resolvable)\n\n    // Multiaddr is not resolvable?\n    if (resolvableProto == null) {\n      return [this]\n    }\n\n    const resolver = resolvers.get(resolvableProto.name)\n    if (resolver == null) {\n      throw new NoAvailableResolverError(`no available resolver for ${resolvableProto.name}`)\n    }\n\n    const result = await resolver(this, options)\n\n    return result.map(str => multiaddr(str))\n  }\n\n  nodeAddress (): NodeAddress {\n    const options = this.toOptions()\n\n    if (options.transport !== 'tcp' && options.transport !== 'udp') {\n      throw new Error(`multiaddr must have a valid format - no protocol with name: \"${options.transport}\". Must have a valid transport protocol: \"{tcp, udp}\"`)\n    }\n\n    return {\n      family: options.family,\n      address: options.host,\n      port: options.port\n    }\n  }\n\n  isThinWaistAddress (addr?: Multiaddr): boolean {\n    const protos = (addr ?? this).protos()\n\n    if (protos.length !== 2) {\n      return false\n    }\n\n    if (protos[0].code !== 4 && protos[0].code !== 41) {\n      return false\n    }\n    if (protos[1].code !== 6 && protos[1].code !== 273) {\n      return false\n    }\n    return true\n  }\n\n  /**\n   * Returns Multiaddr as a human-readable string\n   * https://nodejs.org/api/util.html#utilinspectcustom\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * console.info(multiaddr('/ip4/127.0.0.1/tcp/4001'))\n   * // 'Multiaddr(/ip4/127.0.0.1/tcp/4001)'\n   * ```\n   */\n  [inspect] (): string {\n    return `Multiaddr(${this.#string})`\n  }\n}\n", "import { convertToIpNet } from '../convert.js'\nimport { multiaddr } from '../index.js'\nimport type { Multiaddr, MultiaddrInput } from '../index.js'\nimport type { IpNet } from '@chainsafe/netmask'\n\n/**\n * A utility class to determine if a Multiaddr contains another\n * multiaddr.\n *\n * This can be used with ipcidr ranges to determine if a given\n * multiaddr is in a ipcidr range.\n *\n * @example\n *\n * ```js\n * import { multiaddr, MultiaddrFilter } from '@multiformats/multiaddr'\n *\n * const range = multiaddr('/ip4/192.168.10.10/ipcidr/24')\n * const filter = new MultiaddrFilter(range)\n *\n * const input = multiaddr('/ip4/192.168.10.2/udp/60')\n * console.info(filter.contains(input)) // true\n * ```\n */\nexport class MultiaddrFilter {\n  private readonly multiaddr: Multiaddr\n  private readonly netmask: IpNet\n\n  public constructor (input: MultiaddrInput) {\n    this.multiaddr = multiaddr(input)\n    this.netmask = convertToIpNet(this.multiaddr)\n  }\n\n  public contains (input: MultiaddrInput): boolean {\n    if (input == null) { return false }\n    const m = multiaddr(input)\n    let ip\n    for (const [code, value] of m.stringTuples()) {\n      if (code === 4 || code === 41) {\n        ip = value\n        break\n      }\n    }\n    if (ip === undefined) { return false }\n    return this.netmask.contains(ip)\n  }\n}\n"],
-  "mappings": "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",
-  "names": ["index_exports", "__export", "MultiaddrFilter", "fromNodeAddress", "fromStringTuples", "fromTuples", "isMultiaddr", "isName", "multiaddr", "getProtocol", "resolvers", "allocUnsafe", "size", "N1", "N2", "N3", "N4", "N5", "N6", "N7", "MSB", "REST", "encodingLength", "value", "encodeUint8Array", "buf", "offset", "encodeUint8ArrayList", "decodeUint8Array", "b", "res", "decodeUint8ArrayList", "encode", "allocUnsafe", "decode", "concat", "arrays", "length", "acc", "curr", "output", "allocUnsafe", "offset", "arr", "base10_exports", "__export", "base10", "empty", "equals", "aa", "bb", "ii", "coerce", "o", "fromString", "str", "toString", "b", "base", "ALPHABET", "name", "BASE_MAP", "j", "i", "x", "xc", "BASE", "LEADER", "FACTOR", "iFACTOR", "encode", "source", "zeroes", "length", "pbegin", "pend", "size", "b58", "carry", "it1", "it2", "str", "decodeUnsafe", "psz", "b256", "it3", "it4", "vch", "decode", "string", "buffer", "src", "_brrp__multiformats_scope_baseX", "base_x_default", "Encoder", "name", "prefix", "baseEncode", "bytes", "Decoder", "baseDecode", "prefixCodePoint", "text", "decoder", "or", "ComposedDecoder", "decoders", "input", "left", "right", "Codec", "from", "encode", "decode", "baseX", "alphabet", "base_x_default", "coerce", "string", "alphabetIdx", "bitsPerChar", "end", "out", "bits", "buffer", "written", "i", "value", "data", "pad", "mask", "createAlphabetIdx", "rfc4648", "base10", "baseX", "base16_exports", "__export", "base16", "base16upper", "base16", "rfc4648", "base16upper", "base2_exports", "__export", "base2", "base2", "rfc4648", "base256emoji_exports", "__export", "base256emoji", "alphabet", "alphabetBytesToChars", "p", "c", "i", "alphabetCharsToBytes", "codePoint", "encode", "data", "decode", "str", "byts", "char", "byt", "base256emoji", "from", "base32_exports", "__export", "base32", "base32hex", "base32hexpad", "base32hexpadupper", "base32hexupper", "base32pad", "base32padupper", "base32upper", "base32z", "base32", "rfc4648", "base32upper", "base32pad", "base32padupper", "base32hex", "base32hexupper", "base32hexpad", "base32hexpadupper", "base32z", "base36_exports", "__export", "base36", "base36upper", "base36", "baseX", "base36upper", "base58_exports", "__export", "base58btc", "base58flickr", "base58btc", "baseX", "base58flickr", "base64_exports", "__export", "base64", "base64pad", "base64url", "base64urlpad", "base64", "rfc4648", "base64pad", "base64url", "base64urlpad", "base8_exports", "__export", "base8", "base8", "rfc4648", "identity_exports", "__export", "identity", "identity", "from", "buf", "toString", "str", "fromString", "textEncoder", "textDecoder", "identity_exports", "__export", "identity", "encode_1", "encode", "MSB", "REST", "MSBALL", "INT", "num", "out", "offset", "oldOffset", "decode", "read", "MSB$1", "REST$1", "buf", "res", "shift", "counter", "b", "l", "N1", "N2", "N3", "N4", "N5", "N6", "N7", "N8", "N9", "length", "value", "varint", "_brrp_varint", "varint_default", "decode", "data", "offset", "varint_default", "encodeTo", "int", "target", "encodingLength", "create", "code", "digest", "size", "sizeOffset", "encodingLength", "digestOffset", "bytes", "encodeTo", "Digest", "decode", "multihash", "coerce", "equals", "a", "b", "data", "code", "name", "encode", "coerce", "digest", "input", "create", "identity", "sha2_browser_exports", "__export", "sha256", "sha512", "from", "name", "code", "encode", "Hasher", "input", "result", "create", "digest", "sha", "name", "data", "sha256", "from", "sha512", "format", "link", "base", "bytes", "version", "toStringV0", "baseCache", "base58btc", "toStringV1", "base32", "cache", "baseCache", "cid", "CID", "_CID", "version", "code", "multihash", "bytes", "DAG_PB_CODE", "SHA_256_CODE", "digest", "create", "other", "self", "unknown", "equals", "base", "format", "input", "value", "encodeCID", "cidSymbol", "decode", "remainder", "specs", "prefixSize", "multihashBytes", "coerce", "digestBytes", "Digest", "initialBytes", "offset", "next", "i", "length", "codec", "multihashCode", "digestSize", "size", "multihashSize", "source", "prefix", "parseCIDtoBytes", "decoder", "base58btc", "base32", "base36", "toStringV0", "toStringV1", "codeOffset", "encodingLength", "hashOffset", "encodeTo", "bases", "identity_exports", "base2_exports", "base8_exports", "base10_exports", "base16_exports", "base32_exports", "base36_exports", "base58_exports", "base64_exports", "base256emoji_exports", "hashes", "sha2_browser_exports", "createCodec", "name", "prefix", "encode", "decode", "string", "buf", "str", "ascii", "i", "allocUnsafe", "BASES", "bases", "bases_default", "toString", "array", "encoding", "base", "bases_default", "Parser", "input", "fn", "index", "result", "target", "char", "sep", "inner", "radix", "maxDigits", "allowZeroPrefix", "maxBytes", "digitCount", "leadingChar", "hasLeadingZero", "maxValue", "digit", "num", "out", "i", "ix", "readGroups", "groups", "ipv4", "group", "head", "headSize", "headIp4", "tail", "limit", "tailSize", "MAX_IPV6_LENGTH", "MAX_IPV4_LENGTH", "parser", "Parser", "parseIPv4", "input", "parseIPv6", "input", "MAX_IPV6_LENGTH", "parser", "parseIP", "mapIPv4ToIPv6", "addr", "allFF", "a", "from", "to", "i", "e", "deepEqual", "b", "ipToString", "ip", "IPv4Len", "IPv6Len", "result", "simpleMaskLength", "mask", "ones", "index", "byte", "maskToHex", "hex", "IPv4Len", "IPv6Len", "maxIPv6Octet", "ipv4Prefix", "maskIp", "ip", "mask", "allFF", "deepEqual", "n", "out", "i", "containsIp", "net", "parseIP", "parseCidr", "s", "address", "maskString", "ipLength", "IPv4Len", "ip", "parseIPv4", "IPv6Len", "parseIPv6", "m", "mask", "cidrMask", "maskIp", "ones", "bits", "l", "i", "IpNet", "ipOrCidr", "mask", "parseCidr", "ipResult", "parseIP", "m", "maskResult", "cidrMask", "maskIp", "ip", "containsIp", "l", "simpleMaskLength", "maskToHex", "ipToString", "fromString", "string", "encoding", "base", "bases_default", "isIPv4", "input", "parseIPv4", "isIPv6", "parseIPv6", "isIP", "parseIP", "isV4", "isIPv4", "isV6", "isIPv6", "toBytes", "ip", "offset", "bytes", "byte", "sections", "i", "isv4", "v4Buffer", "toString", "argv", "word", "buf", "length", "view", "result", "names", "codes", "table", "row", "proto", "createProtocol", "code", "size", "name", "resolvable", "path", "getProtocol", "ip4Protocol", "getProtocol", "ip6Protocol", "ipcidrProtocol", "convertToString", "proto", "buf", "getProtocol", "bytes2ip", "bytes2str", "toString", "bytes2port", "bytes2mh", "bytes2onion", "bytes2mb", "convertToBytes", "str", "ip2bytes", "str2bytes", "fromString", "port2bytes", "mh2bytes", "onion2bytes", "onion32bytes", "mb2bytes", "convertToIpNet", "multiaddr", "mask", "addr", "code", "value", "ip4Protocol", "ip6Protocol", "ipcidrProtocol", "IpNet", "decoders", "bases", "c", "anybaseDecoder", "acc", "d", "ipString", "isIP", "toBytes", "ipBuff", "port", "size", "encode", "concat", "decode", "encodingLength", "hash", "mh", "base58btc", "CID", "mbstr", "mb", "address", "base32", "portBuf", "addrBytes", "portBytes", "stringToMultiaddrParts", "str", "cleanPath", "tuples", "stringTuples", "path", "parts", "p", "part", "proto", "getProtocol", "ParseError", "convertToBytes", "bytes", "convertToString", "stringTuplesToString", "tuplesToBytes", "bytesToMultiaddrParts", "i", "code", "decode", "n", "encodingLength", "size", "sizeForAddr", "addr", "toString", "stringAddr", "stringTuplesToTuples", "value", "tuple", "tup", "concat", "buf", "encode", "cleanPath", "str", "a", "ParseError", "equals", "a", "b", "i", "inspect", "symbol", "DNS_CODES", "getProtocol", "NoAvailableResolverError", "message", "Multiaddr", "_Multiaddr", "#string", "#tuples", "#stringTuples", "#path", "addr", "parts", "bytesToMultiaddrParts", "stringToMultiaddrParts", "isMultiaddr", "family", "transport", "host", "port", "zone", "tcp", "udp", "ip4", "ip6", "dns6", "ip6zone", "code", "value", "addrString", "s", "i", "tuples", "tuplesToBytes", "name", "names", "tuple", "peerIdStr", "toString", "base58btc", "CID", "equals", "options", "resolvableProto", "p", "resolver", "resolvers", "str", "multiaddr", "protos", "MultiaddrFilter", "input", "multiaddr", "convertToIpNet", "m", "ip", "code", "value", "resolvers", "fromNodeAddress", "addr", "transport", "ip", "host", "parts", "Multiaddr", "fromTuples", "tuples", "multiaddr", "tuplesToBytes", "fromStringTuples", "stringTuplesToTuples", "isName", "isMultiaddr", "proto", "value", "symbol"]
+  "sources": ["../src/index.ts", "../node_modules/multiformats/src/bases/base10.ts", "../node_modules/multiformats/src/bytes.ts", "../node_modules/multiformats/src/vendor/base-x.js", "../node_modules/multiformats/src/bases/base.ts", "../node_modules/multiformats/src/bases/base16.ts", "../node_modules/multiformats/src/bases/base2.ts", "../node_modules/multiformats/src/bases/base256emoji.ts", "../node_modules/multiformats/src/bases/base32.ts", "../node_modules/multiformats/src/bases/base36.ts", "../node_modules/multiformats/src/bases/base58.ts", "../node_modules/multiformats/src/bases/base64.ts", "../node_modules/multiformats/src/bases/base8.ts", "../node_modules/multiformats/src/bases/identity.ts", "../node_modules/multiformats/src/codecs/json.ts", "../node_modules/multiformats/src/hashes/identity.ts", "../node_modules/multiformats/src/vendor/varint.js", "../node_modules/multiformats/src/varint.ts", "../node_modules/multiformats/src/hashes/digest.ts", "../node_modules/multiformats/src/hashes/sha2-browser.ts", "../node_modules/multiformats/src/hashes/hasher.ts", "../node_modules/multiformats/src/cid.ts", "../node_modules/multiformats/src/basics.ts", "../node_modules/uint8arrays/src/alloc.ts", "../node_modules/uint8arrays/src/util/bases.ts", "../node_modules/uint8arrays/src/to-string.ts", "../src/errors.ts", "../node_modules/uint8arrays/src/equals.ts", "../node_modules/uint8arrays/src/from-string.ts", "../node_modules/uint8-varint/src/index.ts", "../node_modules/uint8arrays/src/concat.ts", "../node_modules/@chainsafe/is-ip/src/parser.ts", "../node_modules/@chainsafe/is-ip/src/parse.ts", "../node_modules/@chainsafe/is-ip/src/is-ip.ts", "../node_modules/@chainsafe/netmask/src/util.ts", "../node_modules/@chainsafe/netmask/src/ip.ts", "../node_modules/@chainsafe/netmask/src/cidr.ts", "../node_modules/@chainsafe/netmask/src/ipnet.ts", "../src/convert.ts", "../src/validation.ts", "../src/registry.ts", "../src/components.ts", "../src/multiaddr.ts", "../src/filter/multiaddr-filter.ts"],
+  "sourcesContent": ["/**\n * @packageDocumentation\n *\n * A standard way to represent addresses that\n *\n * - support any standard network protocol\n * - are self-describing\n * - have a binary packed format\n * - have a nice string representation\n * - encapsulate well\n *\n * @example\n *\n * ```TypeScript\n * import { multiaddr } from '@multiformats/multiaddr'\n *\n * const addr = multiaddr('/ip4/127.0.0.1/udp/1234')\n * // Multiaddr(/ip4/127.0.0.1/udp/1234)\n *\n * addr.bytes\n * // <Uint8Array 04 7f 00 00 01 11 04 d2>\n *\n * addr.toString()\n * // '/ip4/127.0.0.1/udp/1234'\n *\n * addr.protos()\n * // [\n * //   {code: 4, name: 'ip4', size: 32},\n * //   {code: 273, name: 'udp', size: 16}\n * // ]\n *\n * // gives you an object that is friendly with what Node.js core modules expect for addresses\n * addr.nodeAddress()\n * // {\n * //   family: 4,\n * //   port: 1234,\n * //   address: \"127.0.0.1\"\n * // }\n *\n * addr.encapsulate('/sctp/5678')\n * // Multiaddr(/ip4/127.0.0.1/udp/1234/sctp/5678)\n * ```\n *\n * ## Resolving DNSADDR addresses\n *\n * [DNSADDR](https://github.com/multiformats/multiaddr/blob/master/protocols/DNSADDR.md) is a spec that allows storing a TXT DNS record that contains a Multiaddr.\n *\n * To resolve DNSADDR addresses, call the `.resolve()` function the multiaddr, optionally passing a `DNS` resolver.\n *\n * DNSADDR addresses can resolve to multiple multiaddrs, since there is no limit to the number of TXT records that can be stored.\n *\n * @example Resolving DNSADDR Multiaddrs\n *\n * ```TypeScript\n * import { multiaddr, resolvers } from '@multiformats/multiaddr'\n * import { dnsaddrResolver } from '@multiformats/multiaddr/resolvers'\n *\n * resolvers.set('dnsaddr', dnsaddrResolver)\n *\n * const ma = multiaddr('/dnsaddr/bootstrap.libp2p.io')\n *\n * // resolve with a 5s timeout\n * const resolved = await ma.resolve({\n *   signal: AbortSignal.timeout(5000)\n * })\n *\n * console.info(resolved)\n * // [Multiaddr('/ip4/147.75...'), Multiaddr('/ip4/147.75...'), Multiaddr('/ip4/147.75...')...]\n * ```\n *\n * @example Using a custom DNS resolver to resolve DNSADDR Multiaddrs\n *\n * See the docs for [@multiformats/dns](https://www.npmjs.com/package/@multiformats/dns) for a full breakdown of how to specify multiple resolvers or resolvers that can be used for specific TLDs.\n *\n * ```TypeScript\n * import { multiaddr } from '@multiformats/multiaddr'\n * import { dns } from '@multiformats/dns'\n * import { dnsJsonOverHttps } from '@multiformats/dns/resolvers'\n *\n * const resolver = dns({\n *   resolvers: {\n *     '.': dnsJsonOverHttps('https://cloudflare-dns.com/dns-query')\n *   }\n * })\n *\n * const ma = multiaddr('/dnsaddr/bootstrap.libp2p.io')\n * const resolved = await ma.resolve({\n *  dns: resolver\n * })\n *\n * console.info(resolved)\n * // [Multiaddr('/ip4/147.75...'), Multiaddr('/ip4/147.75...'), Multiaddr('/ip4/147.75...')...]\n * ```\n */\n\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\nimport { InvalidParametersError } from './errors.ts'\nimport { Multiaddr as MultiaddrClass, symbol } from './multiaddr.js'\nimport { registry } from './registry.ts'\nimport type { Resolver } from './resolvers/index.js'\nimport type { DNS } from '@multiformats/dns'\nimport type { AbortOptions } from 'abort-error'\n\n/**\n * Protocols are present in the protocol table\n *\n * @deprecated\n */\nexport interface Protocol {\n  code: number\n  size: number\n  name: string\n  resolvable?: boolean | undefined\n  path?: boolean | undefined\n}\n\n/**\n * A plain JavaScript object representation of a {@link Multiaddr}\n */\nexport interface MultiaddrObject {\n  family: 4 | 6\n  host: string\n  transport: 'tcp' | 'udp'\n  port: number\n}\n\n/**\n * A NodeAddress is an IPv4/IPv6 address/TCP port combination\n */\nexport interface NodeAddress {\n  family: 4 | 6\n  address: string\n  port: number\n}\n\n/**\n * These types can be parsed into a {@link Multiaddr} object\n */\nexport type MultiaddrInput = string | Multiaddr | Uint8Array | null | Component[]\n\n/**\n * A code/value pair\n *\n * @deprecated Use Component instead\n */\nexport type Tuple = [number, Uint8Array?]\n\n/**\n * A code/value pair with the value as a string\n *\n * @deprecated Use Component instead\n */\nexport type StringTuple = [number, string?]\n\n/**\n * Allows aborting long-lived operations\n *\n * @deprecated Import from `abort-error` instead\n */\nexport type { AbortOptions }\n\n/**\n * All configured {@link Resolver}s\n *\n * @deprecated DNS resolving will be removed in a future release\n */\nexport const resolvers = new Map<string, Resolver>()\n\nexport type { Resolver }\n\nexport { MultiaddrFilter } from './filter/multiaddr-filter.js'\n\n/**\n * @deprecated DNS resolving will be removed in a future release\n */\nexport interface ResolveOptions extends AbortOptions {\n  /**\n   * An optional DNS resolver\n   */\n  dns?: DNS\n\n  /**\n   * When resolving DNSADDR Multiaddrs that resolve to other DNSADDR Multiaddrs,\n   * limit how many times we will recursively resolve them.\n   *\n   * @default 32\n   */\n  maxRecursiveDepth?: number\n}\n\n/**\n * A Component is a section of a multiaddr with a name/code, possibly with a\n * value.\n *\n * Component names/codes are defined in the protocol table.\n *\n * @see https://github.com/multiformats/multiaddr/blob/master/protocols.csv\n */\nexport interface Component {\n  /**\n   * The code of the component as defined in the protocol table\n   */\n  code: number\n\n  /**\n   * The name of the component as defined in the protocol table\n   */\n  name: string\n\n  /**\n   * The component value, if one is present\n   */\n  value?: string\n\n  /**\n   * The bytes that make up the component. This will be set if the multiaddr\n   * was parsed from a `Uint8Array`, or if `.bytes` has been accessed on it.\n   */\n  bytes?: Uint8Array\n}\n\nexport interface Multiaddr {\n  bytes: Uint8Array\n\n  /**\n   * Returns Multiaddr as a String\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/4001').toString()\n   * // '/ip4/127.0.0.1/tcp/4001'\n   * ```\n   */\n  toString(): string\n\n  /**\n   * Returns Multiaddr as a JSON encoded object\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * JSON.stringify(multiaddr('/ip4/127.0.0.1/tcp/4001'))\n   * // '/ip4/127.0.0.1/tcp/4001'\n   * ```\n   */\n  toJSON(): string\n\n  /**\n   * Returns the components that make up this Multiaddr\n   *\n   * @example\n   * ```ts\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/4001').getComponents()\n   * // [{ name: 'ip4', code: 4, value: '127.0.0.1' }, { name: 'tcp', code: 6, value: '4001' }]\n   * ```\n   */\n  getComponents(): Component[]\n\n  /**\n   * Returns Multiaddr as a convenient options object to be used with\n   * `createConnection` from `node:net`\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/4001').toOptions()\n   * // { family: 4, host: '127.0.0.1', transport: 'tcp', port: 4001 }\n   * ```\n   */\n  toOptions(): MultiaddrObject\n\n  /**\n   * Returns the protocols the Multiaddr is defined with, as an array of\n   * objects, in left-to-right order. Each object contains the protocol code,\n   * protocol name, and the size of its address space in bits.\n   * [See list of protocols](https://github.com/multiformats/multiaddr/blob/master/protocols.csv)\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/4001').protos()\n   * // [ { code: 4, size: 32, name: 'ip4' },\n   * //   { code: 6, size: 16, name: 'tcp' } ]\n   * ```\n   *\n   * @deprecated Use `getComponents()` instead\n   */\n  protos(): Protocol[]\n\n  /**\n   * Returns the codes of the protocols in left-to-right order.\n   * [See list of protocols](https://github.com/multiformats/multiaddr/blob/master/protocols.csv)\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/4001').protoCodes()\n   * // [ 4, 6 ]\n   * ```\n   *\n   * @deprecated Use `getComponents()` instead\n   */\n  protoCodes(): number[]\n\n  /**\n   * Returns the names of the protocols in left-to-right order.\n   * [See list of protocols](https://github.com/multiformats/multiaddr/blob/master/protocols.csv)\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/4001').protoNames()\n   * // [ 'ip4', 'tcp' ]\n   * ```\n   *\n   * @deprecated Use `getComponents()` instead\n   */\n  protoNames(): string[]\n\n  /**\n   * Returns a tuple of parts\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/4001').tuples()\n   * // [ [ 4, <Buffer 7f 00 00 01> ], [ 6, <Buffer 0f a1> ] ]\n   * ```\n   *\n   * @deprecated Use `getComponents()` instead\n   */\n  tuples(): Tuple[]\n\n  /**\n   * Returns a tuple of string/number parts\n   * - tuples[][0] = code of protocol\n   * - tuples[][1] = contents of address\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/4001').stringTuples()\n   * // [ [ 4, '127.0.0.1' ], [ 6, '4001' ] ]\n   * ```\n   *\n   * @deprecated Use `getComponents()` instead\n   */\n  stringTuples(): StringTuple[]\n\n  /**\n   * Encapsulates a Multiaddr in another Multiaddr\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * const mh1 = multiaddr('/ip4/8.8.8.8/tcp/1080')\n   * // Multiaddr(/ip4/8.8.8.8/tcp/1080)\n   *\n   * const mh2 = multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // Multiaddr(/ip4/127.0.0.1/tcp/4001)\n   *\n   * const mh3 = mh1.encapsulate(mh2)\n   * // Multiaddr(/ip4/8.8.8.8/tcp/1080/ip4/127.0.0.1/tcp/4001)\n   *\n   * mh3.toString()\n   * // '/ip4/8.8.8.8/tcp/1080/ip4/127.0.0.1/tcp/4001'\n   * ```\n   *\n   * @param {MultiaddrInput} addr - Multiaddr to add into this Multiaddr\n   */\n  encapsulate(addr: MultiaddrInput): Multiaddr\n\n  /**\n   * Decapsulates a Multiaddr from another Multiaddr\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * const mh1 = multiaddr('/ip4/8.8.8.8/tcp/1080')\n   * // Multiaddr(/ip4/8.8.8.8/tcp/1080)\n   *\n   * const mh2 = multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // Multiaddr(/ip4/127.0.0.1/tcp/4001)\n   *\n   * const mh3 = mh1.encapsulate(mh2)\n   * // Multiaddr(/ip4/8.8.8.8/tcp/1080/ip4/127.0.0.1/tcp/4001)\n   *\n   * mh3.decapsulate(mh2).toString()\n   * // '/ip4/8.8.8.8/tcp/1080'\n   * ```\n   *\n   * @param {Multiaddr | string} addr - Multiaddr to remove from this Multiaddr\n   */\n  decapsulate(addr: Multiaddr | string): Multiaddr\n\n  /**\n   * A more reliable version of `decapsulate` if you are targeting a specific\n   * code, such as 421 (the `p2p` protocol code). The last index of the code\n   * will be removed from the `Multiaddr`, and a new instance will be returned.\n   * If the code is not present, the original `Multiaddr` is returned.\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * const addr = multiaddr('/ip4/0.0.0.0/tcp/8080/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC')\n   * // Multiaddr(/ip4/0.0.0.0/tcp/8080/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC)\n   *\n   * addr.decapsulateCode(421).toString()\n   * // '/ip4/0.0.0.0/tcp/8080'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/8080').decapsulateCode(421).toString()\n   * // '/ip4/127.0.0.1/tcp/8080'\n   * ```\n   */\n  decapsulateCode(code: number): Multiaddr\n\n  /**\n   * Extract the peerId if the multiaddr contains one\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * const mh1 = multiaddr('/ip4/8.8.8.8/tcp/1080/ipfs/QmValidBase58string')\n   * // Multiaddr(/ip4/8.8.8.8/tcp/1080/ipfs/QmValidBase58string)\n   *\n   * // should return QmValidBase58string or null if the id is missing or invalid\n   * const peerId = mh1.getPeerId()\n   * ```\n   *\n   * @deprecated A multiaddr can contain multiple PeerIds, use stringTuples() to get a specific one\n   */\n  getPeerId(): string | null\n\n  /**\n   * Extract the path if the multiaddr contains one\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * const mh1 = multiaddr('/ip4/8.8.8.8/tcp/1080/unix/tmp/p2p.sock')\n   * // Multiaddr(/ip4/8.8.8.8/tcp/1080/unix/tmp/p2p.sock)\n   *\n   * // should return utf8 string or null if the id is missing or invalid\n   * const path = mh1.getPath()\n   * ```\n   *\n   * @deprecated A multiaddr can contain multiple tuples that could be interpreted as paths, use stringTuples() to get a specific one\n   */\n  getPath(): string | null\n\n  /**\n   * Checks if two Multiaddrs are the same\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * const mh1 = multiaddr('/ip4/8.8.8.8/tcp/1080')\n   * // Multiaddr(/ip4/8.8.8.8/tcp/1080)\n   *\n   * const mh2 = multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // Multiaddr(/ip4/127.0.0.1/tcp/4001)\n   *\n   * mh1.equals(mh1)\n   * // true\n   *\n   * mh1.equals(mh2)\n   * // false\n   * ```\n   */\n  equals(addr: { bytes: Uint8Array }): boolean\n\n  /**\n   * Resolve multiaddr if containing resolvable hostname.\n   *\n   * @example\n   * ```js\n   * import { multiaddr, resolvers } from '@multiformats/multiaddr'\n   *\n   * resolvers.set('dnsaddr', resolverFunction)\n   * const mh1 = multiaddr('/dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb')\n   * const resolvedMultiaddrs = await mh1.resolve()\n   * // [\n   * //   Multiaddr(/ip4/147.75.83.83/tcp/4001/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb),\n   * //   Multiaddr(/ip4/147.75.83.83/tcp/443/wss/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb),\n   * //   Multiaddr(/ip4/147.75.83.83/udp/4001/quic/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb)\n   * // ]\n   * ```\n   *\n   * @deprecated If you need to resolve `dnsaddr` addresses, use `getComponents()` to extract them and perform the resolution yourself\n   */\n  resolve(options?: ResolveOptions): Promise<Multiaddr[]>\n\n  /**\n   * Gets a Multiaddrs node-friendly address object. Note that protocol\n   * information is left out: in Node (and most network systems) the protocol is\n   * unknowable given only the address.\n   *\n   * Has to be a ThinWaist Address, otherwise throws error\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * multiaddr('/ip4/127.0.0.1/tcp/4001').nodeAddress()\n   * // {family: 4, address: '127.0.0.1', port: 4001}\n   * ```\n   */\n  nodeAddress(): NodeAddress\n\n  /**\n   * Returns if a Multiaddr is a Thin Waist address or not.\n   *\n   * Thin Waist is if a Multiaddr adheres to the standard combination of:\n   *\n   * `{IPv4, IPv6}/{TCP, UDP}`\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * const mh1 = multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // Multiaddr(/ip4/127.0.0.1/tcp/4001)\n   * const mh2 = multiaddr('/ip4/192.168.2.1/tcp/5001')\n   * // Multiaddr(/ip4/192.168.2.1/tcp/5001)\n   * const mh3 = mh1.encapsulate(mh2)\n   * // Multiaddr(/ip4/127.0.0.1/tcp/4001/ip4/192.168.2.1/tcp/5001)\n   * const mh4 = multiaddr('/ip4/127.0.0.1/tcp/2000/wss/p2p-webrtc-star/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSooo2a')\n   * // Multiaddr(/ip4/127.0.0.1/tcp/2000/wss/p2p-webrtc-star/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSooo2a)\n   * mh1.isThinWaistAddress()\n   * // true\n   * mh2.isThinWaistAddress()\n   * // true\n   * mh3.isThinWaistAddress()\n   * // false\n   * mh4.isThinWaistAddress()\n   * // false\n   * ```\n   */\n  isThinWaistAddress(addr?: Multiaddr): boolean\n}\n\n/**\n * Creates a Multiaddr from a node-friendly address object\n *\n * @example\n * ```js\n * import { fromNodeAddress } from '@multiformats/multiaddr'\n *\n * fromNodeAddress({address: '127.0.0.1', port: '4001'}, 'tcp')\n * // Multiaddr(/ip4/127.0.0.1/tcp/4001)\n * ```\n */\nexport function fromNodeAddress (addr: NodeAddress, transport: string): Multiaddr {\n  if (addr == null) {\n    throw new InvalidParametersError('requires node address object')\n  }\n  if (transport == null) {\n    throw new InvalidParametersError('requires transport protocol')\n  }\n  let ip: string | undefined\n  let host = addr.address\n  switch (addr.family) {\n    case 4:\n      ip = 'ip4'\n      break\n    case 6:\n      ip = 'ip6'\n\n      if (host.includes('%')) {\n        const parts = host.split('%')\n\n        if (parts.length !== 2) {\n          throw Error('Multiple ip6 zones in multiaddr')\n        }\n\n        host = parts[0]\n        const zone = parts[1]\n        ip = `ip6zone/${zone}/ip6`\n      }\n      break\n    default:\n      throw Error('Invalid addr family, should be 4 or 6.')\n  }\n\n  return new MultiaddrClass('/' + [ip, host, transport, addr.port].join('/'))\n}\n\n/**\n * Create a {@link Multiaddr} from an array of {@link Tuple}s\n *\n * @example\n *\n * ```ts\n * import { fromTuples, multiaddr } from '@multiformats/multiaddr'\n *\n * const ma = multiaddr('/ip4/127.0.0.1')\n * const tuples = ma.tuples()\n *\n * const ma2 = fromTuples(tuples)\n *\n * console.info(ma2)\n * // '/ip4/127.0.0.1'\n * ```\n */\nexport function fromTuples (tuples: Tuple[]): Multiaddr {\n  return multiaddr(tuples.map(([code, value]) => {\n    const codec = registry.getCodec(code)\n\n    const component: Component = {\n      code,\n      name: codec.name\n    }\n\n    if (value != null) {\n      component.value = codec.bytesToValue?.(value) ?? uint8ArrayToString(value)\n    }\n\n    return component\n  }))\n}\n\n/**\n * Create a {@link Multiaddr} from an array of {@link StringTuple}s\n *\n * @example\n *\n * ```ts\n * import { fromStringTuples, multiaddr } from '@multiformats/multiaddr'\n *\n * const ma = multiaddr('/ip4/127.0.0.1')\n * const tuples = ma.stringTuples()\n *\n * const ma2 = fromStringTuples(tuples)\n *\n * console.info(ma2)\n * // '/ip4/127.0.0.1'\n * ```\n */\nexport function fromStringTuples (tuples: StringTuple[]): Multiaddr {\n  return multiaddr(tuples.map(([code, value]) => {\n    const codec = registry.getCodec(code)\n\n    const component: Component = {\n      code,\n      name: codec.name\n    }\n\n    if (value != null) {\n      component.value = value\n    }\n\n    return component\n  }))\n}\n\n/**\n * Returns if something is a {@link Multiaddr} that is a resolvable name\n *\n * @example\n *\n * ```js\n * import { isName, multiaddr } from '@multiformats/multiaddr'\n *\n * isName(multiaddr('/ip4/127.0.0.1'))\n * // false\n * isName(multiaddr('/dns/ipfs.io'))\n * // true\n * ```\n */\nexport function isName (addr: Multiaddr): boolean {\n  if (!isMultiaddr(addr)) {\n    return false\n  }\n\n  // if a part of the multiaddr is resolvable, then return true\n  return addr.protos().some((proto) => proto.resolvable)\n}\n\n/**\n * Check if object is a {@link Multiaddr} instance\n *\n * @example\n *\n * ```js\n * import { isMultiaddr, multiaddr } from '@multiformats/multiaddr'\n *\n * isMultiaddr(5)\n * // false\n * isMultiaddr(multiaddr('/ip4/127.0.0.1'))\n * // true\n * ```\n */\nexport function isMultiaddr (value: any): value is Multiaddr {\n  return Boolean(value?.[symbol])\n}\n\n/**\n * A function that takes a {@link MultiaddrInput} and returns a {@link Multiaddr}\n *\n * @example\n * ```js\n * import { multiaddr } from '@libp2p/multiaddr'\n *\n * multiaddr('/ip4/127.0.0.1/tcp/4001')\n * // Multiaddr(/ip4/127.0.0.1/tcp/4001)\n * ```\n *\n * @param {MultiaddrInput} [addr] - If String or Uint8Array, needs to adhere to the address format of a [multiaddr](https://github.com/multiformats/multiaddr#string-format)\n */\nexport function multiaddr (addr?: MultiaddrInput): Multiaddr {\n  return new MultiaddrClass(addr)\n}\n\n/**\n * For the passed proto string or number, return a {@link Protocol}\n *\n * @example\n *\n * ```js\n * import { protocol } from '@multiformats/multiaddr'\n *\n * console.info(protocol(4))\n * // { code: 4, size: 32, name: 'ip4', resolvable: false, path: false }\n * ```\n *\n * @deprecated This will be removed in a future version\n */\nexport function protocols (proto: number | string): Protocol {\n  const codec = registry.getCodec(proto)\n\n  return {\n    code: codec.code,\n    size: codec.size ?? 0,\n    name: codec.name,\n    resolvable: Boolean(codec.resolvable),\n    path: Boolean(codec.path)\n  }\n}\n\n/**\n * Ensures all multiaddr tuples are correct. Throws if any contain invalid\n * values.\n *\n * @example\n *\n * ```ts\n * import { multiaddr, validate } from '@multiformats/multiaddr'\n *\n * const ma = multiaddr('/ip4/123.123.123.123/tcp/1234')\n *\n * validate(ma) // ok!\n * ```\n */\nexport { validate } from './multiaddr.ts'\n", "import { baseX } from './base.js'\n\nexport const base10 = baseX({\n  prefix: '9',\n  name: 'base10',\n  alphabet: '0123456789'\n})\n", "export const empty = new Uint8Array(0)\n\nexport function toHex (d: Uint8Array): string {\n  return d.reduce((hex, byte) => hex + byte.toString(16).padStart(2, '0'), '')\n}\n\nexport function fromHex (hex: string): Uint8Array {\n  const hexes = hex.match(/../g)\n  return hexes != null ? new Uint8Array(hexes.map(b => parseInt(b, 16))) : empty\n}\n\nexport function equals (aa: Uint8Array, bb: Uint8Array): boolean {\n  if (aa === bb) { return true }\n  if (aa.byteLength !== bb.byteLength) {\n    return false\n  }\n\n  for (let ii = 0; ii < aa.byteLength; ii++) {\n    if (aa[ii] !== bb[ii]) {\n      return false\n    }\n  }\n\n  return true\n}\n\nexport function coerce (o: ArrayBufferView | ArrayBuffer | Uint8Array): Uint8Array {\n  if (o instanceof Uint8Array && o.constructor.name === 'Uint8Array') { return o }\n  if (o instanceof ArrayBuffer) { return new Uint8Array(o) }\n  if (ArrayBuffer.isView(o)) {\n    return new Uint8Array(o.buffer, o.byteOffset, o.byteLength)\n  }\n  throw new Error('Unknown type, must be binary type')\n}\n\nexport function isBinary (o: unknown): o is ArrayBuffer | ArrayBufferView {\n  return o instanceof ArrayBuffer || ArrayBuffer.isView(o)\n}\n\nexport function fromString (str: string): Uint8Array {\n  return new TextEncoder().encode(str)\n}\n\nexport function toString (b: Uint8Array): string {\n  return new TextDecoder().decode(b)\n}\n", "/* eslint-disable */\n// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\n/**\n * @param {string} ALPHABET\n * @param {any} name\n */\nfunction base (ALPHABET, name) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256);\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255;\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i);\n    var xc = x.charCodeAt(0);\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i;\n  }\n  var BASE = ALPHABET.length;\n  var LEADER = ALPHABET.charAt(0);\n  var FACTOR = Math.log(BASE) / Math.log(256); // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE); // log(256) / log(BASE), rounded up\n  /**\n   * @param {any[] | Iterable<number>} source\n   */\n  function encode (source) {\n    // @ts-ignore\n    if (source instanceof Uint8Array) ; else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source);\n    }\n    if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0;\n    var length = 0;\n    var pbegin = 0;\n    var pend = source.length;\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++;\n      zeroes++;\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0;\n    var b58 = new Uint8Array(size);\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin];\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0;\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0;\n        b58[it1] = (carry % BASE) >>> 0;\n        carry = (carry / BASE) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      pbegin++;\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length;\n    while (it2 !== size && b58[it2] === 0) {\n      it2++;\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes);\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]); }\n    return str\n  }\n  /**\n   * @param {string | string[]} source\n   */\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return new Uint8Array() }\n    var psz = 0;\n        // Skip leading spaces.\n    if (source[psz] === ' ') { return }\n        // Skip and count leading '1's.\n    var zeroes = 0;\n    var length = 0;\n    while (source[psz] === LEADER) {\n      zeroes++;\n      psz++;\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0; // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size);\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)];\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0;\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0;\n        b256[it3] = (carry % 256) >>> 0;\n        carry = (carry / 256) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      psz++;\n    }\n        // Skip trailing spaces.\n    if (source[psz] === ' ') { return }\n        // Skip leading zeroes in b256.\n    var it4 = size - length;\n    while (it4 !== size && b256[it4] === 0) {\n      it4++;\n    }\n    var vch = new Uint8Array(zeroes + (size - it4));\n    var j = zeroes;\n    while (it4 !== size) {\n      vch[j++] = b256[it4++];\n    }\n    return vch\n  }\n  /**\n   * @param {string | string[]} string\n   */\n  function decode (string) {\n    var buffer = decodeUnsafe(string);\n    if (buffer) { return buffer }\n    throw new Error(`Non-${name} character`)\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nvar src = base;\n\nvar _brrp__multiformats_scope_baseX = src;\n\nexport default _brrp__multiformats_scope_baseX;\n", "import { coerce } from '../bytes.js'\nimport basex from '../vendor/base-x.js'\nimport type { BaseCodec, BaseDecoder, BaseEncoder, CombobaseDecoder, Multibase, MultibaseCodec, MultibaseDecoder, MultibaseEncoder, UnibaseDecoder } from './interface.js'\n\ninterface EncodeFn { (bytes: Uint8Array): string }\ninterface DecodeFn { (text: string): Uint8Array }\n\n/**\n * Class represents both BaseEncoder and MultibaseEncoder meaning it\n * can be used to encode to multibase or base encode without multibase\n * prefix.\n */\nclass Encoder<Base extends string, Prefix extends string> implements MultibaseEncoder<Prefix>, BaseEncoder {\n  readonly name: Base\n  readonly prefix: Prefix\n  readonly baseEncode: EncodeFn\n\n  constructor (name: Base, prefix: Prefix, baseEncode: EncodeFn) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n  }\n\n  encode (bytes: Uint8Array): Multibase<Prefix> {\n    if (bytes instanceof Uint8Array) {\n      return `${this.prefix}${this.baseEncode(bytes)}`\n    } else {\n      throw Error('Unknown type, must be binary type')\n    }\n  }\n}\n\n/**\n * Class represents both BaseDecoder and MultibaseDecoder so it could be used\n * to decode multibases (with matching prefix) or just base decode strings\n * with corresponding base encoding.\n */\nclass Decoder<Base extends string, Prefix extends string> implements MultibaseDecoder<Prefix>, UnibaseDecoder<Prefix>, BaseDecoder {\n  readonly name: Base\n  readonly prefix: Prefix\n  readonly baseDecode: DecodeFn\n  private readonly prefixCodePoint: number\n\n  constructor (name: Base, prefix: Prefix, baseDecode: DecodeFn) {\n    this.name = name\n    this.prefix = prefix\n    const prefixCodePoint = prefix.codePointAt(0)\n    /* c8 ignore next 3 */\n    if (prefixCodePoint === undefined) {\n      throw new Error('Invalid prefix character')\n    }\n    this.prefixCodePoint = prefixCodePoint\n    this.baseDecode = baseDecode\n  }\n\n  decode (text: string): Uint8Array {\n    if (typeof text === 'string') {\n      if (text.codePointAt(0) !== this.prefixCodePoint) {\n        throw Error(`Unable to decode multibase string ${JSON.stringify(text)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)\n      }\n      return this.baseDecode(text.slice(this.prefix.length))\n    } else {\n      throw Error('Can only multibase decode strings')\n    }\n  }\n\n  or<OtherPrefix extends string> (decoder: UnibaseDecoder<OtherPrefix> | ComposedDecoder<OtherPrefix>): ComposedDecoder<Prefix | OtherPrefix> {\n    return or(this, decoder)\n  }\n}\n\ntype Decoders<Prefix extends string> = Record<Prefix, UnibaseDecoder<Prefix>>\n\nclass ComposedDecoder<Prefix extends string> implements MultibaseDecoder<Prefix>, CombobaseDecoder<Prefix> {\n  readonly decoders: Decoders<Prefix>\n\n  constructor (decoders: Decoders<Prefix>) {\n    this.decoders = decoders\n  }\n\n  or <OtherPrefix extends string> (decoder: UnibaseDecoder<OtherPrefix> | ComposedDecoder<OtherPrefix>): ComposedDecoder<Prefix | OtherPrefix> {\n    return or(this, decoder)\n  }\n\n  decode (input: string): Uint8Array {\n    const prefix = input[0] as Prefix\n    const decoder = this.decoders[prefix]\n    if (decoder != null) {\n      return decoder.decode(input)\n    } else {\n      throw RangeError(`Unable to decode multibase string ${JSON.stringify(input)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)\n    }\n  }\n}\n\nexport function or <L extends string, R extends string> (left: UnibaseDecoder<L> | CombobaseDecoder<L>, right: UnibaseDecoder<R> | CombobaseDecoder<R>): ComposedDecoder<L | R> {\n  return new ComposedDecoder({\n    ...(left.decoders ?? { [(left as UnibaseDecoder<L>).prefix]: left }),\n    ...(right.decoders ?? { [(right as UnibaseDecoder<R>).prefix]: right })\n  } as Decoders<L | R>)\n}\n\nexport class Codec<Base extends string, Prefix extends string> implements MultibaseCodec<Prefix>, MultibaseEncoder<Prefix>, MultibaseDecoder<Prefix>, BaseCodec, BaseEncoder, BaseDecoder {\n  readonly name: Base\n  readonly prefix: Prefix\n  readonly baseEncode: EncodeFn\n  readonly baseDecode: DecodeFn\n  readonly encoder: Encoder<Base, Prefix>\n  readonly decoder: Decoder<Base, Prefix>\n\n  constructor (name: Base, prefix: Prefix, baseEncode: EncodeFn, baseDecode: DecodeFn) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n    this.baseDecode = baseDecode\n    this.encoder = new Encoder(name, prefix, baseEncode)\n    this.decoder = new Decoder(name, prefix, baseDecode)\n  }\n\n  encode (input: Uint8Array): string {\n    return this.encoder.encode(input)\n  }\n\n  decode (input: string): Uint8Array {\n    return this.decoder.decode(input)\n  }\n}\n\nexport function from <Base extends string, Prefix extends string> ({ name, prefix, encode, decode }: { name: Base, prefix: Prefix, encode: EncodeFn, decode: DecodeFn }): Codec<Base, Prefix> {\n  return new Codec(name, prefix, encode, decode)\n}\n\nexport function baseX <Base extends string, Prefix extends string> ({ name, prefix, alphabet }: { name: Base, prefix: Prefix, alphabet: string }): Codec<Base, Prefix> {\n  const { encode, decode } = basex(alphabet, name)\n  return from({\n    prefix,\n    name,\n    encode,\n    decode: (text: string): Uint8Array => coerce(decode(text))\n  })\n}\n\nfunction decode (string: string, alphabetIdx: Record<string, number>, bitsPerChar: number, name: string): Uint8Array {\n  // Count the padding bytes:\n  let end = string.length\n  while (string[end - 1] === '=') {\n    --end\n  }\n\n  // Allocate the output:\n  const out = new Uint8Array((end * bitsPerChar / 8) | 0)\n\n  // Parse the data:\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  let written = 0 // Next byte to write\n  for (let i = 0; i < end; ++i) {\n    // Read one character from the string:\n    const value = alphabetIdx[string[i]]\n    if (value === undefined) {\n      throw new SyntaxError(`Non-${name} character`)\n    }\n\n    // Append the bits to the buffer:\n    buffer = (buffer << bitsPerChar) | value\n    bits += bitsPerChar\n\n    // Write out some bits if the buffer has a byte's worth:\n    if (bits >= 8) {\n      bits -= 8\n      out[written++] = 0xff & (buffer >> bits)\n    }\n  }\n\n  // Verify that we have received just enough bits:\n  if (bits >= bitsPerChar || (0xff & (buffer << (8 - bits))) !== 0) {\n    throw new SyntaxError('Unexpected end of data')\n  }\n\n  return out\n}\n\nfunction encode (data: Uint8Array, alphabet: string, bitsPerChar: number): string {\n  const pad = alphabet[alphabet.length - 1] === '='\n  const mask = (1 << bitsPerChar) - 1\n  let out = ''\n\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  for (let i = 0; i < data.length; ++i) {\n    // Slurp data into the buffer:\n    buffer = (buffer << 8) | data[i]\n    bits += 8\n\n    // Write out as much as we can:\n    while (bits > bitsPerChar) {\n      bits -= bitsPerChar\n      out += alphabet[mask & (buffer >> bits)]\n    }\n  }\n\n  // Partial character:\n  if (bits !== 0) {\n    out += alphabet[mask & (buffer << (bitsPerChar - bits))]\n  }\n\n  // Add padding characters until we hit a byte boundary:\n  if (pad) {\n    while (((out.length * bitsPerChar) & 7) !== 0) {\n      out += '='\n    }\n  }\n\n  return out\n}\n\nfunction createAlphabetIdx (alphabet: string): Record<string, number> {\n  // Build the character lookup table:\n  const alphabetIdx: Record<string, number> = {}\n  for (let i = 0; i < alphabet.length; ++i) {\n    alphabetIdx[alphabet[i]] = i\n  }\n  return alphabetIdx\n}\n\n/**\n * RFC4648 Factory\n */\nexport function rfc4648 <Base extends string, Prefix extends string> ({ name, prefix, bitsPerChar, alphabet }: { name: Base, prefix: Prefix, bitsPerChar: number, alphabet: string }): Codec<Base, Prefix> {\n  const alphabetIdx = createAlphabetIdx(alphabet)\n  return from({\n    prefix,\n    name,\n    encode (input: Uint8Array): string {\n      return encode(input, alphabet, bitsPerChar)\n    },\n    decode (input: string): Uint8Array {\n      return decode(input, alphabetIdx, bitsPerChar, name)\n    }\n  })\n}\n", "import { rfc4648 } from './base.js'\n\nexport const base16 = rfc4648({\n  prefix: 'f',\n  name: 'base16',\n  alphabet: '0123456789abcdef',\n  bitsPerChar: 4\n})\n\nexport const base16upper = rfc4648({\n  prefix: 'F',\n  name: 'base16upper',\n  alphabet: '0123456789ABCDEF',\n  bitsPerChar: 4\n})\n", "import { rfc4648 } from './base.js'\n\nexport const base2 = rfc4648({\n  prefix: '0',\n  name: 'base2',\n  alphabet: '01',\n  bitsPerChar: 1\n})\n", "import { from } from './base.js'\n\nconst alphabet = Array.from('\uD83D\uDE80\uD83E\uDE90\u2604\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\u2600\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\u2764\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\u263A\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\u270C\u2728\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\u2763\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\u270B\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\u2B50\u2705\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\u2714\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\u2639\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\u261D\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\u26BD\uD83E\uDD19\u2615\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\u26A1\uD83C\uDF1E\uD83C\uDF88\u274C\u270A\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\u2708\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\u25B6\u27A1\u2753\uD83D\uDC8E\uD83D\uDCB8\u2B07\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\u26A0\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\u260E\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\u2744\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42')\nconst alphabetBytesToChars: string[] = (alphabet.reduce<string[]>((p, c, i) => { p[i] = c; return p }, ([])))\nconst alphabetCharsToBytes: number[] = (alphabet.reduce<number[]>((p, c, i) => {\n  const codePoint = c.codePointAt(0)\n  if (codePoint == null) {\n    throw new Error(`Invalid character: ${c}`)\n  }\n  p[codePoint] = i\n  return p\n}, ([])))\n\nfunction encode (data: Uint8Array): string {\n  return data.reduce((p, c) => {\n    p += alphabetBytesToChars[c]\n    return p\n  }, '')\n}\n\nfunction decode (str: string): Uint8Array {\n  const byts = []\n  for (const char of str) {\n    const codePoint = char.codePointAt(0)\n    if (codePoint == null) {\n      throw new Error(`Invalid character: ${char}`)\n    }\n    const byt = alphabetCharsToBytes[codePoint]\n    if (byt == null) {\n      throw new Error(`Non-base256emoji character: ${char}`)\n    }\n    byts.push(byt)\n  }\n  return new Uint8Array(byts)\n}\n\nexport const base256emoji = from({\n  prefix: '\uD83D\uDE80',\n  name: 'base256emoji',\n  encode,\n  decode\n})\n", "import { rfc4648 } from './base.js'\n\nexport const base32 = rfc4648({\n  prefix: 'b',\n  name: 'base32',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567',\n  bitsPerChar: 5\n})\n\nexport const base32upper = rfc4648({\n  prefix: 'B',\n  name: 'base32upper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\n  bitsPerChar: 5\n})\n\nexport const base32pad = rfc4648({\n  prefix: 'c',\n  name: 'base32pad',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567=',\n  bitsPerChar: 5\n})\n\nexport const base32padupper = rfc4648({\n  prefix: 'C',\n  name: 'base32padupper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=',\n  bitsPerChar: 5\n})\n\nexport const base32hex = rfc4648({\n  prefix: 'v',\n  name: 'base32hex',\n  alphabet: '0123456789abcdefghijklmnopqrstuv',\n  bitsPerChar: 5\n})\n\nexport const base32hexupper = rfc4648({\n  prefix: 'V',\n  name: 'base32hexupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV',\n  bitsPerChar: 5\n})\n\nexport const base32hexpad = rfc4648({\n  prefix: 't',\n  name: 'base32hexpad',\n  alphabet: '0123456789abcdefghijklmnopqrstuv=',\n  bitsPerChar: 5\n})\n\nexport const base32hexpadupper = rfc4648({\n  prefix: 'T',\n  name: 'base32hexpadupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV=',\n  bitsPerChar: 5\n})\n\nexport const base32z = rfc4648({\n  prefix: 'h',\n  name: 'base32z',\n  alphabet: 'ybndrfg8ejkmcpqxot1uwisza345h769',\n  bitsPerChar: 5\n})\n", "import { baseX } from './base.js'\n\nexport const base36 = baseX({\n  prefix: 'k',\n  name: 'base36',\n  alphabet: '0123456789abcdefghijklmnopqrstuvwxyz'\n})\n\nexport const base36upper = baseX({\n  prefix: 'K',\n  name: 'base36upper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n})\n", "import { baseX } from './base.js'\n\nexport const base58btc = baseX({\n  name: 'base58btc',\n  prefix: 'z',\n  alphabet: '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n})\n\nexport const base58flickr = baseX({\n  name: 'base58flickr',\n  prefix: 'Z',\n  alphabet: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'\n})\n", "import { rfc4648 } from './base.js'\n\nexport const base64 = rfc4648({\n  prefix: 'm',\n  name: 'base64',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n  bitsPerChar: 6\n})\n\nexport const base64pad = rfc4648({\n  prefix: 'M',\n  name: 'base64pad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n  bitsPerChar: 6\n})\n\nexport const base64url = rfc4648({\n  prefix: 'u',\n  name: 'base64url',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_',\n  bitsPerChar: 6\n})\n\nexport const base64urlpad = rfc4648({\n  prefix: 'U',\n  name: 'base64urlpad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=',\n  bitsPerChar: 6\n})\n", "import { rfc4648 } from './base.js'\n\nexport const base8 = rfc4648({\n  prefix: '7',\n  name: 'base8',\n  alphabet: '01234567',\n  bitsPerChar: 3\n})\n", "import { fromString, toString } from '../bytes.js'\nimport { from } from './base.js'\n\nexport const identity = from({\n  prefix: '\\x00',\n  name: 'identity',\n  encode: (buf) => toString(buf),\n  decode: (str) => fromString(str)\n})\n", "import type { ArrayBufferView, ByteView } from './interface.js'\n\nconst textEncoder = new TextEncoder()\nconst textDecoder = new TextDecoder()\n\nexport const name = 'json'\nexport const code = 0x0200\n\nexport function encode <T> (node: T): ByteView<T> {\n  return textEncoder.encode(JSON.stringify(node))\n}\n\nexport function decode <T> (data: ByteView<T> | ArrayBufferView<T>): T {\n  return JSON.parse(textDecoder.decode(data))\n}\n", "import { coerce } from '../bytes.js'\nimport * as Digest from './digest.js'\n\nconst code: 0x0 = 0x0\nconst name = 'identity'\n\nconst encode: (input: Uint8Array) => Uint8Array = coerce\n\nfunction digest (input: Uint8Array): Digest.Digest<typeof code, number> {\n  return Digest.create(code, encode(input))\n}\n\nexport const identity = { code, name, encode, digest }\n", "/* eslint-disable */\nvar encode_1 = encode;\n\nvar MSB = 0x80\n  , REST = 0x7F\n  , MSBALL = ~REST\n  , INT = Math.pow(2, 31);\n\n/**\n * @param {number} num\n * @param {number[]} out\n * @param {number} offset\n */\nfunction encode(num, out, offset) {\n  out = out || [];\n  offset = offset || 0;\n  var oldOffset = offset;\n\n  while(num >= INT) {\n    out[offset++] = (num & 0xFF) | MSB;\n    num /= 128;\n  }\n  while(num & MSBALL) {\n    out[offset++] = (num & 0xFF) | MSB;\n    num >>>= 7;\n  }\n  out[offset] = num | 0;\n  \n  // @ts-ignore\n  encode.bytes = offset - oldOffset + 1;\n  \n  return out\n}\n\nvar decode = read;\n\nvar MSB$1 = 0x80\n  , REST$1 = 0x7F;\n\n/**\n * @param {string | any[]} buf\n * @param {number} offset\n */\nfunction read(buf, offset) {\n  var res    = 0\n    , offset = offset || 0\n    , shift  = 0\n    , counter = offset\n    , b\n    , l = buf.length;\n\n  do {\n    if (counter >= l) {\n      // @ts-ignore\n      read.bytes = 0;\n      throw new RangeError('Could not decode varint')\n    }\n    b = buf[counter++];\n    res += shift < 28\n      ? (b & REST$1) << shift\n      : (b & REST$1) * Math.pow(2, shift);\n    shift += 7;\n  } while (b >= MSB$1)\n\n  // @ts-ignore\n  read.bytes = counter - offset;\n\n  return res\n}\n\nvar N1 = Math.pow(2,  7);\nvar N2 = Math.pow(2, 14);\nvar N3 = Math.pow(2, 21);\nvar N4 = Math.pow(2, 28);\nvar N5 = Math.pow(2, 35);\nvar N6 = Math.pow(2, 42);\nvar N7 = Math.pow(2, 49);\nvar N8 = Math.pow(2, 56);\nvar N9 = Math.pow(2, 63);\n\nvar length = function (/** @type {number} */ value) {\n  return (\n    value < N1 ? 1\n  : value < N2 ? 2\n  : value < N3 ? 3\n  : value < N4 ? 4\n  : value < N5 ? 5\n  : value < N6 ? 6\n  : value < N7 ? 7\n  : value < N8 ? 8\n  : value < N9 ? 9\n  :              10\n  )\n};\n\nvar varint = {\n    encode: encode_1\n  , decode: decode\n  , encodingLength: length\n};\n\nvar _brrp_varint = varint;\n\nexport default _brrp_varint;\n", "import varint from './vendor/varint.js'\n\nexport function decode (data: Uint8Array, offset = 0): [number, number] {\n  const code = varint.decode(data, offset)\n  return [code, varint.decode.bytes]\n}\n\nexport function encodeTo (int: number, target: Uint8Array, offset = 0): Uint8Array {\n  varint.encode(int, target, offset)\n  return target\n}\n\nexport function encodingLength (int: number): number {\n  return varint.encodingLength(int)\n}\n", "import { coerce, equals as equalBytes } from '../bytes.js'\nimport * as varint from '../varint.js'\nimport type { MultihashDigest } from './interface.js'\n\n/**\n * Creates a multihash digest.\n */\nexport function create <Code extends number> (code: Code, digest: Uint8Array): Digest<Code, number> {\n  const size = digest.byteLength\n  const sizeOffset = varint.encodingLength(code)\n  const digestOffset = sizeOffset + varint.encodingLength(size)\n\n  const bytes = new Uint8Array(digestOffset + size)\n  varint.encodeTo(code, bytes, 0)\n  varint.encodeTo(size, bytes, sizeOffset)\n  bytes.set(digest, digestOffset)\n\n  return new Digest(code, size, digest, bytes)\n}\n\n/**\n * Turns bytes representation of multihash digest into an instance.\n */\nexport function decode (multihash: Uint8Array): MultihashDigest {\n  const bytes = coerce(multihash)\n  const [code, sizeOffset] = varint.decode(bytes)\n  const [size, digestOffset] = varint.decode(bytes.subarray(sizeOffset))\n  const digest = bytes.subarray(sizeOffset + digestOffset)\n\n  if (digest.byteLength !== size) {\n    throw new Error('Incorrect length')\n  }\n\n  return new Digest(code, size, digest, bytes)\n}\n\nexport function equals (a: MultihashDigest, b: unknown): b is MultihashDigest {\n  if (a === b) {\n    return true\n  } else {\n    const data = b as { code?: unknown, size?: unknown, bytes?: unknown }\n\n    return (\n      a.code === data.code &&\n      a.size === data.size &&\n      data.bytes instanceof Uint8Array &&\n      equalBytes(a.bytes, data.bytes)\n    )\n  }\n}\n\n/**\n * Represents a multihash digest which carries information about the\n * hashing algorithm and an actual hash digest.\n */\nexport class Digest<Code extends number, Size extends number> implements MultihashDigest {\n  readonly code: Code\n  readonly size: Size\n  readonly digest: Uint8Array\n  readonly bytes: Uint8Array\n\n  /**\n   * Creates a multihash digest.\n   */\n  constructor (code: Code, size: Size, digest: Uint8Array, bytes: Uint8Array) {\n    this.code = code\n    this.size = size\n    this.digest = digest\n    this.bytes = bytes\n  }\n}\n\n/**\n * Used to check that the passed multihash has the passed code\n */\nexport function hasCode <T extends number> (digest: MultihashDigest, code: T): digest is MultihashDigest<T> {\n  return digest.code === code\n}\n", "/* global crypto */\n\nimport { from } from './hasher.js'\n\nfunction sha (name: AlgorithmIdentifier): (data: Uint8Array) => Promise<Uint8Array> {\n  return async data => new Uint8Array(await crypto.subtle.digest(name, data))\n}\n\nexport const sha256 = from({\n  name: 'sha2-256',\n  code: 0x12,\n  encode: sha('SHA-256')\n})\n\nexport const sha512 = from({\n  name: 'sha2-512',\n  code: 0x13,\n  encode: sha('SHA-512')\n})\n", "import * as Digest from './digest.js'\nimport type { MultihashHasher } from './interface.js'\n\ntype Await<T> = Promise<T> | T\n\nexport function from <Name extends string, Code extends number> ({ name, code, encode }: { name: Name, code: Code, encode(input: Uint8Array): Await<Uint8Array> }): Hasher<Name, Code> {\n  return new Hasher(name, code, encode)\n}\n\n/**\n * Hasher represents a hashing algorithm implementation that produces as\n * `MultihashDigest`.\n */\nexport class Hasher<Name extends string, Code extends number> implements MultihashHasher<Code> {\n  readonly name: Name\n  readonly code: Code\n  readonly encode: (input: Uint8Array) => Await<Uint8Array>\n\n  constructor (name: Name, code: Code, encode: (input: Uint8Array) => Await<Uint8Array>) {\n    this.name = name\n    this.code = code\n    this.encode = encode\n  }\n\n  digest (input: Uint8Array): Await<Digest.Digest<Code, number>> {\n    if (input instanceof Uint8Array) {\n      const result = this.encode(input)\n      return result instanceof Uint8Array\n        ? Digest.create(this.code, result)\n        /* c8 ignore next 1 */\n        : result.then(digest => Digest.create(this.code, digest))\n    } else {\n      throw Error('Unknown type, must be binary type')\n      /* c8 ignore next 1 */\n    }\n  }\n}\n", "import { base32 } from './bases/base32.js'\nimport { base36 } from './bases/base36.js'\nimport { base58btc } from './bases/base58.js'\nimport { coerce } from './bytes.js'\nimport * as Digest from './hashes/digest.js'\nimport * as varint from './varint.js'\nimport type * as API from './link/interface.js'\n\n// This way TS will also expose all the types from module\nexport * from './link/interface.js'\n\nexport function format <T extends API.Link<unknown, number, number, API.Version>, Prefix extends string> (link: T, base?: API.MultibaseEncoder<Prefix>): API.ToString<T, Prefix> {\n  const { bytes, version } = link\n  switch (version) {\n    case 0:\n      return toStringV0(\n        bytes,\n        baseCache(link),\n        base as API.MultibaseEncoder<'z'> ?? base58btc.encoder\n      )\n    default:\n      return toStringV1(\n        bytes,\n        baseCache(link),\n        (base ?? base32.encoder) as API.MultibaseEncoder<Prefix>\n      )\n  }\n}\n\nexport function toJSON <Link extends API.UnknownLink> (link: Link): API.LinkJSON<Link> {\n  return {\n    '/': format(link)\n  }\n}\n\nexport function fromJSON <Link extends API.UnknownLink> (json: API.LinkJSON<Link>): CID<unknown, number, number, API.Version> {\n  return CID.parse(json['/'])\n}\n\nconst cache = new WeakMap<API.UnknownLink, Map<string, string>>()\n\nfunction baseCache (cid: API.UnknownLink): Map<string, string> {\n  const baseCache = cache.get(cid)\n  if (baseCache == null) {\n    const baseCache = new Map()\n    cache.set(cid, baseCache)\n    return baseCache\n  }\n  return baseCache\n}\n\nexport class CID<Data = unknown, Format extends number = number, Alg extends number = number, Version extends API.Version = API.Version> implements API.Link<Data, Format, Alg, Version> {\n  readonly code: Format\n  readonly version: Version\n  readonly multihash: API.MultihashDigest<Alg>\n  readonly bytes: Uint8Array\n  readonly '/': Uint8Array\n\n  /**\n   * @param version - Version of the CID\n   * @param code - Code of the codec content is encoded in, see https://github.com/multiformats/multicodec/blob/master/table.csv\n   * @param multihash - (Multi)hash of the of the content.\n   */\n  constructor (version: Version, code: Format, multihash: API.MultihashDigest<Alg>, bytes: Uint8Array) {\n    this.code = code\n    this.version = version\n    this.multihash = multihash\n    this.bytes = bytes\n\n    // flag to serializers that this is a CID and\n    // should be treated specially\n    this['/'] = bytes\n  }\n\n  /**\n   * Signalling `cid.asCID === cid` has been replaced with `cid['/'] === cid.bytes`\n   * please either use `CID.asCID(cid)` or switch to new signalling mechanism\n   *\n   * @deprecated\n   */\n  get asCID (): this {\n    return this\n  }\n\n  // ArrayBufferView\n  get byteOffset (): number {\n    return this.bytes.byteOffset\n  }\n\n  // ArrayBufferView\n  get byteLength (): number {\n    return this.bytes.byteLength\n  }\n\n  toV0 (): CID<Data, API.DAG_PB, API.SHA_256, 0> {\n    switch (this.version) {\n      case 0: {\n        return this as CID<Data, API.DAG_PB, API.SHA_256, 0>\n      }\n      case 1: {\n        const { code, multihash } = this\n\n        if (code !== DAG_PB_CODE) {\n          throw new Error('Cannot convert a non dag-pb CID to CIDv0')\n        }\n\n        // sha2-256\n        if (multihash.code !== SHA_256_CODE) {\n          throw new Error('Cannot convert non sha2-256 multihash CID to CIDv0')\n        }\n\n        return (\n          CID.createV0(\n            multihash as API.MultihashDigest<API.SHA_256>\n          )\n        )\n      }\n      default: {\n        throw Error(\n          `Can not convert CID version ${this.version} to version 0. This is a bug please report`\n        )\n      }\n    }\n  }\n\n  toV1 (): CID<Data, Format, Alg, 1> {\n    switch (this.version) {\n      case 0: {\n        const { code, digest } = this.multihash\n        const multihash = Digest.create(code, digest)\n        return (\n          CID.createV1(this.code, multihash)\n        )\n      }\n      case 1: {\n        return this as CID<Data, Format, Alg, 1>\n      }\n      default: {\n        throw Error(\n          `Can not convert CID version ${this.version} to version 1. This is a bug please report`\n        )\n      }\n    }\n  }\n\n  equals (other: unknown): other is CID<Data, Format, Alg, Version> {\n    return CID.equals(this, other)\n  }\n\n  static equals <Data, Format extends number, Alg extends number, Version extends API.Version>(self: API.Link<Data, Format, Alg, Version>, other: unknown): other is CID {\n    const unknown = other as { code?: unknown, version?: unknown, multihash?: unknown }\n    return (\n      unknown != null &&\n      self.code === unknown.code &&\n      self.version === unknown.version &&\n      Digest.equals(self.multihash, unknown.multihash)\n    )\n  }\n\n  toString (base?: API.MultibaseEncoder<string>): string {\n    return format(this, base)\n  }\n\n  toJSON (): API.LinkJSON<this> {\n    return { '/': format(this) }\n  }\n\n  link (): this {\n    return this\n  }\n\n  readonly [Symbol.toStringTag] = 'CID';\n\n  // Legacy\n\n  [Symbol.for('nodejs.util.inspect.custom')] (): string {\n    return `CID(${this.toString()})`\n  }\n\n  /**\n   * Takes any input `value` and returns a `CID` instance if it was\n   * a `CID` otherwise returns `null`. If `value` is instanceof `CID`\n   * it will return value back. If `value` is not instance of this CID\n   * class, but is compatible CID it will return new instance of this\n   * `CID` class. Otherwise returns null.\n   *\n   * This allows two different incompatible versions of CID library to\n   * co-exist and interop as long as binary interface is compatible.\n   */\n  static asCID <Data, Format extends number, Alg extends number, Version extends API.Version, U>(input: API.Link<Data, Format, Alg, Version> | U): CID<Data, Format, Alg, Version> | null {\n    if (input == null) {\n      return null\n    }\n\n    const value = input as any\n    if (value instanceof CID) {\n      // If value is instance of CID then we're all set.\n      return value\n    } else if ((value['/'] != null && value['/'] === value.bytes) || value.asCID === value) {\n      // If value isn't instance of this CID class but `this.asCID === this` or\n      // `value['/'] === value.bytes` is true it is CID instance coming from a\n      // different implementation (diff version or duplicate). In that case we\n      // rebase it to this `CID` implementation so caller is guaranteed to get\n      // instance with expected API.\n      const { version, code, multihash, bytes } = value\n      return new CID(\n        version,\n        code,\n        multihash as API.MultihashDigest<Alg>,\n        bytes ?? encodeCID(version, code, multihash.bytes)\n      )\n    } else if (value[cidSymbol] === true) {\n      // If value is a CID from older implementation that used to be tagged via\n      // symbol we still rebase it to the this `CID` implementation by\n      // delegating that to a constructor.\n      const { version, multihash, code } = value\n      const digest = Digest.decode(multihash) as API.MultihashDigest<Alg>\n      return CID.create(version, code, digest)\n    } else {\n      // Otherwise value is not a CID (or an incompatible version of it) in\n      // which case we return `null`.\n      return null\n    }\n  }\n\n  /**\n   * @param version - Version of the CID\n   * @param code - Code of the codec content is encoded in, see https://github.com/multiformats/multicodec/blob/master/table.csv\n   * @param digest - (Multi)hash of the of the content.\n   */\n  static create <Data, Format extends number, Alg extends number, Version extends API.Version>(version: Version, code: Format, digest: API.MultihashDigest<Alg>): CID<Data, Format, Alg, Version> {\n    if (typeof code !== 'number') {\n      throw new Error('String codecs are no longer supported')\n    }\n\n    if (!(digest.bytes instanceof Uint8Array)) {\n      throw new Error('Invalid digest')\n    }\n\n    switch (version) {\n      case 0: {\n        if (code !== DAG_PB_CODE) {\n          throw new Error(\n            `Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`\n          )\n        } else {\n          return new CID(version, code, digest, digest.bytes)\n        }\n      }\n      case 1: {\n        const bytes = encodeCID(version, code, digest.bytes)\n        return new CID(version, code, digest, bytes)\n      }\n      default: {\n        throw new Error('Invalid version')\n      }\n    }\n  }\n\n  /**\n   * Simplified version of `create` for CIDv0.\n   */\n  static createV0 <T = unknown>(digest: API.MultihashDigest<typeof SHA_256_CODE>): CID<T, typeof DAG_PB_CODE, typeof SHA_256_CODE, 0> {\n    return CID.create(0, DAG_PB_CODE, digest)\n  }\n\n  /**\n   * Simplified version of `create` for CIDv1.\n   *\n   * @param code - Content encoding format code.\n   * @param digest - Multihash of the content.\n   */\n  static createV1 <Data, Code extends number, Alg extends number>(code: Code, digest: API.MultihashDigest<Alg>): CID<Data, Code, Alg, 1> {\n    return CID.create(1, code, digest)\n  }\n\n  /**\n   * Decoded a CID from its binary representation. The byte array must contain\n   * only the CID with no additional bytes.\n   *\n   * An error will be thrown if the bytes provided do not contain a valid\n   * binary representation of a CID.\n   */\n  static decode <Data, Code extends number, Alg extends number, Version extends API.Version>(bytes: API.ByteView<API.Link<Data, Code, Alg, Version>>): CID<Data, Code, Alg, Version> {\n    const [cid, remainder] = CID.decodeFirst(bytes)\n    if (remainder.length !== 0) {\n      throw new Error('Incorrect length')\n    }\n    return cid\n  }\n\n  /**\n   * Decoded a CID from its binary representation at the beginning of a byte\n   * array.\n   *\n   * Returns an array with the first element containing the CID and the second\n   * element containing the remainder of the original byte array. The remainder\n   * will be a zero-length byte array if the provided bytes only contained a\n   * binary CID representation.\n   */\n  static decodeFirst <T, C extends number, A extends number, V extends API.Version>(bytes: API.ByteView<API.Link<T, C, A, V>>): [CID<T, C, A, V>, Uint8Array] {\n    const specs = CID.inspectBytes(bytes)\n    const prefixSize = specs.size - specs.multihashSize\n    const multihashBytes = coerce(\n      bytes.subarray(prefixSize, prefixSize + specs.multihashSize)\n    )\n    if (multihashBytes.byteLength !== specs.multihashSize) {\n      throw new Error('Incorrect length')\n    }\n    const digestBytes = multihashBytes.subarray(\n      specs.multihashSize - specs.digestSize\n    )\n    const digest = new Digest.Digest(\n      specs.multihashCode,\n      specs.digestSize,\n      digestBytes,\n      multihashBytes\n    )\n    const cid =\n      specs.version === 0\n        ? CID.createV0(digest as API.MultihashDigest<API.SHA_256>)\n        : CID.createV1(specs.codec, digest)\n    return [cid as CID<T, C, A, V>, bytes.subarray(specs.size)]\n  }\n\n  /**\n   * Inspect the initial bytes of a CID to determine its properties.\n   *\n   * Involves decoding up to 4 varints. Typically this will require only 4 to 6\n   * bytes but for larger multicodec code values and larger multihash digest\n   * lengths these varints can be quite large. It is recommended that at least\n   * 10 bytes be made available in the `initialBytes` argument for a complete\n   * inspection.\n   */\n  static inspectBytes <T, C extends number, A extends number, V extends API.Version>(initialBytes: API.ByteView<API.Link<T, C, A, V>>): { version: V, codec: C, multihashCode: A, digestSize: number, multihashSize: number, size: number } {\n    let offset = 0\n    const next = (): number => {\n      const [i, length] = varint.decode(initialBytes.subarray(offset))\n      offset += length\n      return i\n    }\n\n    let version = next() as V\n    let codec = DAG_PB_CODE as C\n    if (version as number === 18) {\n      // CIDv0\n      version = 0 as V\n      offset = 0\n    } else {\n      codec = next() as C\n    }\n\n    if (version !== 0 && version !== 1) {\n      throw new RangeError(`Invalid CID version ${version}`)\n    }\n\n    const prefixSize = offset\n    const multihashCode = next() as A // multihash code\n    const digestSize = next() // multihash length\n    const size = offset + digestSize\n    const multihashSize = size - prefixSize\n\n    return { version, codec, multihashCode, digestSize, multihashSize, size }\n  }\n\n  /**\n   * Takes cid in a string representation and creates an instance. If `base`\n   * decoder is not provided will use a default from the configuration. It will\n   * throw an error if encoding of the CID is not compatible with supplied (or\n   * a default decoder).\n   */\n  static parse <Prefix extends string, Data, Code extends number, Alg extends number, Version extends API.Version>(source: API.ToString<API.Link<Data, Code, Alg, Version>, Prefix>, base?: API.MultibaseDecoder<Prefix>): CID<Data, Code, Alg, Version> {\n    const [prefix, bytes] = parseCIDtoBytes(source, base)\n\n    const cid = CID.decode(bytes)\n\n    if (cid.version === 0 && source[0] !== 'Q') {\n      throw Error('Version 0 CID string must not include multibase prefix')\n    }\n\n    // Cache string representation to avoid computing it on `this.toString()`\n    baseCache(cid).set(prefix, source)\n\n    return cid\n  }\n}\n\nfunction parseCIDtoBytes <Prefix extends string, Data, Code extends number, Alg extends number, Version extends API.Version> (source: API.ToString<API.Link<Data, Code, Alg, Version>, Prefix>, base?: API.MultibaseDecoder<Prefix>): [Prefix, API.ByteView<API.Link<Data, Code, Alg, Version>>] {\n  switch (source[0]) {\n    // CIDv0 is parsed differently\n    case 'Q': {\n      const decoder = base ?? base58btc\n      return [\n        base58btc.prefix as Prefix,\n        decoder.decode(`${base58btc.prefix}${source}`)\n      ]\n    }\n    case base58btc.prefix: {\n      const decoder = base ?? base58btc\n      return [base58btc.prefix as Prefix, decoder.decode(source)]\n    }\n    case base32.prefix: {\n      const decoder = base ?? base32\n      return [base32.prefix as Prefix, decoder.decode(source)]\n    }\n    case base36.prefix: {\n      const decoder = base ?? base36\n      return [base36.prefix as Prefix, decoder.decode(source)]\n    }\n    default: {\n      if (base == null) {\n        throw Error(\n          'To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided'\n        )\n      }\n      return [source[0] as Prefix, base.decode(source)]\n    }\n  }\n}\n\nfunction toStringV0 (bytes: Uint8Array, cache: Map<string, string>, base: API.MultibaseEncoder<'z'>): string {\n  const { prefix } = base\n  if (prefix !== base58btc.prefix) {\n    throw Error(`Cannot string encode V0 in ${base.name} encoding`)\n  }\n\n  const cid = cache.get(prefix)\n  if (cid == null) {\n    const cid = base.encode(bytes).slice(1)\n    cache.set(prefix, cid)\n    return cid\n  } else {\n    return cid\n  }\n}\n\nfunction toStringV1 <Prefix extends string> (bytes: Uint8Array, cache: Map<string, string>, base: API.MultibaseEncoder<Prefix>): string {\n  const { prefix } = base\n  const cid = cache.get(prefix)\n  if (cid == null) {\n    const cid = base.encode(bytes)\n    cache.set(prefix, cid)\n    return cid\n  } else {\n    return cid\n  }\n}\n\nconst DAG_PB_CODE = 0x70\nconst SHA_256_CODE = 0x12\n\nfunction encodeCID (version: API.Version, code: number, multihash: Uint8Array): Uint8Array {\n  const codeOffset = varint.encodingLength(version)\n  const hashOffset = codeOffset + varint.encodingLength(code)\n  const bytes = new Uint8Array(hashOffset + multihash.byteLength)\n  varint.encodeTo(version, bytes, 0)\n  varint.encodeTo(code, bytes, codeOffset)\n  bytes.set(multihash, hashOffset)\n  return bytes\n}\n\nconst cidSymbol = Symbol.for('@ipld/js-cid/CID')\n", "import * as base10 from './bases/base10.js'\nimport * as base16 from './bases/base16.js'\nimport * as base2 from './bases/base2.js'\nimport * as base256emoji from './bases/base256emoji.js'\nimport * as base32 from './bases/base32.js'\nimport * as base36 from './bases/base36.js'\nimport * as base58 from './bases/base58.js'\nimport * as base64 from './bases/base64.js'\nimport * as base8 from './bases/base8.js'\nimport * as identityBase from './bases/identity.js'\nimport * as json from './codecs/json.js'\nimport * as raw from './codecs/raw.js'\nimport * as identity from './hashes/identity.js'\nimport * as sha2 from './hashes/sha2.js'\nimport { CID, hasher, digest, varint, bytes } from './index.js'\n\nexport const bases = { ...identityBase, ...base2, ...base8, ...base10, ...base16, ...base32, ...base36, ...base58, ...base64, ...base256emoji }\nexport const hashes = { ...sha2, ...identity }\nexport const codecs = { raw, json }\n\nexport { CID, hasher, digest, varint, bytes }\n", "/**\n * Returns a `Uint8Array` of the requested size. Referenced memory will\n * be initialized to 0.\n */\nexport function alloc (size: number = 0): Uint8Array {\n  return new Uint8Array(size)\n}\n\n/**\n * Where possible returns a Uint8Array of the requested size that references\n * uninitialized memory. Only use if you are certain you will immediately\n * overwrite every value in the returned `Uint8Array`.\n */\nexport function allocUnsafe (size: number = 0): Uint8Array {\n  return new Uint8Array(size)\n}\n", "import { bases } from 'multiformats/basics'\nimport type { MultibaseCodec } from 'multiformats'\nimport { allocUnsafe } from '#alloc'\n\nfunction createCodec (name: string, prefix: string, encode: (buf: Uint8Array) => string, decode: (str: string) => Uint8Array): MultibaseCodec<any> {\n  return {\n    name,\n    prefix,\n    encoder: {\n      name,\n      prefix,\n      encode\n    },\n    decoder: {\n      decode\n    }\n  }\n}\n\nconst string = createCodec('utf8', 'u', (buf) => {\n  const decoder = new TextDecoder('utf8')\n  return 'u' + decoder.decode(buf)\n}, (str) => {\n  const encoder = new TextEncoder()\n  return encoder.encode(str.substring(1))\n})\n\nconst ascii = createCodec('ascii', 'a', (buf) => {\n  let string = 'a'\n\n  for (let i = 0; i < buf.length; i++) {\n    string += String.fromCharCode(buf[i])\n  }\n  return string\n}, (str) => {\n  str = str.substring(1)\n  const buf = allocUnsafe(str.length)\n\n  for (let i = 0; i < str.length; i++) {\n    buf[i] = str.charCodeAt(i)\n  }\n\n  return buf\n})\n\nexport type SupportedEncodings = 'utf8' | 'utf-8' | 'hex' | 'latin1' | 'ascii' | 'binary' | keyof typeof bases\n\nconst BASES: Record<SupportedEncodings, MultibaseCodec<any>> = {\n  utf8: string,\n  'utf-8': string,\n  hex: bases.base16,\n  latin1: ascii,\n  ascii,\n  binary: ascii,\n\n  ...bases\n}\n\nexport default BASES\n", "import bases, { type SupportedEncodings } from './util/bases.js'\n\nexport type { SupportedEncodings }\n\n/**\n * Turns a `Uint8Array` into a string.\n *\n * Supports `utf8`, `utf-8` and any encoding supported by the multibase module.\n *\n * Also `ascii` which is similar to node's 'binary' encoding.\n */\nexport function toString (array: Uint8Array, encoding: SupportedEncodings = 'utf8'): string {\n  const base = bases[encoding]\n\n  if (base == null) {\n    throw new Error(`Unsupported encoding \"${encoding}\"`)\n  }\n\n  // strip multibase prefix\n  return base.encoder.encode(array).substring(1)\n}\n", "/**\n * Thrown when an invalid multiaddr is encountered\n */\nexport class InvalidMultiaddrError extends Error {\n  static name = 'InvalidMultiaddrError'\n  name = 'InvalidMultiaddrError'\n}\n\nexport class ValidationError extends Error {\n  static name = 'ValidationError'\n  name = 'ValidationError'\n}\n\nexport class InvalidParametersError extends Error {\n  static name = 'InvalidParametersError'\n  name = 'InvalidParametersError'\n}\n\nexport class InvalidProtocolError extends Error {\n  static name = 'InvalidProtocolError'\n  name = 'InvalidProtocolError'\n}\n", "/**\n * Returns true if the two passed Uint8Arrays have the same content\n */\nexport function equals (a: Uint8Array, b: Uint8Array): boolean {\n  if (a === b) {\n    return true\n  }\n\n  if (a.byteLength !== b.byteLength) {\n    return false\n  }\n\n  for (let i = 0; i < a.byteLength; i++) {\n    if (a[i] !== b[i]) {\n      return false\n    }\n  }\n\n  return true\n}\n", "import bases, { type SupportedEncodings } from './util/bases.js'\n\nexport type { SupportedEncodings }\n\n/**\n * Create a `Uint8Array` from the passed string\n *\n * Supports `utf8`, `utf-8`, `hex`, and any encoding supported by the multiformats module.\n *\n * Also `ascii` which is similar to node's 'binary' encoding.\n */\nexport function fromString (string: string, encoding: SupportedEncodings = 'utf8'): Uint8Array {\n  const base = bases[encoding]\n\n  if (base == null) {\n    throw new Error(`Unsupported encoding \"${encoding}\"`)\n  }\n\n  // add multibase prefix\n  return base.decoder.decode(`${base.prefix}${string}`) // eslint-disable-line @typescript-eslint/restrict-template-expressions\n}\n", "/* eslint-disable no-fallthrough */\nimport { allocUnsafe } from 'uint8arrays/alloc'\nimport type { Uint8ArrayList } from 'uint8arraylist'\n\nconst N1 = Math.pow(2, 7)\nconst N2 = Math.pow(2, 14)\nconst N3 = Math.pow(2, 21)\nconst N4 = Math.pow(2, 28)\nconst N5 = Math.pow(2, 35)\nconst N6 = Math.pow(2, 42)\nconst N7 = Math.pow(2, 49)\n\n/** Most significant bit of a byte */\nconst MSB = 0x80\n/** Rest of the bits in a byte */\nconst REST = 0x7f\n\nexport function encodingLength (value: number): number {\n  if (value < N1) {\n    return 1\n  }\n\n  if (value < N2) {\n    return 2\n  }\n\n  if (value < N3) {\n    return 3\n  }\n\n  if (value < N4) {\n    return 4\n  }\n\n  if (value < N5) {\n    return 5\n  }\n\n  if (value < N6) {\n    return 6\n  }\n\n  if (value < N7) {\n    return 7\n  }\n\n  if (Number.MAX_SAFE_INTEGER != null && value > Number.MAX_SAFE_INTEGER) {\n    throw new RangeError('Could not encode varint')\n  }\n\n  return 8\n}\n\nexport function encodeUint8Array (value: number, buf: Uint8Array, offset: number = 0): Uint8Array {\n  switch (encodingLength(value)) {\n    case 8: {\n      buf[offset++] = (value & 0xFF) | MSB\n      value /= 128\n    }\n    case 7: {\n      buf[offset++] = (value & 0xFF) | MSB\n      value /= 128\n    }\n    case 6: {\n      buf[offset++] = (value & 0xFF) | MSB\n      value /= 128\n    }\n    case 5: {\n      buf[offset++] = (value & 0xFF) | MSB\n      value /= 128\n    }\n    case 4: {\n      buf[offset++] = (value & 0xFF) | MSB\n      value >>>= 7\n    }\n    case 3: {\n      buf[offset++] = (value & 0xFF) | MSB\n      value >>>= 7\n    }\n    case 2: {\n      buf[offset++] = (value & 0xFF) | MSB\n      value >>>= 7\n    }\n    case 1: {\n      buf[offset++] = (value & 0xFF)\n      value >>>= 7\n      break\n    }\n    default: throw new Error('unreachable')\n  }\n  return buf\n}\n\nexport function encodeUint8ArrayList (value: number, buf: Uint8ArrayList, offset: number = 0): Uint8ArrayList {\n  switch (encodingLength(value)) {\n    case 8: {\n      buf.set(offset++, (value & 0xFF) | MSB)\n      value /= 128\n    }\n    case 7: {\n      buf.set(offset++, (value & 0xFF) | MSB)\n      value /= 128\n    }\n    case 6: {\n      buf.set(offset++, (value & 0xFF) | MSB)\n      value /= 128\n    }\n    case 5: {\n      buf.set(offset++, (value & 0xFF) | MSB)\n      value /= 128\n    }\n    case 4: {\n      buf.set(offset++, (value & 0xFF) | MSB)\n      value >>>= 7\n    }\n    case 3: {\n      buf.set(offset++, (value & 0xFF) | MSB)\n      value >>>= 7\n    }\n    case 2: {\n      buf.set(offset++, (value & 0xFF) | MSB)\n      value >>>= 7\n    }\n    case 1: {\n      buf.set(offset++, (value & 0xFF))\n      value >>>= 7\n      break\n    }\n    default: throw new Error('unreachable')\n  }\n  return buf\n}\n\nexport function decodeUint8Array (buf: Uint8Array, offset: number): number {\n  let b = buf[offset]\n  let res = 0\n\n  res += b & REST\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf[offset + 1]\n  res += (b & REST) << 7\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf[offset + 2]\n  res += (b & REST) << 14\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf[offset + 3]\n  res += (b & REST) << 21\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf[offset + 4]\n  res += (b & REST) * N4\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf[offset + 5]\n  res += (b & REST) * N5\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf[offset + 6]\n  res += (b & REST) * N6\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf[offset + 7]\n  res += (b & REST) * N7\n  if (b < MSB) {\n    return res\n  }\n\n  throw new RangeError('Could not decode varint')\n}\n\nexport function decodeUint8ArrayList (buf: Uint8ArrayList, offset: number): number {\n  let b = buf.get(offset)\n  let res = 0\n\n  res += b & REST\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf.get(offset + 1)\n  res += (b & REST) << 7\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf.get(offset + 2)\n  res += (b & REST) << 14\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf.get(offset + 3)\n  res += (b & REST) << 21\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf.get(offset + 4)\n  res += (b & REST) * N4\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf.get(offset + 5)\n  res += (b & REST) * N5\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf.get(offset + 6)\n  res += (b & REST) * N6\n  if (b < MSB) {\n    return res\n  }\n\n  b = buf.get(offset + 7)\n  res += (b & REST) * N7\n  if (b < MSB) {\n    return res\n  }\n\n  throw new RangeError('Could not decode varint')\n}\n\nexport function encode (value: number): Uint8Array\nexport function encode (value: number, buf: Uint8Array, offset?: number): Uint8Array\nexport function encode (value: number, buf: Uint8ArrayList, offset?: number): Uint8ArrayList\nexport function encode <T extends Uint8Array | Uint8ArrayList = Uint8Array> (value: number, buf?: T, offset: number = 0): T {\n  if (buf == null) {\n    buf = allocUnsafe(encodingLength(value)) as T\n  }\n  if (buf instanceof Uint8Array) {\n    return encodeUint8Array(value, buf, offset) as T\n  } else {\n    return encodeUint8ArrayList(value, buf, offset) as T\n  }\n}\n\nexport function decode (buf: Uint8ArrayList | Uint8Array, offset: number = 0): number {\n  if (buf instanceof Uint8Array) {\n    return decodeUint8Array(buf, offset)\n  } else {\n    return decodeUint8ArrayList(buf, offset)\n  }\n}\n", "import { allocUnsafe } from '#alloc'\nimport { asUint8Array } from '#util/as-uint8array'\n\n/**\n * Returns a new Uint8Array created by concatenating the passed Uint8Arrays\n */\nexport function concat (arrays: Uint8Array[], length?: number): Uint8Array {\n  if (length == null) {\n    length = arrays.reduce((acc, curr) => acc + curr.length, 0)\n  }\n\n  const output = allocUnsafe(length)\n  let offset = 0\n\n  for (const arr of arrays) {\n    output.set(arr, offset)\n    offset += arr.length\n  }\n\n  return asUint8Array(output)\n}\n", "/* eslint-disable @typescript-eslint/no-unsafe-return */\n\n// Heavily inspired by https://doc.rust-lang.org/src/std/net/parser.rs.html\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype Fn = (...foo: any) => any;\n\nexport class Parser {\n  private index = 0;\n  private input = \"\";\n\n  new(input: string): this {\n    this.index = 0;\n    this.input = input;\n    return this;\n  }\n\n  /** Run a parser, and restore the pre-parse state if it fails. */\n  readAtomically<T extends Fn>(fn: T): ReturnType<T> {\n    const index = this.index;\n    const result = fn();\n    if (result === undefined) {\n      this.index = index;\n    }\n    return result;\n  }\n\n  /** Run a parser, but fail if the entire input wasn't consumed. Doesn't run atomically. */\n  parseWith<T extends Fn>(fn: T): ReturnType<T> | undefined {\n    const result = fn();\n    if (this.index !== this.input.length) {\n      return undefined;\n    }\n    return result;\n  }\n\n  /** Peek the next character from the input */\n  peekChar(): string | undefined {\n    if (this.index >= this.input.length) {\n      return undefined;\n    }\n    return this.input[this.index];\n  }\n\n  /** Read the next character from the input */\n  readChar(): string | undefined {\n    if (this.index >= this.input.length) {\n      return undefined;\n    }\n    return this.input[this.index++];\n  }\n\n  /** Read the next character from the input if it matches the target. */\n  readGivenChar(target: string): string | undefined {\n    return this.readAtomically(() => {\n      const char = this.readChar();\n      if (char !== target) {\n        return undefined;\n      }\n      return char;\n    });\n  }\n\n  /**\n   * Helper for reading separators in an indexed loop. Reads the separator\n   * character iff index > 0, then runs the parser. When used in a loop,\n   * the separator character will only be read on index > 0 (see\n   * readIPv4Addr for an example)\n   */\n  readSeparator<T extends Fn>(sep: string, index: number, inner: T): ReturnType<T> {\n    return this.readAtomically(() => {\n      if (index > 0) {\n        if (this.readGivenChar(sep) === undefined) {\n          return undefined;\n        }\n      }\n      return inner();\n    });\n  }\n\n  /**\n   * Read a number off the front of the input in the given radix, stopping\n   * at the first non-digit character or eof. Fails if the number has more\n   * digits than max_digits or if there is no number.\n   */\n  readNumber(\n    radix: number,\n    maxDigits: number | undefined,\n    allowZeroPrefix: boolean,\n    maxBytes: number\n  ): number | undefined {\n    return this.readAtomically(() => {\n      let result = 0;\n      let digitCount = 0;\n\n      const leadingChar = this.peekChar();\n      if (leadingChar === undefined) {\n        return undefined;\n      }\n      const hasLeadingZero = leadingChar === \"0\";\n      const maxValue = 2 ** (8 * maxBytes) - 1;\n\n      // eslint-disable-next-line no-constant-condition\n      while (true) {\n        const digit = this.readAtomically(() => {\n          const char = this.readChar();\n          if (char === undefined) {\n            return undefined;\n          }\n          const num = Number.parseInt(char, radix);\n          if (Number.isNaN(num)) {\n            return undefined;\n          }\n          return num;\n        });\n        if (digit === undefined) {\n          break;\n        }\n        result *= radix;\n        result += digit;\n        if (result > maxValue) {\n          return undefined;\n        }\n        digitCount += 1;\n        if (maxDigits !== undefined) {\n          if (digitCount > maxDigits) {\n            return undefined;\n          }\n        }\n      }\n\n      if (digitCount === 0) {\n        return undefined;\n      } else if (!allowZeroPrefix && hasLeadingZero && digitCount > 1) {\n        return undefined;\n      } else {\n        return result;\n      }\n    });\n  }\n\n  /** Read an IPv4 address. */\n  readIPv4Addr(): Uint8Array | undefined {\n    return this.readAtomically(() => {\n      const out = new Uint8Array(4);\n\n      for (let i = 0; i < out.length; i++) {\n        const ix = this.readSeparator(\".\", i, () => this.readNumber(10, 3, false, 1));\n        if (ix === undefined) {\n          return undefined;\n        }\n        out[i] = ix;\n      }\n\n      return out;\n    });\n  }\n\n  /** Read an IPv6 Address. */\n  readIPv6Addr(): Uint8Array | undefined {\n    /**\n     * Read a chunk of an IPv6 address into `groups`. Returns the number\n     * of groups read, along with a bool indicating if an embedded\n     * trailing IPv4 address was read. Specifically, read a series of\n     * colon-separated IPv6 groups (0x0000 - 0xFFFF), with an optional\n     * trailing embedded IPv4 address.\n     */\n    const readGroups = (groups: Uint8Array): [number, boolean] => {\n      for (let i = 0; i < groups.length / 2; i++) {\n        const ix = i * 2;\n        // Try to read a trailing embedded IPv4 address. There must be at least 4 groups left.\n        if (i < groups.length - 3) {\n          const ipv4 = this.readSeparator(\":\", i, () => this.readIPv4Addr());\n          if (ipv4 !== undefined) {\n            groups[ix] = ipv4[0];\n            groups[ix + 1] = ipv4[1];\n            groups[ix + 2] = ipv4[2];\n            groups[ix + 3] = ipv4[3];\n\n            return [ix + 4, true];\n          }\n        }\n\n        const group = this.readSeparator(\":\", i, () => this.readNumber(16, 4, true, 2));\n        if (group === undefined) {\n          return [ix, false];\n        }\n        groups[ix] = group >> 8;\n        groups[ix + 1] = group & 255;\n      }\n      return [groups.length, false];\n    };\n\n    return this.readAtomically(() => {\n      // Read the front part of the address; either the whole thing, or up to the first ::\n      const head = new Uint8Array(16);\n      const [headSize, headIp4] = readGroups(head);\n\n      if (headSize === 16) {\n        return head;\n      }\n\n      // IPv4 part is not allowed before `::`\n      if (headIp4) {\n        return undefined;\n      }\n\n      // Read `::` if previous code parsed less than 8 groups.\n      // `::` indicates one or more groups of 16 bits of zeros.\n      if (this.readGivenChar(\":\") === undefined) {\n        return undefined;\n      }\n      if (this.readGivenChar(\":\") === undefined) {\n        return undefined;\n      }\n\n      // Read the back part of the address. The :: must contain at least one\n      // set of zeroes, so our max length is 7.\n      const tail = new Uint8Array(14);\n      const limit = 16 - (headSize + 2);\n      const [tailSize] = readGroups(tail.subarray(0, limit));\n\n      // Concat the head and tail of the IP address\n      head.set(tail.subarray(0, tailSize), 16 - tailSize);\n\n      return head;\n    });\n  }\n\n  /** Read an IP Address, either IPv4 or IPv6. */\n  readIPAddr(): Uint8Array | undefined {\n    return this.readIPv4Addr() ?? this.readIPv6Addr();\n  }\n}\n", "import { Parser } from \"./parser.js\";\n\n// See https://stackoverflow.com/questions/166132/maximum-length-of-the-textual-representation-of-an-ipv6-address\nconst MAX_IPV6_LENGTH = 45;\nconst MAX_IPV4_LENGTH = 15;\n\nconst parser = new Parser();\n\n/** Parse `input` into IPv4 bytes. */\nexport function parseIPv4(input: string): Uint8Array | undefined {\n  if (input.length > MAX_IPV4_LENGTH) {\n    return undefined;\n  }\n  return parser.new(input).parseWith(() => parser.readIPv4Addr());\n}\n\n/** Parse IPv4 `input` into IPv6 with IPv4-mapped bytes, eg ::ffff:1.2.3.4 */\nexport function parseIPv4Mapped(input: string): Uint8Array | undefined {\n  if (input.length > MAX_IPV4_LENGTH) {\n    return undefined;\n  }\n\n  const ipv4 = parser.new(input).parseWith(() => parser.readIPv4Addr());\n  if (ipv4 === undefined) {\n    return undefined;\n  }\n\n  return Uint8Array.from([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0xff, 0xff, ipv4[0], ipv4[1], ipv4[2], ipv4[3]]);\n}\n\n/** Parse `input` into IPv6 bytes. */\nexport function parseIPv6(input: string): Uint8Array | undefined {\n  // strip zone index if it is present\n  if (input.includes(\"%\")) {\n    input = input.split(\"%\")[0];\n  }\n  if (input.length > MAX_IPV6_LENGTH) {\n    return undefined;\n  }\n  return parser.new(input).parseWith(() => parser.readIPv6Addr());\n}\n\n/** Parse `input` into IPv4 or IPv6 bytes. */\nexport function parseIP(input: string, mapIPv4ToIPv6 = false): Uint8Array | undefined {\n  // strip zone index if it is present\n  if (input.includes(\"%\")) {\n    input = input.split(\"%\")[0];\n  }\n\n  if (input.length > MAX_IPV6_LENGTH) {\n    return undefined;\n  }\n\n  const addr = parser.new(input).parseWith(() => parser.readIPAddr());\n  if (!addr) {\n    return undefined;\n  }\n\n  if (mapIPv4ToIPv6 && addr.length === 4) {\n    return Uint8Array.from([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0xff, 0xff, addr[0], addr[1], addr[2], addr[3]]);\n  }\n\n  return addr;\n}\n", "import { parseIP, parseIPv4, parseIPv6 } from \"./parse.js\";\n\n/** Check if `input` is IPv4. */\nexport function isIPv4(input: string): boolean {\n  return Boolean(parseIPv4(input));\n}\n\n/** Check if `input` is IPv6. */\nexport function isIPv6(input: string): boolean {\n  return Boolean(parseIPv6(input));\n}\n\n/** Check if `input` is IPv4 or IPv6. */\nexport function isIP(input: string): boolean {\n  return Boolean(parseIP(input));\n}\n\n/**\n * @returns `6` if `input` is IPv6, `4` if `input` is IPv4, or `undefined` if `input` is neither.\n */\nexport function ipVersion(input: string): 4 | 6 | undefined {\n  if (isIPv4(input)) {\n    return 4;\n  } else if (isIPv6(input)) {\n    return 6;\n  } else {\n    return undefined;\n  }\n}\n", "import { IPv4Len, IPv6Len } from \"./ip.js\";\n\nexport function allFF(\n  a: number[] | Uint8Array,\n  from: number,\n  to: number\n): boolean {\n  let i = 0;\n  for (const e of a) {\n    if (i < from) continue;\n    if (i > to) break;\n    if (e !== 0xff) return false;\n    i++;\n  }\n  return true;\n}\n\nexport function deepEqual(\n  a: Uint8Array | number[],\n  b: Uint8Array,\n  from: number,\n  to: number\n): boolean {\n  let i = 0;\n  for (const e of a) {\n    if (i < from) continue;\n    if (i > to) break;\n    if (e !== b[i]) return false;\n    i++;\n  }\n  return true;\n}\n\n/***\n * Returns long ip format\n */\nexport function ipToString(ip: Uint8Array | number[]): string {\n  switch (ip.length) {\n    case IPv4Len: {\n      return ip.join(\".\");\n    }\n    case IPv6Len: {\n      const result = [] as string[];\n      for (let i = 0; i < ip.length; i++) {\n        if (i % 2 === 0) {\n          result.push(\n            ip[i].toString(16).padStart(2, \"0\") +\n              ip[i + 1].toString(16).padStart(2, \"0\")\n          );\n        }\n      }\n      return result.join(\":\");\n    }\n    default: {\n      throw new Error(\"Invalid ip length\");\n    }\n  }\n}\n\n/**\n * If mask is a sequence of 1 bits followed by 0 bits, return number of 1 bits else -1\n */\nexport function simpleMaskLength(mask: Uint8Array): number {\n  let ones = 0;\n  // eslint-disable-next-line prefer-const\n  for (let [index, byte] of mask.entries()) {\n    if (byte === 0xff) {\n      ones += 8;\n      continue;\n    }\n    while ((byte & 0x80) != 0) {\n      ones++;\n      byte = byte << 1;\n    }\n    if ((byte & 0x80) != 0) {\n      return -1;\n    }\n    for (let i = index + 1; i < mask.length; i++) {\n      if (mask[i] != 0) {\n        return -1;\n      }\n    }\n    break;\n  }\n  return ones;\n}\n\nexport function maskToHex(mask: Uint8Array): string {\n  let hex = \"0x\";\n  for (const byte of mask) {\n    hex += (byte >> 4).toString(16) + (byte & 0x0f).toString(16);\n  }\n  return hex;\n}\n", "import { parseIP } from \"@chainsafe/is-ip/parse\";\nimport { allFF, deepEqual } from \"./util.js\";\n\nexport const IPv4Len = 4;\nexport const IPv6Len = 16;\n\nexport const maxIPv6Octet = parseInt(\"0xFFFF\", 16);\nexport const ipv4Prefix = new Uint8Array([\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255,\n]);\n\nexport interface IpNetRaw {\n  network: Uint8Array;\n  mask: Uint8Array;\n}\n\nexport function maskIp(ip: Uint8Array, mask: Uint8Array): Uint8Array {\n  if (mask.length === IPv6Len && ip.length === IPv4Len && allFF(mask, 0, 11)) {\n    mask = mask.slice(12);\n  }\n  if (\n    mask.length === IPv4Len &&\n    ip.length === IPv6Len &&\n    deepEqual(ip, ipv4Prefix, 0, 11)\n  ) {\n    ip = ip.slice(12);\n  }\n  const n = ip.length;\n  if (n != mask.length) {\n    throw new Error(\"Failed to mask ip\");\n  }\n  const out = new Uint8Array(n);\n  for (let i = 0; i < n; i++) {\n    out[i] = ip[i] & mask[i];\n  }\n  return out;\n}\n\nexport function containsIp(\n  net: IpNetRaw,\n  ip: Uint8Array | number[] | string\n): boolean {\n  if (typeof ip === \"string\") {\n    ip = parseIP(ip)!;\n  }\n  if (ip == null) throw new Error(\"Invalid ip\");\n  if (ip.length !== net.network.length) {\n    return false;\n  }\n  for (let i = 0; i < ip.length; i++) {\n    if ((net.network[i] & net.mask[i]) !== (ip[i] & net.mask[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function iPv4FromIPv6(ip: Uint8Array): Uint8Array {\n  if (!isIPv4mappedIPv6(ip)) {\n    throw new Error(\"Must have 0xffff prefix\");\n  }\n  return ip.slice(12);\n}\n\nexport function isIPv4mappedIPv6(ip: Uint8Array | number[]): boolean {\n  return deepEqual(ip, ipv4Prefix, 0, 11);\n}\n", "import { parseIPv4, parseIPv6 } from \"@chainsafe/is-ip/parse\";\nimport { IPv4Len, IPv6Len, maskIp } from \"./ip.js\";\n\nexport function parseCidr(s: string): {\n  network: Uint8Array;\n  mask: Uint8Array;\n} {\n  const [address, maskString] = s.split(\"/\");\n  if (!address || !maskString)\n    throw new Error(\"Failed to parse given CIDR: \" + s);\n  let ipLength = IPv4Len;\n  let ip = parseIPv4(address);\n  if (ip == null) {\n    ipLength = IPv6Len;\n    ip = parseIPv6(address);\n    if (ip == null) throw new Error(\"Failed to parse given CIDR: \" + s);\n  }\n  const m = parseInt(maskString, 10);\n  if (\n    Number.isNaN(m) ||\n    String(m).length !== maskString.length ||\n    m < 0 ||\n    m > ipLength * 8\n  ) {\n    throw new Error(\"Failed to parse given CIDR: \" + s);\n  }\n  const mask = cidrMask(m, 8 * ipLength);\n  return {\n    network: maskIp(ip, mask),\n    mask,\n  };\n}\n\nexport function cidrMask(ones: number, bits: number): Uint8Array {\n  if (bits !== 8 * IPv4Len && bits !== 8 * IPv6Len)\n    throw new Error(\"Invalid CIDR mask\");\n  if (ones < 0 || ones > bits) throw new Error(\"Invalid CIDR mask\");\n  const l = bits / 8;\n  const m = new Uint8Array(l);\n  for (let i = 0; i < l; i++) {\n    if (ones >= 8) {\n      m[i] = 0xff;\n      ones -= 8;\n      continue;\n    }\n    m[i] = 255 - (0xff >> ones);\n    ones = 0;\n  }\n  return m;\n}\n", "import { parseIP } from \"@chainsafe/is-ip/parse\";\nimport { cidrMask, parseCidr } from \"./cidr.js\";\nimport { containsIp, maskIp } from \"./ip.js\";\nimport { ipToString, maskToHex, simpleMaskLength } from \"./util.js\";\n\nexport class IpNet {\n  public readonly network: Uint8Array;\n  public readonly mask: Uint8Array;\n\n  /**\n   *\n   * @param ipOrCidr either network ip or full cidr address\n   * @param mask in case ipOrCidr is network this can be either mask in decimal format or as ip address\n   */\n  constructor(ipOrCidr: string, mask?: string | number) {\n    if (mask == null) {\n      ({ network: this.network, mask: this.mask } = parseCidr(ipOrCidr));\n    } else {\n      const ipResult = parseIP(ipOrCidr);\n      if (ipResult == null) {\n        throw new Error(\"Failed to parse network\");\n      }\n      mask = String(mask);\n      const m = parseInt(mask, 10);\n      if (\n        Number.isNaN(m) ||\n        String(m).length !== mask.length ||\n        m < 0 ||\n        m > ipResult.length * 8\n      ) {\n        const maskResult = parseIP(mask);\n        if (maskResult == null) {\n          throw new Error(\"Failed to parse mask\");\n        }\n        this.mask = maskResult;\n      } else {\n        this.mask = cidrMask(m, 8 * ipResult.length);\n      }\n      this.network = maskIp(ipResult, this.mask);\n    }\n  }\n\n  /**\n   * Checks if netmask contains ip address\n   * @param ip\n   * @returns\n   */\n  contains(ip: Uint8Array | number[] | string): boolean {\n    return containsIp({ network: this.network, mask: this.mask }, ip);\n  }\n\n  /**Serializes back to string format */\n  toString(): string {\n    const l = simpleMaskLength(this.mask);\n    const mask = l !== -1 ? String(l) : maskToHex(this.mask);\n    return ipToString(this.network) + \"/\" + mask;\n  }\n}\n", "import { isIPv4 } from '@chainsafe/is-ip'\nimport { IpNet } from '@chainsafe/netmask'\nimport { base32 } from 'multiformats/bases/base32'\nimport { bases } from 'multiformats/basics'\nimport { concat as uint8ArrayConcat } from 'uint8arrays/concat'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\nimport { InvalidMultiaddrError } from './errors.ts'\nimport type { Multiaddr } from './index.ts'\nimport type { MultibaseCodec } from 'multiformats'\nimport type { SupportedEncodings } from 'uint8arrays/to-string'\n\nexport function bytesToString (base: SupportedEncodings): (buf: Uint8Array) => string {\n  return (buf) => {\n    return uint8ArrayToString(buf, base)\n  }\n}\n\nexport function stringToBytes (base: SupportedEncodings): (value: string) => Uint8Array {\n  return (buf) => {\n    return uint8ArrayFromString(buf, base)\n  }\n}\n\nexport function bytes2port (buf: Uint8Array): string {\n  const view = new DataView(buf.buffer)\n  return view.getUint16(buf.byteOffset).toString()\n}\n\nexport function port2bytes (port: string | number): Uint8Array {\n  const buf = new ArrayBuffer(2)\n  const view = new DataView(buf)\n  view.setUint16(0, typeof port === 'string' ? parseInt(port) : port)\n\n  return new Uint8Array(buf)\n}\n\nexport function onion2bytes (str: string): Uint8Array {\n  const addr = str.split(':')\n\n  if (addr.length !== 2) {\n    throw new Error(`failed to parse onion addr: [\"'${addr.join('\", \"')}'\"]' does not contain a port number`)\n  }\n\n  if (addr[0].length !== 16) {\n    throw new Error(`failed to parse onion addr: ${addr[0]} not a Tor onion address.`)\n  }\n\n  // onion addresses do not include the multibase prefix, add it before decoding\n  const buf = uint8ArrayFromString(addr[0], 'base32')\n\n  // onion port number\n  const port = parseInt(addr[1], 10)\n\n  if (port < 1 || port > 65536) {\n    throw new Error('Port number is not in range(1, 65536)')\n  }\n\n  const portBuf = port2bytes(port)\n\n  return uint8ArrayConcat([buf, portBuf], buf.length + portBuf.length)\n}\n\nexport function onion32bytes (str: string): Uint8Array {\n  const addr = str.split(':')\n\n  if (addr.length !== 2) {\n    throw new Error(`failed to parse onion addr: [\"'${addr.join('\", \"')}'\"]' does not contain a port number`)\n  }\n\n  if (addr[0].length !== 56) {\n    throw new Error(`failed to parse onion addr: ${addr[0]} not a Tor onion3 address.`)\n  }\n\n  // onion addresses do not include the multibase prefix, add it before decoding\n  const buf = base32.decode(`b${addr[0]}`)\n\n  // onion port number\n  const port = parseInt(addr[1], 10)\n\n  if (port < 1 || port > 65536) {\n    throw new Error('Port number is not in range(1, 65536)')\n  }\n\n  const portBuf = port2bytes(port)\n\n  return uint8ArrayConcat([buf, portBuf], buf.length + portBuf.length)\n}\n\nexport function bytes2onion (buf: Uint8Array): string {\n  const addrBytes = buf.subarray(0, buf.length - 2)\n  const portBytes = buf.subarray(buf.length - 2)\n  const addr = uint8ArrayToString(addrBytes, 'base32')\n  const port = bytes2port(portBytes)\n  return `${addr}:${port}`\n}\n\n// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L7\n// but with buf/offset args removed because we don't use them\nexport const ip4ToBytes = function (ip: string): Uint8Array {\n  ip = ip.toString().trim()\n\n  const bytes = new Uint8Array(4)\n\n  ip.split(/\\./g).forEach((byte, index) => {\n    const value = parseInt(byte, 10)\n\n    if (isNaN(value) || value < 0 || value > 0xff) {\n      throw new InvalidMultiaddrError('Invalid byte value in IP address')\n    }\n\n    bytes[index] = value\n  })\n\n  return bytes\n}\n\n// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L7\n// but with buf/offset args removed because we don't use them\nexport const ip6ToBytes = function (ip: string): Uint8Array {\n  let offset = 0\n  ip = ip.toString().trim()\n\n  const sections = ip.split(':', 8)\n\n  let i\n  for (i = 0; i < sections.length; i++) {\n    const isv4 = isIPv4(sections[i])\n    let v4Buffer: Uint8Array | undefined\n\n    if (isv4) {\n      v4Buffer = ip4ToBytes(sections[i])\n      sections[i] = uint8ArrayToString(v4Buffer.subarray(0, 2), 'base16')\n    }\n\n    if (v4Buffer != null && ++i < 8) {\n      sections.splice(i, 0, uint8ArrayToString(v4Buffer.subarray(2, 4), 'base16'))\n    }\n  }\n\n  if (sections[0] === '') {\n    while (sections.length < 8) { sections.unshift('0') }\n  } else if (sections[sections.length - 1] === '') {\n    while (sections.length < 8) { sections.push('0') }\n  } else if (sections.length < 8) {\n    for (i = 0; i < sections.length && sections[i] !== ''; i++) { }\n    const argv: [number, number, ...string[]] = [i, 1]\n    for (i = 9 - sections.length; i > 0; i--) {\n      argv.push('0')\n    }\n    sections.splice.apply(sections, argv)\n  }\n\n  const bytes = new Uint8Array(offset + 16)\n\n  for (i = 0; i < sections.length; i++) {\n    if (sections[i] === '') {\n      sections[i] = '0'\n    }\n\n    const word = parseInt(sections[i], 16)\n\n    if (isNaN(word) || word < 0 || word > 0xffff) {\n      throw new InvalidMultiaddrError('Invalid byte value in IP address')\n    }\n\n    bytes[offset++] = (word >> 8) & 0xff\n    bytes[offset++] = word & 0xff\n  }\n\n  return bytes\n}\n\n// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L63\nexport const ip4ToString = function (buf: Uint8Array): string {\n  if (buf.byteLength !== 4) {\n    throw new InvalidMultiaddrError('IPv4 address was incorrect length')\n  }\n\n  const result = []\n\n  for (let i = 0; i < buf.byteLength; i++) {\n    result.push(buf[i])\n  }\n\n  return result.join('.')\n}\n\nexport const ip6ToString = function (buf: Uint8Array): string {\n  if (buf.byteLength !== 16) {\n    throw new InvalidMultiaddrError('IPv6 address was incorrect length')\n  }\n\n  const result: string[] = []\n\n  for (let i = 0; i < buf.byteLength; i += 2) {\n    result.push(`${\n      buf[i].toString(16)\n    }${\n      buf[i + 1].toString(16).padStart(2, '0')\n    }`\n      .replace(/^(0+)/, '')\n    )\n  }\n\n  return result.join(':')\n    .replace(/:(:)+/, '::')\n}\n\nexport function ip6StringToValue (str: string): string {\n  let parts = str.split(':')\n\n  parts = parts.map((str, index) => {\n    if (index === parts.length - 1 && isIPv4(str)) {\n      const bytes = str.split('.')\n      return `${\n        parseInt(bytes[0], 10).toString(16)\n      }${\n        parseInt(bytes[1], 10).toString(16).padStart(2, '0')\n      }:${\n        parseInt(bytes[2], 10).toString(16)\n      }${\n        parseInt(bytes[3], 10).toString(16).padStart(2, '0')\n      }`\n    }\n\n    return str.replace(/^(0+)/, '')\n  })\n\n  return `${parts.join(':')}`\n    .replace(/:(:)+/, '::')\n}\n\nconst decoders = Object.values(bases).map((c) => c.decoder)\nconst anybaseDecoder = (function () {\n  let acc = decoders[0].or(decoders[1])\n  decoders.slice(2).forEach((d) => (acc = acc.or(d)))\n  return acc\n})()\n\nexport function mb2bytes (mbstr: string): Uint8Array {\n  return anybaseDecoder.decode(mbstr)\n}\n\nexport function bytes2mb (base: MultibaseCodec<any>): (buf: Uint8Array) => string {\n  return (buf) => {\n    return base.encoder.encode(buf)\n  }\n}\n\nexport function convertToIpNet (multiaddr: Multiaddr): IpNet {\n  let mask: string | undefined\n  let addr: string | undefined\n\n  multiaddr.getComponents().forEach(component => {\n    if (component.name === 'ip4' || component.name === 'ip6') {\n      addr = component.value\n    }\n    if (component.name === 'ipcidr') {\n      mask = component.value\n    }\n  })\n\n  if (mask == null || addr == null) {\n    throw new Error('Invalid multiaddr')\n  }\n\n  return new IpNet(addr, mask)\n}\n", "import { ValidationError } from './errors.ts'\n\nexport function integer (value: string): void {\n  const int = parseInt(value)\n\n  if (int.toString() !== value) {\n    throw new ValidationError('Value must be an integer')\n  }\n}\n\nexport function positive (value: any): void {\n  if (value < 0) {\n    throw new ValidationError('Value must be a positive integer')\n  }\n}\n\nexport function maxValue (max: number): (value: any) => void {\n  return (value) => {\n    if (value > max) {\n      throw new ValidationError(`Value must be smaller than ${max}`)\n    }\n  }\n}\n\nexport function validate (...funcs: Array<(value: string) => void>): (value: string) => void {\n  return (value) => {\n    for (const fn of funcs) {\n      fn(value)\n    }\n  }\n}\n\nexport const validatePort = validate(\n  integer,\n  positive,\n  maxValue(65_535)\n)\n", "import { isIPv4, isIPv6 } from '@chainsafe/is-ip'\nimport { CID } from 'multiformats'\nimport { base64url } from 'multiformats/bases/base64'\nimport { CODE_CERTHASH, CODE_DCCP, CODE_DNS, CODE_DNS4, CODE_DNS6, CODE_DNSADDR, CODE_GARLIC32, CODE_GARLIC64, CODE_HTTP, CODE_HTTP_PATH, CODE_HTTPS, CODE_IP4, CODE_IP6, CODE_IP6ZONE, CODE_IPCIDR, CODE_MEMORY, CODE_NOISE, CODE_ONION, CODE_ONION3, CODE_P2P, CODE_P2P_CIRCUIT, CODE_P2P_STARDUST, CODE_P2P_WEBRTC_DIRECT, CODE_P2P_WEBRTC_STAR, CODE_P2P_WEBSOCKET_STAR, CODE_QUIC, CODE_QUIC_V1, CODE_SCTP, CODE_SNI, CODE_TCP, CODE_TLS, CODE_UDP, CODE_UDT, CODE_UNIX, CODE_UTP, CODE_WEBRTC, CODE_WEBRTC_DIRECT, CODE_WEBTRANSPORT, CODE_WS, CODE_WSS } from './constants.ts'\nimport { bytes2mb, bytes2onion, bytes2port, bytesToString, ip4ToBytes, ip4ToString, ip6StringToValue, ip6ToBytes, ip6ToString, mb2bytes, onion2bytes, onion32bytes, port2bytes, stringToBytes } from './convert.ts'\nimport { InvalidProtocolError, ValidationError } from './errors.ts'\nimport { validatePort } from './validation.ts'\n\nexport const V = -1\n\nexport interface ProtocolCodec {\n  code: number\n  name: string\n  size?: number\n  path?: boolean\n  resolvable?: boolean\n  aliases?: string[]\n\n  /**\n   * Where the multiaddr has been encoded as a string, decode the value if\n   * necessary, unescaping any escaped values\n   */\n  stringToValue?(value: string): string\n\n  /**\n   * To encode the multiaddr as a string, escape any necessary values\n   */\n  valueToString?(value: string): string\n\n  /**\n   * To encode the multiaddr as bytes, convert the value to bytes\n   */\n  valueToBytes?(value: string): Uint8Array\n\n  /**\n   * To decode bytes to a multiaddr, convert the value bytes to a string\n   */\n  bytesToValue?(bytes: Uint8Array): string\n\n  /**\n   * Perform any necessary validation on the string value\n   */\n  validate?(value: string): void\n}\n\nclass Registry {\n  private protocolsByCode = new Map<number, ProtocolCodec>()\n  private protocolsByName = new Map<string, ProtocolCodec>()\n\n  getCodec (key: string | number): ProtocolCodec {\n    let codec: ProtocolCodec | undefined\n\n    if (typeof key === 'string') {\n      codec = this.protocolsByName.get(key)\n    } else {\n      codec = this.protocolsByCode.get(key)\n    }\n\n    if (codec == null) {\n      throw new InvalidProtocolError(`Protocol ${key} was unknown`)\n    }\n\n    return codec\n  }\n\n  addCodec (key: number, codec: ProtocolCodec, aliases?: string[]): void {\n    this.protocolsByCode.set(key, codec)\n    this.protocolsByName.set(codec.name, codec)\n\n    aliases?.forEach(alias => {\n      this.protocolsByName.set(alias, codec)\n    })\n  }\n\n  deleteCodec (key: number): void {\n    const codec = this.getCodec(key)\n\n    if (codec == null) {\n      return\n    }\n\n    this.protocolsByCode.delete(codec.code)\n    this.protocolsByName.delete(codec.name)\n\n    codec.aliases?.forEach(alias => {\n      this.protocolsByName.delete(alias)\n    })\n  }\n}\n\nexport const registry = new Registry()\n\nconst codecs: ProtocolCodec[] = [{\n  code: CODE_IP4,\n  name: 'ip4',\n  size: 32,\n  valueToBytes: ip4ToBytes,\n  bytesToValue: ip4ToString,\n  validate: (value) => {\n    if (!isIPv4(value)) {\n      throw new ValidationError('Invalid ip address')\n    }\n  }\n}, {\n  code: CODE_TCP,\n  name: 'tcp',\n  size: 16,\n  valueToBytes: port2bytes,\n  bytesToValue: bytes2port,\n  validate: validatePort\n}, {\n  code: CODE_UDP,\n  name: 'udp',\n  size: 16,\n  valueToBytes: port2bytes,\n  bytesToValue: bytes2port,\n  validate: validatePort\n}, {\n  code: CODE_DCCP,\n  name: 'dccp',\n  size: 16,\n  valueToBytes: port2bytes,\n  bytesToValue: bytes2port,\n  validate: validatePort\n}, {\n  code: CODE_IP6,\n  name: 'ip6',\n  size: 128,\n  valueToBytes: ip6ToBytes,\n  bytesToValue: ip6ToString,\n  stringToValue: ip6StringToValue,\n  validate: (value) => {\n    if (!isIPv6(value)) {\n      throw new ValidationError('Invalid ip address')\n    }\n  }\n}, {\n  code: CODE_IP6ZONE,\n  name: 'ip6zone',\n  size: V\n}, {\n  code: CODE_IPCIDR,\n  name: 'ipcidr',\n  size: 8,\n  bytesToValue: bytesToString('base10'),\n  valueToBytes: stringToBytes('base10')\n}, {\n  code: CODE_DNS,\n  name: 'dns',\n  size: V,\n  resolvable: true\n}, {\n  code: CODE_DNS4,\n  name: 'dns4',\n  size: V,\n  resolvable: true\n}, {\n  code: CODE_DNS6,\n  name: 'dns6',\n  size: V,\n  resolvable: true\n}, {\n  code: CODE_DNSADDR,\n  name: 'dnsaddr',\n  size: V,\n  resolvable: true\n}, {\n  code: CODE_SCTP,\n  name: 'sctp',\n  size: 16,\n  valueToBytes: port2bytes,\n  bytesToValue: bytes2port,\n  validate: validatePort\n}, {\n  code: CODE_UDT,\n  name: 'udt'\n}, {\n  code: CODE_UTP,\n  name: 'utp'\n}, {\n  code: CODE_UNIX,\n  name: 'unix',\n  size: V,\n  path: true,\n  stringToValue: (str) => `/${decodeURIComponent(str)}`,\n  valueToString: (val) => encodeURIComponent(val.substring(1))\n}, {\n  code: CODE_P2P,\n  name: 'p2p',\n  aliases: ['ipfs'],\n  size: V,\n  bytesToValue: bytesToString('base58btc'),\n  valueToBytes: (val) => {\n    if (val.startsWith('Q') || val.startsWith('1')) {\n      return stringToBytes('base58btc')(val)\n    }\n\n    return CID.parse(val).multihash.bytes\n  }\n}, {\n  code: CODE_ONION,\n  name: 'onion',\n  size: 96,\n  bytesToValue: bytes2onion,\n  valueToBytes: onion2bytes\n}, {\n  code: CODE_ONION3,\n  name: 'onion3',\n  size: 296,\n  bytesToValue: bytes2onion,\n  valueToBytes: onion32bytes\n}, {\n  code: CODE_GARLIC64,\n  name: 'garlic64',\n  size: V\n}, {\n  code: CODE_GARLIC32,\n  name: 'garlic32',\n  size: V\n}, {\n  code: CODE_TLS,\n  name: 'tls'\n}, {\n  code: CODE_SNI,\n  name: 'sni',\n  size: V\n}, {\n  code: CODE_NOISE,\n  name: 'noise'\n}, {\n  code: CODE_QUIC,\n  name: 'quic'\n}, {\n  code: CODE_QUIC_V1,\n  name: 'quic-v1'\n}, {\n  code: CODE_WEBTRANSPORT,\n  name: 'webtransport'\n}, {\n  code: CODE_CERTHASH,\n  name: 'certhash',\n  size: V,\n  bytesToValue: bytes2mb(base64url),\n  valueToBytes: mb2bytes\n}, {\n  code: CODE_HTTP,\n  name: 'http'\n}, {\n  code: CODE_HTTP_PATH,\n  name: 'http-path',\n  size: V,\n  stringToValue: (str) => `/${decodeURIComponent(str)}`,\n  valueToString: (val) => encodeURIComponent(val.substring(1))\n}, {\n  code: CODE_HTTPS,\n  name: 'https'\n}, {\n  code: CODE_WS,\n  name: 'ws'\n}, {\n  code: CODE_WSS,\n  name: 'wss'\n}, {\n  code: CODE_P2P_WEBSOCKET_STAR,\n  name: 'p2p-websocket-star'\n}, {\n  code: CODE_P2P_STARDUST,\n  name: 'p2p-stardust'\n}, {\n  code: CODE_P2P_WEBRTC_STAR,\n  name: 'p2p-webrtc-star'\n}, {\n  code: CODE_P2P_WEBRTC_DIRECT,\n  name: 'p2p-webrtc-direct'\n}, {\n  code: CODE_WEBRTC_DIRECT,\n  name: 'webrtc-direct'\n}, {\n  code: CODE_WEBRTC,\n  name: 'webrtc'\n}, {\n  code: CODE_P2P_CIRCUIT,\n  name: 'p2p-circuit'\n}, {\n  code: CODE_MEMORY,\n  name: 'memory',\n  size: V\n}]\n\ncodecs.forEach(codec => {\n  registry.addCodec(codec.code, codec, codec.aliases)\n})\n", "import * as varint from 'uint8-varint'\nimport { concat as uint8ArrayConcat } from 'uint8arrays/concat'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\nimport { InvalidMultiaddrError } from './errors.ts'\nimport { registry, V } from './registry.ts'\nimport type { Component } from './index.js'\nimport type { ProtocolCodec } from './registry.ts'\n\nexport function bytesToComponents (bytes: Uint8Array): Component[] {\n  const components: Component[] = []\n\n  let i = 0\n  while (i < bytes.length) {\n    const code = varint.decode(bytes, i)\n    const codec = registry.getCodec(code)\n    const codeLength = varint.encodingLength(code)\n    const size = sizeForAddr(codec, bytes, i + codeLength)\n    let sizeLength = 0\n\n    if (size > 0 && codec.size === V) {\n      sizeLength = varint.encodingLength(size)\n    }\n\n    const componentLength = codeLength + sizeLength + size\n\n    const component: Component = {\n      code,\n      name: codec.name,\n      bytes: bytes.subarray(i, i + componentLength)\n    }\n\n    if (size > 0) {\n      const valueOffset = i + codeLength + sizeLength\n      const valueBytes = bytes.subarray(valueOffset, valueOffset + size)\n\n      component.value = codec.bytesToValue?.(valueBytes) ?? uint8ArrayToString(valueBytes)\n    }\n\n    components.push(component)\n\n    i += componentLength\n  }\n\n  return components\n}\n\nexport function componentsToBytes (components: Component[]): Uint8Array {\n  let length = 0\n  const bytes: Uint8Array[] = []\n\n  for (const component of components) {\n    if (component.bytes == null) {\n      const codec = registry.getCodec(component.code)\n      const codecLength = varint.encodingLength(component.code)\n      let valueBytes: Uint8Array | undefined\n      let valueLength = 0\n      let valueLengthLength = 0\n\n      if (component.value != null) {\n        valueBytes = codec.valueToBytes?.(component.value) ?? uint8ArrayFromString(component.value)\n        valueLength = valueBytes.byteLength\n\n        if (codec.size === V) {\n          valueLengthLength = varint.encodingLength(valueLength)\n        }\n      }\n\n      const bytes = new Uint8Array(codecLength + valueLengthLength + valueLength)\n\n      // encode the protocol code\n      let offset = 0\n      varint.encodeUint8Array(component.code, bytes, offset)\n      offset += codecLength\n\n      // if there is a value\n      if (valueBytes != null) {\n        // if the value has variable length, encode the length\n        if (codec.size === V) {\n          varint.encodeUint8Array(valueLength, bytes, offset)\n          offset += valueLengthLength\n        }\n\n        // finally encode the value\n        bytes.set(valueBytes, offset)\n      }\n\n      component.bytes = bytes\n    }\n\n    bytes.push(component.bytes)\n    length += component.bytes.byteLength\n  }\n\n  return uint8ArrayConcat(bytes, length)\n}\n\nexport function stringToComponents (string: string): Component[] {\n  if (string.charAt(0) !== '/') {\n    throw new InvalidMultiaddrError('String multiaddr must start with \"/\"')\n  }\n\n  const components: Component[] = []\n  let collecting: 'protocol' | 'value' = 'protocol'\n  let value = ''\n  let protocol = ''\n\n  for (let i = 1; i < string.length; i++) {\n    const char = string.charAt(i)\n\n    if (char !== '/') {\n      if (collecting === 'protocol') {\n        protocol += string.charAt(i)\n      } else {\n        value += string.charAt(i)\n      }\n    }\n\n    const ended = i === string.length - 1\n\n    if (char === '/' || ended) {\n      const codec = registry.getCodec(protocol)\n\n      if (collecting === 'protocol') {\n        if (codec.size == null || codec.size === 0) {\n          // a protocol without an address, eg. `/tls`\n          components.push({\n            code: codec.code,\n            name: codec.name\n          })\n\n          value = ''\n          protocol = ''\n          collecting = 'protocol'\n\n          continue\n        } else if (ended) {\n          throw new InvalidMultiaddrError(`Component ${protocol} was missing value`)\n        }\n\n        // continue collecting value\n        collecting = 'value'\n      } else if (collecting === 'value') {\n        const component: Component = {\n          code: codec.code,\n          name: codec.name\n        }\n\n        if (codec.size != null && codec.size !== 0) {\n          if (value === '') {\n            throw new InvalidMultiaddrError(`Component ${protocol} was missing value`)\n          }\n\n          component.value = codec.stringToValue?.(value) ?? value\n        }\n\n        components.push(component)\n\n        value = ''\n        protocol = ''\n        collecting = 'protocol'\n      }\n    }\n  }\n\n  if (protocol !== '' && value !== '') {\n    throw new InvalidMultiaddrError('Incomplete multiaddr')\n  }\n\n  return components\n}\n\nexport function componentsToString (components: Component[]): string {\n  return `/${components.flatMap(component => {\n      if (component.value == null) {\n        return component.name\n      }\n\n      const codec = registry.getCodec(component.code)\n\n      if (codec == null) {\n        throw new InvalidMultiaddrError(`Unknown protocol code ${component.code}`)\n      }\n\n      return [\n        component.name,\n        codec.valueToString?.(component.value) ?? component.value\n      ]\n    }).join('/')}`\n}\n\n/**\n * For the passed address, return the serialized size\n */\nfunction sizeForAddr (codec: ProtocolCodec, bytes: Uint8Array, offset: number): number {\n  if (codec.size == null || codec.size === 0) {\n    return 0\n  }\n\n  if (codec.size > 0) {\n    return codec.size / 8\n  }\n\n  return varint.decode(bytes, offset)\n}\n", "import { base58btc } from 'multiformats/bases/base58'\nimport { CID } from 'multiformats/cid'\nimport { equals as uint8ArrayEquals } from 'uint8arrays/equals'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\nimport { bytesToComponents, componentsToBytes, componentsToString, stringToComponents } from './components.js'\nimport { CODE_DNS, CODE_DNS4, CODE_DNS6, CODE_DNSADDR, CODE_IP4, CODE_IP6, CODE_IP6ZONE, CODE_P2P, CODE_P2P_CIRCUIT, CODE_TCP, CODE_UDP } from './constants.ts'\nimport { InvalidMultiaddrError, InvalidParametersError } from './errors.ts'\nimport { registry } from './registry.ts'\nimport { isMultiaddr, multiaddr, resolvers } from './index.js'\nimport type { MultiaddrInput, Multiaddr as MultiaddrInterface, MultiaddrObject, Protocol, Tuple, NodeAddress, ResolveOptions, Component } from './index.js'\n\nconst inspect = Symbol.for('nodejs.util.inspect.custom')\nexport const symbol = Symbol.for('@multiformats/multiaddr')\n\nconst DNS_CODES = [\n  CODE_DNS,\n  CODE_DNS4,\n  CODE_DNS6,\n  CODE_DNSADDR\n]\n\nclass NoAvailableResolverError extends Error {\n  constructor (message = 'No available resolver') {\n    super(message)\n    this.name = 'NoAvailableResolverError'\n  }\n}\n\nfunction toComponents (addr: MultiaddrInput): Component[] {\n  if (addr == null) {\n    addr = '/'\n  }\n\n  if (isMultiaddr(addr)) {\n    return addr.getComponents()\n  }\n\n  if (addr instanceof Uint8Array) {\n    return bytesToComponents(addr)\n  }\n\n  if (typeof addr === 'string') {\n    addr = addr\n      .replace(/\\/(\\/)+/, '/')\n      .replace(/(\\/)+$/, '')\n\n    if (addr === '') {\n      addr = '/'\n    }\n\n    return stringToComponents(addr)\n  }\n\n  if (Array.isArray(addr)) {\n    return addr\n  }\n\n  throw new InvalidMultiaddrError('Must be a string, Uint8Array, Component[], or another Multiaddr')\n}\n\n/**\n * Creates a {@link Multiaddr} from a {@link MultiaddrInput}\n */\nexport class Multiaddr implements MultiaddrInterface {\n  [symbol]: boolean = true\n  readonly #components: Component[]\n\n  #string: string | undefined\n  #bytes: Uint8Array | undefined\n\n  constructor (addr: MultiaddrInput | Component[] = '/') {\n    this.#components = toComponents(addr)\n  }\n\n  get bytes (): Uint8Array {\n    if (this.#bytes == null) {\n      this.#bytes = componentsToBytes(this.#components)\n    }\n\n    return this.#bytes\n  }\n\n  toString (): string {\n    if (this.#string == null) {\n      this.#string = componentsToString(this.#components)\n    }\n\n    return this.#string\n  }\n\n  toJSON (): string {\n    return this.toString()\n  }\n\n  toOptions (): MultiaddrObject {\n    let family: 4 | 6 | undefined\n    let transport: 'tcp' | 'udp' | undefined\n    let host: string | undefined\n    let port: number | undefined\n    let zone = ''\n\n    for (const { code, name, value } of this.#components) {\n      if (code === CODE_IP6ZONE) {\n        zone = `%${value ?? ''}`\n      }\n\n      // default to https when protocol & port are omitted from DNS addrs\n      if (DNS_CODES.includes(code)) {\n        transport = 'tcp'\n        port = 443\n        host = `${value ?? ''}${zone}`\n        family = code === CODE_DNS6 ? 6 : 4\n      }\n\n      if (code === CODE_TCP || code === CODE_UDP) {\n        transport = name === 'tcp' ? 'tcp' : 'udp'\n        port = parseInt(value ?? '')\n      }\n\n      if (code === CODE_IP4 || code === CODE_IP6) {\n        transport = 'tcp'\n        host = `${value ?? ''}${zone}`\n        family = code === CODE_IP6 ? 6 : 4\n      }\n    }\n\n    if (family == null || transport == null || host == null || port == null) {\n      throw new Error('multiaddr must have a valid format: \"/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}\".')\n    }\n\n    const opts: MultiaddrObject = {\n      family,\n      host,\n      transport,\n      port\n    }\n\n    return opts\n  }\n\n  getComponents (): Component[] {\n    return [\n      ...this.#components\n    ]\n  }\n\n  protos (): Protocol[] {\n    return this.#components.map(({ code, value }) => {\n      const codec = registry.getCodec(code)\n\n      return {\n        code,\n        size: codec.size ?? 0,\n        name: codec.name,\n        resolvable: Boolean(codec.resolvable),\n        path: Boolean(codec.path)\n      }\n    })\n  }\n\n  protoCodes (): number[] {\n    return this.#components.map(({ code }) => code)\n  }\n\n  protoNames (): string[] {\n    return this.#components.map(({ name }) => name)\n  }\n\n  tuples (): Tuple[] {\n    return this.#components.map(({ code, value }) => {\n      if (value == null) {\n        return [code]\n      }\n\n      const codec = registry.getCodec(code)\n      const output: Tuple = [code]\n\n      if (value != null) {\n        output.push(codec.valueToBytes?.(value) ?? uint8ArrayFromString(value))\n      }\n\n      return output\n    })\n  }\n\n  stringTuples (): Array<[number, string?]> {\n    return this.#components.map(({ code, value }) => {\n      if (value == null) {\n        return [code]\n      }\n\n      return [code, value]\n    })\n  }\n\n  encapsulate (addr: MultiaddrInput): MultiaddrInterface {\n    const ma = new Multiaddr(addr)\n\n    return new Multiaddr([\n      ...this.#components,\n      ...ma.getComponents()\n    ])\n  }\n\n  decapsulate (addr: Multiaddr | string): MultiaddrInterface {\n    const addrString = addr.toString()\n    const s = this.toString()\n    const i = s.lastIndexOf(addrString)\n\n    if (i < 0) {\n      throw new InvalidParametersError(`Address ${this.toString()} does not contain subaddress: ${addr.toString()}`)\n    }\n\n    return new Multiaddr(s.slice(0, i))\n  }\n\n  decapsulateCode (code: number): Multiaddr {\n    let index\n\n    for (let i = this.#components.length - 1; i > -1; i--) {\n      if (this.#components[i].code === code) {\n        index = i\n        break\n      }\n    }\n\n    return new Multiaddr(this.#components.slice(0, index))\n  }\n\n  getPeerId (): string | null {\n    try {\n      let tuples: Array<[number, string | undefined]> = []\n\n      this.#components.forEach(({ code, value }) => {\n        if (code === CODE_P2P) {\n          tuples.push([code, value])\n        }\n\n        // if this is a p2p-circuit address, return the target peer id if present\n        // not the peer id of the relay\n        if (code === CODE_P2P_CIRCUIT) {\n          tuples = []\n        }\n      })\n\n      // Get the last ipfs tuple ['p2p', 'peerid string']\n      const tuple = tuples.pop()\n      if (tuple?.[1] != null) {\n        const peerIdStr = tuple[1]\n\n        // peer id is base58btc encoded string but not multibase encoded so add the `z`\n        // prefix so we can validate that it is correctly encoded\n        if (peerIdStr[0] === 'Q' || peerIdStr[0] === '1') {\n          return uint8ArrayToString(base58btc.decode(`z${peerIdStr}`), 'base58btc')\n        }\n\n        // try to parse peer id as CID\n        return uint8ArrayToString(CID.parse(peerIdStr).multihash.bytes, 'base58btc')\n      }\n\n      return null\n    } catch (e) {\n      return null\n    }\n  }\n\n  getPath (): string | null {\n    for (const component of this.#components) {\n      const codec = registry.getCodec(component.code)\n\n      if (!codec.path) {\n        continue\n      }\n\n      return component.value ?? null\n    }\n\n    return null\n  }\n\n  equals (addr: { bytes: Uint8Array }): boolean {\n    return uint8ArrayEquals(this.bytes, addr.bytes)\n  }\n\n  async resolve (options?: ResolveOptions): Promise<MultiaddrInterface[]> {\n    const resolvableProto = this.protos().find((p) => p.resolvable)\n\n    // Multiaddr is not resolvable?\n    if (resolvableProto == null) {\n      return [this]\n    }\n\n    const resolver = resolvers.get(resolvableProto.name)\n    if (resolver == null) {\n      throw new NoAvailableResolverError(`no available resolver for ${resolvableProto.name}`)\n    }\n\n    const result = await resolver(this, options)\n\n    return result.map(str => multiaddr(str))\n  }\n\n  nodeAddress (): NodeAddress {\n    const options = this.toOptions()\n\n    if (options.transport !== 'tcp' && options.transport !== 'udp') {\n      throw new Error(`multiaddr must have a valid format - no protocol with name: \"${options.transport}\". Must have a valid transport protocol: \"{tcp, udp}\"`)\n    }\n\n    return {\n      family: options.family,\n      address: options.host,\n      port: options.port\n    }\n  }\n\n  isThinWaistAddress (): boolean {\n    if (this.#components.length !== 2) {\n      return false\n    }\n\n    if (this.#components[0].code !== CODE_IP4 && this.#components[0].code !== CODE_IP6) {\n      return false\n    }\n\n    if (this.#components[1].code !== CODE_TCP && this.#components[1].code !== CODE_UDP) {\n      return false\n    }\n\n    return true\n  }\n\n  /**\n   * Returns Multiaddr as a human-readable string\n   * https://nodejs.org/api/util.html#utilinspectcustom\n   *\n   * @example\n   * ```js\n   * import { multiaddr } from '@multiformats/multiaddr'\n   *\n   * console.info(multiaddr('/ip4/127.0.0.1/tcp/4001'))\n   * // 'Multiaddr(/ip4/127.0.0.1/tcp/4001)'\n   * ```\n   */\n  [inspect] (): string {\n    return `Multiaddr(${this.toString()})`\n  }\n}\n\n/**\n * Ensures all multiaddr tuples are correct. Throws if any invalid protocols or\n * values are encountered.\n */\nexport function validate (addr: Multiaddr): void {\n  addr.getComponents()\n    .forEach(component => {\n      const codec = registry.getCodec(component.code)\n\n      if (component.value == null) {\n        return\n      }\n\n      codec.validate?.(component.value)\n    })\n}\n", "import { convertToIpNet } from '../convert.js'\nimport { multiaddr } from '../index.js'\nimport type { Multiaddr, MultiaddrInput } from '../index.js'\nimport type { IpNet } from '@chainsafe/netmask'\n\n/**\n * A utility class to determine if a Multiaddr contains another\n * multiaddr.\n *\n * This can be used with ipcidr ranges to determine if a given\n * multiaddr is in a ipcidr range.\n *\n * @example\n *\n * ```js\n * import { multiaddr, MultiaddrFilter } from '@multiformats/multiaddr'\n *\n * const range = multiaddr('/ip4/192.168.10.10/ipcidr/24')\n * const filter = new MultiaddrFilter(range)\n *\n * const input = multiaddr('/ip4/192.168.10.2/udp/60')\n * console.info(filter.contains(input)) // true\n * ```\n */\nexport class MultiaddrFilter {\n  private readonly multiaddr: Multiaddr\n  private readonly netmask: IpNet\n\n  public constructor (input: MultiaddrInput) {\n    this.multiaddr = multiaddr(input)\n    this.netmask = convertToIpNet(this.multiaddr)\n  }\n\n  public contains (input: MultiaddrInput): boolean {\n    if (input == null) { return false }\n    const m = multiaddr(input)\n    let ip\n    for (const [code, value] of m.stringTuples()) {\n      if (code === 4 || code === 41) {\n        ip = value\n        break\n      }\n    }\n    if (ip === undefined) { return false }\n    return this.netmask.contains(ip)\n  }\n}\n"],
+  "mappings": "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",
+  "names": ["index_exports", "__export", "MultiaddrFilter", "fromNodeAddress", "fromStringTuples", "fromTuples", "isMultiaddr", "isName", "multiaddr", "protocols", "resolvers", "validate", "base10_exports", "__export", "base10", "empty", "equals", "aa", "bb", "ii", "coerce", "o", "fromString", "str", "toString", "b", "base", "ALPHABET", "name", "BASE_MAP", "j", "i", "x", "xc", "BASE", "LEADER", "FACTOR", "iFACTOR", "encode", "source", "zeroes", "length", "pbegin", "pend", "size", "b58", "carry", "it1", "it2", "str", "decodeUnsafe", "psz", "b256", "it3", "it4", "vch", "decode", "string", "buffer", "src", "_brrp__multiformats_scope_baseX", "base_x_default", "Encoder", "name", "prefix", "baseEncode", "bytes", "Decoder", "baseDecode", "prefixCodePoint", "text", "decoder", "or", "ComposedDecoder", "decoders", "input", "left", "right", "Codec", "from", "encode", "decode", "baseX", "alphabet", "base_x_default", "coerce", "string", "alphabetIdx", "bitsPerChar", "end", "out", "bits", "buffer", "written", "i", "value", "data", "pad", "mask", "createAlphabetIdx", "rfc4648", "base10", "baseX", "base16_exports", "__export", "base16", "base16upper", "base16", "rfc4648", "base16upper", "base2_exports", "__export", "base2", "base2", "rfc4648", "base256emoji_exports", "__export", "base256emoji", "alphabet", "alphabetBytesToChars", "p", "c", "i", "alphabetCharsToBytes", "codePoint", "encode", "data", "decode", "str", "byts", "char", "byt", "base256emoji", "from", "base32_exports", "__export", "base32", "base32hex", "base32hexpad", "base32hexpadupper", "base32hexupper", "base32pad", "base32padupper", "base32upper", "base32z", "base32", "rfc4648", "base32upper", "base32pad", "base32padupper", "base32hex", "base32hexupper", "base32hexpad", "base32hexpadupper", "base32z", "base36_exports", "__export", "base36", "base36upper", "base36", "baseX", "base36upper", "base58_exports", "__export", "base58btc", "base58flickr", "base58btc", "baseX", "base58flickr", "base64_exports", "__export", "base64", "base64pad", "base64url", "base64urlpad", "base64", "rfc4648", "base64pad", "base64url", "base64urlpad", "base8_exports", "__export", "base8", "base8", "rfc4648", "identity_exports", "__export", "identity", "identity", "from", "buf", "toString", "str", "fromString", "textEncoder", "textDecoder", "identity_exports", "__export", "identity", "encode_1", "encode", "MSB", "REST", "MSBALL", "INT", "num", "out", "offset", "oldOffset", "decode", "read", "MSB$1", "REST$1", "buf", "res", "shift", "counter", "b", "l", "N1", "N2", "N3", "N4", "N5", "N6", "N7", "N8", "N9", "length", "value", "varint", "_brrp_varint", "varint_default", "decode", "data", "offset", "varint_default", "encodeTo", "int", "target", "encodingLength", "create", "code", "digest", "size", "sizeOffset", "encodingLength", "digestOffset", "bytes", "encodeTo", "Digest", "decode", "multihash", "coerce", "equals", "a", "b", "data", "code", "name", "encode", "coerce", "digest", "input", "create", "identity", "sha2_browser_exports", "__export", "sha256", "sha512", "from", "name", "code", "encode", "Hasher", "input", "result", "create", "digest", "sha", "name", "data", "sha256", "from", "sha512", "format", "link", "base", "bytes", "version", "toStringV0", "baseCache", "base58btc", "toStringV1", "base32", "cache", "baseCache", "cid", "CID", "_CID", "version", "code", "multihash", "bytes", "DAG_PB_CODE", "SHA_256_CODE", "digest", "create", "other", "self", "unknown", "equals", "base", "format", "input", "value", "encodeCID", "cidSymbol", "decode", "remainder", "specs", "prefixSize", "multihashBytes", "coerce", "digestBytes", "Digest", "initialBytes", "offset", "next", "i", "length", "codec", "multihashCode", "digestSize", "size", "multihashSize", "source", "prefix", "parseCIDtoBytes", "decoder", "base58btc", "base32", "base36", "toStringV0", "toStringV1", "codeOffset", "encodingLength", "hashOffset", "encodeTo", "bases", "identity_exports", "base2_exports", "base8_exports", "base10_exports", "base16_exports", "base32_exports", "base36_exports", "base58_exports", "base64_exports", "base256emoji_exports", "hashes", "sha2_browser_exports", "allocUnsafe", "size", "createCodec", "name", "prefix", "encode", "decode", "string", "buf", "str", "ascii", "i", "allocUnsafe", "BASES", "bases", "bases_default", "toString", "array", "encoding", "base", "bases_default", "InvalidMultiaddrError", "ValidationError", "InvalidParametersError", "InvalidProtocolError", "equals", "a", "b", "i", "fromString", "string", "encoding", "base", "bases_default", "N1", "N2", "N3", "N4", "N5", "N6", "N7", "MSB", "REST", "encodingLength", "value", "encodeUint8Array", "buf", "offset", "decodeUint8Array", "buf", "offset", "b", "res", "REST", "MSB", "N4", "N5", "N6", "N7", "decodeUint8ArrayList", "decode", "buf", "offset", "decodeUint8Array", "decodeUint8ArrayList", "concat", "arrays", "length", "acc", "curr", "output", "allocUnsafe", "offset", "arr", "Parser", "input", "fn", "index", "result", "target", "char", "sep", "inner", "radix", "maxDigits", "allowZeroPrefix", "maxBytes", "digitCount", "leadingChar", "hasLeadingZero", "maxValue", "digit", "num", "out", "i", "ix", "readGroups", "groups", "ipv4", "group", "head", "headSize", "headIp4", "tail", "limit", "tailSize", "MAX_IPV6_LENGTH", "MAX_IPV4_LENGTH", "parser", "Parser", "parseIPv4", "input", "parseIPv6", "input", "MAX_IPV6_LENGTH", "parser", "parseIP", "mapIPv4ToIPv6", "addr", "isIPv4", "input", "parseIPv4", "isIPv6", "parseIPv6", "allFF", "a", "from", "to", "i", "e", "deepEqual", "b", "ipToString", "ip", "IPv4Len", "IPv6Len", "result", "simpleMaskLength", "mask", "ones", "index", "byte", "maskToHex", "hex", "IPv4Len", "IPv6Len", "maxIPv6Octet", "ipv4Prefix", "maskIp", "ip", "mask", "allFF", "deepEqual", "n", "out", "i", "containsIp", "net", "parseIP", "parseCidr", "s", "address", "maskString", "ipLength", "IPv4Len", "ip", "parseIPv4", "IPv6Len", "parseIPv6", "m", "mask", "cidrMask", "maskIp", "ones", "bits", "l", "i", "IpNet", "ipOrCidr", "mask", "parseCidr", "ipResult", "parseIP", "m", "maskResult", "cidrMask", "maskIp", "ip", "containsIp", "l", "simpleMaskLength", "maskToHex", "ipToString", "bytesToString", "base", "buf", "toString", "stringToBytes", "fromString", "bytes2port", "port2bytes", "port", "onion2bytes", "str", "addr", "portBuf", "concat", "onion32bytes", "base32", "bytes2onion", "addrBytes", "portBytes", "ip4ToBytes", "ip", "bytes", "byte", "index", "value", "InvalidMultiaddrError", "ip6ToBytes", "offset", "sections", "i", "isv4", "isIPv4", "v4Buffer", "argv", "word", "ip4ToString", "result", "ip6ToString", "ip6StringToValue", "parts", "decoders", "bases", "c", "anybaseDecoder", "acc", "d", "mb2bytes", "mbstr", "bytes2mb", "convertToIpNet", "multiaddr", "mask", "component", "IpNet", "integer", "value", "ValidationError", "positive", "maxValue", "max", "validate", "funcs", "fn", "validatePort", "V", "Registry", "key", "codec", "InvalidProtocolError", "aliases", "alias", "registry", "codecs", "ip4ToBytes", "ip4ToString", "value", "isIPv4", "ValidationError", "port2bytes", "bytes2port", "validatePort", "ip6ToBytes", "ip6ToString", "ip6StringToValue", "isIPv6", "bytesToString", "stringToBytes", "str", "val", "CID", "bytes2onion", "onion2bytes", "onion32bytes", "bytes2mb", "base64url", "mb2bytes", "bytesToComponents", "bytes", "components", "i", "code", "decode", "codec", "registry", "codeLength", "encodingLength", "size", "sizeForAddr", "sizeLength", "V", "componentLength", "component", "valueOffset", "valueBytes", "toString", "componentsToBytes", "length", "codecLength", "valueLength", "valueLengthLength", "fromString", "offset", "encodeUint8Array", "concat", "stringToComponents", "string", "InvalidMultiaddrError", "collecting", "value", "protocol", "char", "ended", "componentsToString", "inspect", "symbol", "DNS_CODES", "NoAvailableResolverError", "message", "toComponents", "addr", "isMultiaddr", "bytesToComponents", "stringToComponents", "InvalidMultiaddrError", "Multiaddr", "_Multiaddr", "#components", "#string", "#bytes", "componentsToBytes", "componentsToString", "family", "transport", "host", "port", "zone", "code", "name", "value", "codec", "registry", "output", "fromString", "ma", "addrString", "s", "i", "InvalidParametersError", "index", "tuples", "tuple", "peerIdStr", "toString", "base58btc", "CID", "component", "equals", "options", "resolvableProto", "p", "resolver", "resolvers", "str", "multiaddr", "validate", "MultiaddrFilter", "input", "multiaddr", "convertToIpNet", "m", "ip", "code", "value", "resolvers", "fromNodeAddress", "addr", "transport", "InvalidParametersError", "ip", "host", "parts", "Multiaddr", "fromTuples", "tuples", "multiaddr", "code", "value", "codec", "registry", "component", "toString", "fromStringTuples", "isName", "isMultiaddr", "proto", "symbol", "protocols"]
 }
diff --git a/node_modules/@multiformats/multiaddr/dist/src/codec.d.ts b/node_modules/@multiformats/multiaddr/dist/src/codec.d.ts
index c0a8f75..69c1819 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/codec.d.ts
+++ b/node_modules/@multiformats/multiaddr/dist/src/codec.d.ts
@@ -6,6 +6,8 @@ export interface MultiaddrParts {
     stringTuples: StringTuple[];
     path: string | null;
 }
+export declare function stringToTuples(str: string): Tuple[];
+export declare function stringToStringTuples(str: string): StringTuple[];
 export declare function stringToMultiaddrParts(str: string): MultiaddrParts;
 export declare function bytesToMultiaddrParts(bytes: Uint8Array): MultiaddrParts;
 /**
@@ -17,6 +19,7 @@ export declare function stringTuplesToTuples(stringTuples: StringTuple[]): Tuple
  */
 export declare function tuplesToBytes(tuples: Tuple[]): Uint8Array;
 export declare function bytesToTuples(buf: Uint8Array): Tuple[];
+export declare function bytesToStringTuples(buf: Uint8Array): StringTuple[];
 export declare function cleanPath(str: string): string;
 export declare class ParseError extends Error {
     static name: string;
diff --git a/node_modules/@multiformats/multiaddr/dist/src/codec.d.ts.map b/node_modules/@multiformats/multiaddr/dist/src/codec.d.ts.map
index 2c44b7f..8ca3f89 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/codec.d.ts.map
+++ b/node_modules/@multiformats/multiaddr/dist/src/codec.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"codec.d.ts","sourceRoot":"","sources":["../../src/codec.ts"],"names":[],"mappings":"AAKA,OAAO,KAAK,EAAE,WAAW,EAAE,KAAK,EAAY,MAAM,YAAY,CAAA;AAE9D,MAAM,WAAW,cAAc;IAC7B,KAAK,EAAE,UAAU,CAAA;IACjB,MAAM,EAAE,MAAM,CAAA;IACd,MAAM,EAAE,KAAK,EAAE,CAAA;IACf,YAAY,EAAE,WAAW,EAAE,CAAA;IAC3B,IAAI,EAAE,MAAM,GAAG,IAAI,CAAA;CACpB;AAED,wBAAgB,sBAAsB,CAAE,GAAG,EAAE,MAAM,GAAG,cAAc,CAwDnE;AAED,wBAAgB,qBAAqB,CAAE,KAAK,EAAE,UAAU,GAAG,cAAc,CAkDxE;AAED;;GAEG;AACH,wBAAgB,oBAAoB,CAAE,YAAY,EAAE,WAAW,EAAE,GAAG,KAAK,EAAE,CAc1E;AAmBD;;GAEG;AACH,wBAAgB,aAAa,CAAE,MAAM,EAAE,KAAK,EAAE,GAAG,UAAU,CAW1D;AAgBD,wBAAgB,aAAa,CAAE,GAAG,EAAE,UAAU,GAAG,KAAK,EAAE,CA+BvD;AAED,wBAAgB,SAAS,CAAE,GAAG,EAAE,MAAM,GAAG,MAAM,CAE9C;AAED,qBAAa,UAAW,SAAQ,KAAK;IACnC,MAAM,CAAC,IAAI,SAAe;IAC1B,IAAI,SAAe;gBAEN,GAAG,EAAE,MAAM;CAGzB"}
\ No newline at end of file
+{"version":3,"file":"codec.d.ts","sourceRoot":"","sources":["../../src/codec.ts"],"names":[],"mappings":"AAKA,OAAO,KAAK,EAAE,WAAW,EAAE,KAAK,EAAY,MAAM,YAAY,CAAA;AAE9D,MAAM,WAAW,cAAc;IAC7B,KAAK,EAAE,UAAU,CAAA;IACjB,MAAM,EAAE,MAAM,CAAA;IACd,MAAM,EAAE,KAAK,EAAE,CAAA;IACf,YAAY,EAAE,WAAW,EAAE,CAAA;IAC3B,IAAI,EAAE,MAAM,GAAG,IAAI,CAAA;CACpB;AAED,wBAAgB,cAAc,CAAE,GAAG,EAAE,MAAM,GAAG,KAAK,EAAE,CAsCpD;AAED,wBAAgB,oBAAoB,CAAC,GAAG,EAAE,MAAM,GAAG,WAAW,EAAE,CAiC/D;AAED,wBAAgB,sBAAsB,CAAE,GAAG,EAAE,MAAM,GAAG,cAAc,CAwDnE;AAED,wBAAgB,qBAAqB,CAAE,KAAK,EAAE,UAAU,GAAG,cAAc,CAgDxE;AAED;;GAEG;AACH,wBAAgB,oBAAoB,CAAE,YAAY,EAAE,WAAW,EAAE,GAAG,KAAK,EAAE,CAc1E;AAmBD;;GAEG;AACH,wBAAgB,aAAa,CAAE,MAAM,EAAE,KAAK,EAAE,GAAG,UAAU,CAW1D;AAgBD,wBAAgB,aAAa,CAAE,GAAG,EAAE,UAAU,GAAG,KAAK,EAAE,CA+BvD;AAED,wBAAgB,mBAAmB,CAAE,GAAG,EAAE,UAAU,GAAG,WAAW,EAAE,CAUnE;AAED,wBAAgB,SAAS,CAAE,GAAG,EAAE,MAAM,GAAG,MAAM,CAE9C;AAED,qBAAa,UAAW,SAAQ,KAAK;IACnC,MAAM,CAAC,IAAI,SAAe;IAC1B,IAAI,SAAe;gBAEN,GAAG,EAAE,MAAM;CAGzB"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/codec.js b/node_modules/@multiformats/multiaddr/dist/src/codec.js
index 434a6b0..bd59a8e 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/codec.js
+++ b/node_modules/@multiformats/multiaddr/dist/src/codec.js
@@ -3,8 +3,65 @@ import { concat as uint8ArrayConcat } from 'uint8arrays/concat';
 import { toString as uint8ArrayToString } from 'uint8arrays/to-string';
 import { convertToBytes, convertToString } from './convert.js';
 import { getProtocol } from './protocols-table.js';
+export function stringToTuples(str) {
+    const tuples = [];
+    const parts = str.split('/').slice(1);
+    if (parts.length === 1 && parts[0] === '') {
+        return [];
+    }
+    for (let p = 0; p < parts.length; p++) {
+        const part = parts[p];
+        const proto = getProtocol(part);
+        if (proto.size === 0) {
+            tuples.push([proto.code]);
+            continue;
+        }
+        // if it's a path proto, take the rest
+        if (proto.path === true) {
+            // should we need to check each path part to see if it's a proto?
+            // This would allow for other protocols to be added after a unix path,
+            // however it would have issues if the path had a protocol name in the path
+            const path = cleanPath(parts.slice(p).join('/'));
+            tuples.push([proto.code, convertToBytes(proto.code, path)]);
+            break;
+        }
+        p++; // advance addr part
+        if (p >= parts.length) {
+            throw new ParseError('invalid address: ' + str);
+        }
+        const bytes = convertToBytes(proto.code, parts[p]);
+        tuples.push([proto.code, bytes]);
+    }
+    return tuples;
+}
+export function stringToStringTuples(str) {
+    const stringTuples = [];
+    const parts = str.split('/').slice(1);
+    for (let p = 0; p < parts.length; p++) {
+        const part = parts[p];
+        const proto = getProtocol(part);
+        if (proto.size === 0) {
+            stringTuples.push([proto.code]);
+            continue;
+        }
+        // if it's a path proto, take the rest
+        if (proto.path === true) {
+            // should we need to check each path part to see if it's a proto?
+            // This would allow for other protocols to be added after a unix path,
+            // however it would have issues if the path had a protocol name in the path
+            const path = cleanPath(parts.slice(p).join('/'));
+            stringTuples.push([proto.code, path]);
+            break;
+        }
+        p++; // advance addr part
+        if (p >= parts.length) {
+            throw new ParseError('invalid address: ' + str);
+        }
+        stringTuples.push([proto.code, parts[p]]);
+    }
+    return stringTuples;
+}
 export function stringToMultiaddrParts(str) {
-    str = cleanPath(str);
     const tuples = [];
     const stringTuples = [];
     let path = null;
@@ -61,7 +118,7 @@ export function bytesToMultiaddrParts(bytes) {
         const code = varint.decode(bytes, i);
         const n = varint.encodingLength(code);
         const p = getProtocol(code);
-        const size = sizeForAddr(p, bytes.slice(i + n));
+        const size = sizeForAddr(p, bytes.subarray(i + n));
         if (size === 0) {
             tuples.push([code]);
             stringTuples.push([code]);
@@ -157,13 +214,13 @@ export function bytesToTuples(buf) {
         const code = varint.decode(buf, i);
         const n = varint.encodingLength(code);
         const p = getProtocol(code);
-        const size = sizeForAddr(p, buf.slice(i + n));
+        const size = sizeForAddr(p, buf.subarray(i + n));
         if (size === 0) {
             tuples.push([code]);
             i += n;
             continue;
         }
-        const addr = buf.slice(i + n, i + n + size);
+        const addr = buf.subarray(i + n, i + n + size);
         i += (size + n);
         if (i > buf.length) { // did not end _exactly_ at buffer.length
             throw new ParseError('Invalid address Uint8Array: ' + uint8ArrayToString(buf, 'base16'));
@@ -173,6 +230,15 @@ export function bytesToTuples(buf) {
     }
     return tuples;
 }
+export function bytesToStringTuples(buf) {
+    return bytesToTuples(buf).map(([key, value]) => {
+        const output = [key];
+        if (value != null) {
+            output.push(convertToString(key, value));
+        }
+        return output;
+    });
+}
 export function cleanPath(str) {
     return '/' + str.trim().split('/').filter((a) => a).join('/');
 }
diff --git a/node_modules/@multiformats/multiaddr/dist/src/codec.js.map b/node_modules/@multiformats/multiaddr/dist/src/codec.js.map
index 1bfc204..246f704 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/codec.js.map
+++ b/node_modules/@multiformats/multiaddr/dist/src/codec.js.map
@@ -1 +1 @@
-{"version":3,"file":"codec.js","sourceRoot":"","sources":["../../src/codec.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"codec.js","sourceRoot":"","sources":["../../src/codec.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/components.d.ts b/node_modules/@multiformats/multiaddr/dist/src/components.d.ts
new file mode 100644
index 0000000..ac8faa3
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/components.d.ts
@@ -0,0 +1,6 @@
+import type { Component } from './index.js';
+export declare function bytesToComponents(bytes: Uint8Array): Component[];
+export declare function componentsToBytes(components: Component[]): Uint8Array;
+export declare function stringToComponents(string: string): Component[];
+export declare function componentsToString(components: Component[]): string;
+//# sourceMappingURL=components.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/components.d.ts.map b/node_modules/@multiformats/multiaddr/dist/src/components.d.ts.map
new file mode 100644
index 0000000..84e71a3
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/components.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"components.d.ts","sourceRoot":"","sources":["../../src/components.ts"],"names":[],"mappings":"AAMA,OAAO,KAAK,EAAE,SAAS,EAAE,MAAM,YAAY,CAAA;AAG3C,wBAAgB,iBAAiB,CAAE,KAAK,EAAE,UAAU,GAAG,SAAS,EAAE,CAoCjE;AAED,wBAAgB,iBAAiB,CAAE,UAAU,EAAE,SAAS,EAAE,GAAG,UAAU,CAgDtE;AAED,wBAAgB,kBAAkB,CAAE,MAAM,EAAE,MAAM,GAAG,SAAS,EAAE,CAyE/D;AAED,wBAAgB,kBAAkB,CAAE,UAAU,EAAE,SAAS,EAAE,GAAG,MAAM,CAiBnE"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/components.js b/node_modules/@multiformats/multiaddr/dist/src/components.js
new file mode 100644
index 0000000..f847baa
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/components.js
@@ -0,0 +1,163 @@
+import * as varint from 'uint8-varint';
+import { concat as uint8ArrayConcat } from 'uint8arrays/concat';
+import { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';
+import { toString as uint8ArrayToString } from 'uint8arrays/to-string';
+import { InvalidMultiaddrError } from "./errors.js";
+import { registry, V } from "./registry.js";
+export function bytesToComponents(bytes) {
+    const components = [];
+    let i = 0;
+    while (i < bytes.length) {
+        const code = varint.decode(bytes, i);
+        const codec = registry.getCodec(code);
+        const codeLength = varint.encodingLength(code);
+        const size = sizeForAddr(codec, bytes, i + codeLength);
+        let sizeLength = 0;
+        if (size > 0 && codec.size === V) {
+            sizeLength = varint.encodingLength(size);
+        }
+        const componentLength = codeLength + sizeLength + size;
+        const component = {
+            code,
+            name: codec.name,
+            bytes: bytes.subarray(i, i + componentLength)
+        };
+        if (size > 0) {
+            const valueOffset = i + codeLength + sizeLength;
+            const valueBytes = bytes.subarray(valueOffset, valueOffset + size);
+            component.value = codec.bytesToValue?.(valueBytes) ?? uint8ArrayToString(valueBytes);
+        }
+        components.push(component);
+        i += componentLength;
+    }
+    return components;
+}
+export function componentsToBytes(components) {
+    let length = 0;
+    const bytes = [];
+    for (const component of components) {
+        if (component.bytes == null) {
+            const codec = registry.getCodec(component.code);
+            const codecLength = varint.encodingLength(component.code);
+            let valueBytes;
+            let valueLength = 0;
+            let valueLengthLength = 0;
+            if (component.value != null) {
+                valueBytes = codec.valueToBytes?.(component.value) ?? uint8ArrayFromString(component.value);
+                valueLength = valueBytes.byteLength;
+                if (codec.size === V) {
+                    valueLengthLength = varint.encodingLength(valueLength);
+                }
+            }
+            const bytes = new Uint8Array(codecLength + valueLengthLength + valueLength);
+            // encode the protocol code
+            let offset = 0;
+            varint.encodeUint8Array(component.code, bytes, offset);
+            offset += codecLength;
+            // if there is a value
+            if (valueBytes != null) {
+                // if the value has variable length, encode the length
+                if (codec.size === V) {
+                    varint.encodeUint8Array(valueLength, bytes, offset);
+                    offset += valueLengthLength;
+                }
+                // finally encode the value
+                bytes.set(valueBytes, offset);
+            }
+            component.bytes = bytes;
+        }
+        bytes.push(component.bytes);
+        length += component.bytes.byteLength;
+    }
+    return uint8ArrayConcat(bytes, length);
+}
+export function stringToComponents(string) {
+    if (string.charAt(0) !== '/') {
+        throw new InvalidMultiaddrError('String multiaddr must start with "/"');
+    }
+    const components = [];
+    let collecting = 'protocol';
+    let value = '';
+    let protocol = '';
+    for (let i = 1; i < string.length; i++) {
+        const char = string.charAt(i);
+        if (char !== '/') {
+            if (collecting === 'protocol') {
+                protocol += string.charAt(i);
+            }
+            else {
+                value += string.charAt(i);
+            }
+        }
+        const ended = i === string.length - 1;
+        if (char === '/' || ended) {
+            const codec = registry.getCodec(protocol);
+            if (collecting === 'protocol') {
+                if (codec.size == null || codec.size === 0) {
+                    // a protocol without an address, eg. `/tls`
+                    components.push({
+                        code: codec.code,
+                        name: codec.name
+                    });
+                    value = '';
+                    protocol = '';
+                    collecting = 'protocol';
+                    continue;
+                }
+                else if (ended) {
+                    throw new InvalidMultiaddrError(`Component ${protocol} was missing value`);
+                }
+                // continue collecting value
+                collecting = 'value';
+            }
+            else if (collecting === 'value') {
+                const component = {
+                    code: codec.code,
+                    name: codec.name
+                };
+                if (codec.size != null && codec.size !== 0) {
+                    if (value === '') {
+                        throw new InvalidMultiaddrError(`Component ${protocol} was missing value`);
+                    }
+                    component.value = codec.stringToValue?.(value) ?? value;
+                }
+                components.push(component);
+                value = '';
+                protocol = '';
+                collecting = 'protocol';
+            }
+        }
+    }
+    if (protocol !== '' && value !== '') {
+        throw new InvalidMultiaddrError('Incomplete multiaddr');
+    }
+    return components;
+}
+export function componentsToString(components) {
+    return `/${components.flatMap(component => {
+        if (component.value == null) {
+            return component.name;
+        }
+        const codec = registry.getCodec(component.code);
+        if (codec == null) {
+            throw new InvalidMultiaddrError(`Unknown protocol code ${component.code}`);
+        }
+        return [
+            component.name,
+            codec.valueToString?.(component.value) ?? component.value
+        ];
+    }).join('/')}`;
+}
+/**
+ * For the passed address, return the serialized size
+ */
+function sizeForAddr(codec, bytes, offset) {
+    if (codec.size == null || codec.size === 0) {
+        return 0;
+    }
+    if (codec.size > 0) {
+        return codec.size / 8;
+    }
+    return varint.decode(bytes, offset);
+}
+//# sourceMappingURL=components.js.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/components.js.map b/node_modules/@multiformats/multiaddr/dist/src/components.js.map
new file mode 100644
index 0000000..b592f85
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/components.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"components.js","sourceRoot":"","sources":["../../src/components.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/constants.d.ts b/node_modules/@multiformats/multiaddr/dist/src/constants.d.ts
new file mode 100644
index 0000000..7be3559
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/constants.d.ts
@@ -0,0 +1,41 @@
+export declare const CODE_IP4 = 4;
+export declare const CODE_TCP = 6;
+export declare const CODE_UDP = 273;
+export declare const CODE_DCCP = 33;
+export declare const CODE_IP6 = 41;
+export declare const CODE_IP6ZONE = 42;
+export declare const CODE_IPCIDR = 43;
+export declare const CODE_DNS = 53;
+export declare const CODE_DNS4 = 54;
+export declare const CODE_DNS6 = 55;
+export declare const CODE_DNSADDR = 56;
+export declare const CODE_SCTP = 132;
+export declare const CODE_UDT = 301;
+export declare const CODE_UTP = 302;
+export declare const CODE_UNIX = 400;
+export declare const CODE_P2P = 421;
+export declare const CODE_ONION = 444;
+export declare const CODE_ONION3 = 445;
+export declare const CODE_GARLIC64 = 446;
+export declare const CODE_GARLIC32 = 447;
+export declare const CODE_TLS = 448;
+export declare const CODE_SNI = 449;
+export declare const CODE_NOISE = 454;
+export declare const CODE_QUIC = 460;
+export declare const CODE_QUIC_V1 = 461;
+export declare const CODE_WEBTRANSPORT = 465;
+export declare const CODE_CERTHASH = 466;
+export declare const CODE_HTTP = 480;
+export declare const CODE_HTTP_PATH = 481;
+export declare const CODE_HTTPS = 443;
+export declare const CODE_WS = 477;
+export declare const CODE_WSS = 478;
+export declare const CODE_P2P_WEBSOCKET_STAR = 479;
+export declare const CODE_P2P_STARDUST = 277;
+export declare const CODE_P2P_WEBRTC_STAR = 275;
+export declare const CODE_P2P_WEBRTC_DIRECT = 276;
+export declare const CODE_WEBRTC_DIRECT = 280;
+export declare const CODE_WEBRTC = 281;
+export declare const CODE_P2P_CIRCUIT = 290;
+export declare const CODE_MEMORY = 777;
+//# sourceMappingURL=constants.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/constants.d.ts.map b/node_modules/@multiformats/multiaddr/dist/src/constants.d.ts.map
new file mode 100644
index 0000000..fd44c27
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/constants.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"constants.d.ts","sourceRoot":"","sources":["../../src/constants.ts"],"names":[],"mappings":"AAAA,eAAO,MAAM,QAAQ,IAAI,CAAA;AACzB,eAAO,MAAM,QAAQ,IAAI,CAAA;AACzB,eAAO,MAAM,QAAQ,MAAM,CAAA;AAC3B,eAAO,MAAM,SAAS,KAAK,CAAA;AAC3B,eAAO,MAAM,QAAQ,KAAK,CAAA;AAC1B,eAAO,MAAM,YAAY,KAAK,CAAA;AAC9B,eAAO,MAAM,WAAW,KAAK,CAAA;AAC7B,eAAO,MAAM,QAAQ,KAAK,CAAA;AAC1B,eAAO,MAAM,SAAS,KAAK,CAAA;AAC3B,eAAO,MAAM,SAAS,KAAK,CAAA;AAC3B,eAAO,MAAM,YAAY,KAAK,CAAA;AAC9B,eAAO,MAAM,SAAS,MAAM,CAAA;AAC5B,eAAO,MAAM,QAAQ,MAAM,CAAA;AAC3B,eAAO,MAAM,QAAQ,MAAM,CAAA;AAC3B,eAAO,MAAM,SAAS,MAAM,CAAA;AAC5B,eAAO,MAAM,QAAQ,MAAM,CAAA;AAC3B,eAAO,MAAM,UAAU,MAAM,CAAA;AAC7B,eAAO,MAAM,WAAW,MAAM,CAAA;AAC9B,eAAO,MAAM,aAAa,MAAM,CAAA;AAChC,eAAO,MAAM,aAAa,MAAM,CAAA;AAChC,eAAO,MAAM,QAAQ,MAAM,CAAA;AAC3B,eAAO,MAAM,QAAQ,MAAM,CAAA;AAC3B,eAAO,MAAM,UAAU,MAAM,CAAA;AAC7B,eAAO,MAAM,SAAS,MAAM,CAAA;AAC5B,eAAO,MAAM,YAAY,MAAM,CAAA;AAC/B,eAAO,MAAM,iBAAiB,MAAM,CAAA;AACpC,eAAO,MAAM,aAAa,MAAM,CAAA;AAChC,eAAO,MAAM,SAAS,MAAM,CAAA;AAC5B,eAAO,MAAM,cAAc,MAAM,CAAA;AACjC,eAAO,MAAM,UAAU,MAAM,CAAA;AAC7B,eAAO,MAAM,OAAO,MAAM,CAAA;AAC1B,eAAO,MAAM,QAAQ,MAAM,CAAA;AAC3B,eAAO,MAAM,uBAAuB,MAAM,CAAA;AAC1C,eAAO,MAAM,iBAAiB,MAAM,CAAA;AACpC,eAAO,MAAM,oBAAoB,MAAM,CAAA;AACvC,eAAO,MAAM,sBAAsB,MAAM,CAAA;AACzC,eAAO,MAAM,kBAAkB,MAAM,CAAA;AACrC,eAAO,MAAM,WAAW,MAAM,CAAA;AAC9B,eAAO,MAAM,gBAAgB,MAAM,CAAA;AACnC,eAAO,MAAM,WAAW,MAAM,CAAA"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/constants.js b/node_modules/@multiformats/multiaddr/dist/src/constants.js
new file mode 100644
index 0000000..b39e716
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/constants.js
@@ -0,0 +1,41 @@
+export const CODE_IP4 = 4;
+export const CODE_TCP = 6;
+export const CODE_UDP = 273;
+export const CODE_DCCP = 33;
+export const CODE_IP6 = 41;
+export const CODE_IP6ZONE = 42;
+export const CODE_IPCIDR = 43;
+export const CODE_DNS = 53;
+export const CODE_DNS4 = 54;
+export const CODE_DNS6 = 55;
+export const CODE_DNSADDR = 56;
+export const CODE_SCTP = 132;
+export const CODE_UDT = 301;
+export const CODE_UTP = 302;
+export const CODE_UNIX = 400;
+export const CODE_P2P = 421; // also IPFS
+export const CODE_ONION = 444;
+export const CODE_ONION3 = 445;
+export const CODE_GARLIC64 = 446;
+export const CODE_GARLIC32 = 447;
+export const CODE_TLS = 448;
+export const CODE_SNI = 449;
+export const CODE_NOISE = 454;
+export const CODE_QUIC = 460;
+export const CODE_QUIC_V1 = 461;
+export const CODE_WEBTRANSPORT = 465;
+export const CODE_CERTHASH = 466;
+export const CODE_HTTP = 480;
+export const CODE_HTTP_PATH = 481;
+export const CODE_HTTPS = 443;
+export const CODE_WS = 477;
+export const CODE_WSS = 478;
+export const CODE_P2P_WEBSOCKET_STAR = 479;
+export const CODE_P2P_STARDUST = 277;
+export const CODE_P2P_WEBRTC_STAR = 275;
+export const CODE_P2P_WEBRTC_DIRECT = 276;
+export const CODE_WEBRTC_DIRECT = 280;
+export const CODE_WEBRTC = 281;
+export const CODE_P2P_CIRCUIT = 290;
+export const CODE_MEMORY = 777;
+//# sourceMappingURL=constants.js.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/constants.js.map b/node_modules/@multiformats/multiaddr/dist/src/constants.js.map
new file mode 100644
index 0000000..3ddd44f
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/constants.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"constants.js","sourceRoot":"","sources":["../../src/constants.ts"],"names":[],"mappings":"AAAA,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAC,CAAA;AACzB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAC,CAAA;AACzB,MAAM,CAAC,MAAM,QAAQ,GAAG,GAAG,CAAA;AAC3B,MAAM,CAAC,MAAM,SAAS,GAAG,EAAE,CAAA;AAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,EAAE,CAAA;AAC1B,MAAM,CAAC,MAAM,YAAY,GAAG,EAAE,CAAA;AAC9B,MAAM,CAAC,MAAM,WAAW,GAAG,EAAE,CAAA;AAC7B,MAAM,CAAC,MAAM,QAAQ,GAAG,EAAE,CAAA;AAC1B,MAAM,CAAC,MAAM,SAAS,GAAG,EAAE,CAAA;AAC3B,MAAM,CAAC,MAAM,SAAS,GAAG,EAAE,CAAA;AAC3B,MAAM,CAAC,MAAM,YAAY,GAAG,EAAE,CAAA;AAC9B,MAAM,CAAC,MAAM,SAAS,GAAG,GAAG,CAAA;AAC5B,MAAM,CAAC,MAAM,QAAQ,GAAG,GAAG,CAAA;AAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,GAAG,CAAA;AAC3B,MAAM,CAAC,MAAM,SAAS,GAAG,GAAG,CAAA;AAC5B,MAAM,CAAC,MAAM,QAAQ,GAAG,GAAG,CAAA,CAAC,YAAY;AACxC,MAAM,CAAC,MAAM,UAAU,GAAG,GAAG,CAAA;AAC7B,MAAM,CAAC,MAAM,WAAW,GAAG,GAAG,CAAA;AAC9B,MAAM,CAAC,MAAM,aAAa,GAAG,GAAG,CAAA;AAChC,MAAM,CAAC,MAAM,aAAa,GAAG,GAAG,CAAA;AAChC,MAAM,CAAC,MAAM,QAAQ,GAAG,GAAG,CAAA;AAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,GAAG,CAAA;AAC3B,MAAM,CAAC,MAAM,UAAU,GAAG,GAAG,CAAA;AAC7B,MAAM,CAAC,MAAM,SAAS,GAAG,GAAG,CAAA;AAC5B,MAAM,CAAC,MAAM,YAAY,GAAG,GAAG,CAAA;AAC/B,MAAM,CAAC,MAAM,iBAAiB,GAAG,GAAG,CAAA;AACpC,MAAM,CAAC,MAAM,aAAa,GAAG,GAAG,CAAA;AAChC,MAAM,CAAC,MAAM,SAAS,GAAG,GAAG,CAAA;AAC5B,MAAM,CAAC,MAAM,cAAc,GAAG,GAAG,CAAA;AACjC,MAAM,CAAC,MAAM,UAAU,GAAG,GAAG,CAAA;AAC7B,MAAM,CAAC,MAAM,OAAO,GAAG,GAAG,CAAA;AAC1B,MAAM,CAAC,MAAM,QAAQ,GAAG,GAAG,CAAA;AAC3B,MAAM,CAAC,MAAM,uBAAuB,GAAG,GAAG,CAAA;AAC1C,MAAM,CAAC,MAAM,iBAAiB,GAAG,GAAG,CAAA;AACpC,MAAM,CAAC,MAAM,oBAAoB,GAAG,GAAG,CAAA;AACvC,MAAM,CAAC,MAAM,sBAAsB,GAAG,GAAG,CAAA;AACzC,MAAM,CAAC,MAAM,kBAAkB,GAAG,GAAG,CAAA;AACrC,MAAM,CAAC,MAAM,WAAW,GAAG,GAAG,CAAA;AAC9B,MAAM,CAAC,MAAM,gBAAgB,GAAG,GAAG,CAAA;AACnC,MAAM,CAAC,MAAM,WAAW,GAAG,GAAG,CAAA"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/convert.d.ts b/node_modules/@multiformats/multiaddr/dist/src/convert.d.ts
index bd3e4bf..9dcc8e2 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/convert.d.ts
+++ b/node_modules/@multiformats/multiaddr/dist/src/convert.d.ts
@@ -1,14 +1,20 @@
 import { IpNet } from '@chainsafe/netmask';
-import type { Multiaddr } from './index.js';
-/**
- * converts (serializes) addresses
- */
-export declare function convert(proto: string, a: string): Uint8Array;
-export declare function convert(proto: string, a: Uint8Array): string;
-/**
- * Convert [code,Uint8Array] to string
- */
-export declare function convertToString(proto: number | string, buf: Uint8Array): string;
-export declare function convertToBytes(proto: string | number, str: string): Uint8Array;
+import type { Multiaddr } from './index.ts';
+import type { MultibaseCodec } from 'multiformats';
+import type { SupportedEncodings } from 'uint8arrays/to-string';
+export declare function bytesToString(base: SupportedEncodings): (buf: Uint8Array) => string;
+export declare function stringToBytes(base: SupportedEncodings): (value: string) => Uint8Array;
+export declare function bytes2port(buf: Uint8Array): string;
+export declare function port2bytes(port: string | number): Uint8Array;
+export declare function onion2bytes(str: string): Uint8Array;
+export declare function onion32bytes(str: string): Uint8Array;
+export declare function bytes2onion(buf: Uint8Array): string;
+export declare const ip4ToBytes: (ip: string) => Uint8Array;
+export declare const ip6ToBytes: (ip: string) => Uint8Array;
+export declare const ip4ToString: (buf: Uint8Array) => string;
+export declare const ip6ToString: (buf: Uint8Array) => string;
+export declare function ip6StringToValue(str: string): string;
+export declare function mb2bytes(mbstr: string): Uint8Array;
+export declare function bytes2mb(base: MultibaseCodec<any>): (buf: Uint8Array) => string;
 export declare function convertToIpNet(multiaddr: Multiaddr): IpNet;
 //# sourceMappingURL=convert.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/convert.d.ts.map b/node_modules/@multiformats/multiaddr/dist/src/convert.d.ts.map
index ce14a9f..5837a86 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/convert.d.ts.map
+++ b/node_modules/@multiformats/multiaddr/dist/src/convert.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"convert.d.ts","sourceRoot":"","sources":["../../src/convert.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,oBAAoB,CAAA;AAY1C,OAAO,KAAK,EAAE,SAAS,EAAE,MAAM,YAAY,CAAA;AAM3C;;GAEG;AACH,wBAAgB,OAAO,CAAE,KAAK,EAAE,MAAM,EAAE,CAAC,EAAE,MAAM,GAAG,UAAU,CAAA;AAC9D,wBAAgB,OAAO,CAAE,KAAK,EAAE,MAAM,EAAE,CAAC,EAAE,UAAU,GAAG,MAAM,CAAA;AAS9D;;GAEG;AAEH,wBAAgB,eAAe,CAAE,KAAK,EAAE,MAAM,GAAG,MAAM,EAAE,GAAG,EAAE,UAAU,GAAG,MAAM,CAuChF;AAGD,wBAAgB,cAAc,CAAE,KAAK,EAAE,MAAM,GAAG,MAAM,EAAE,GAAG,EAAE,MAAM,GAAG,UAAU,CAwC/E;AAED,wBAAgB,cAAc,CAAE,SAAS,EAAE,SAAS,GAAG,KAAK,CAe3D"}
\ No newline at end of file
+{"version":3,"file":"convert.d.ts","sourceRoot":"","sources":["../../src/convert.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,KAAK,EAAE,MAAM,oBAAoB,CAAA;AAO1C,OAAO,KAAK,EAAE,SAAS,EAAE,MAAM,YAAY,CAAA;AAC3C,OAAO,KAAK,EAAE,cAAc,EAAE,MAAM,cAAc,CAAA;AAClD,OAAO,KAAK,EAAE,kBAAkB,EAAE,MAAM,uBAAuB,CAAA;AAE/D,wBAAgB,aAAa,CAAE,IAAI,EAAE,kBAAkB,GAAG,CAAC,GAAG,EAAE,UAAU,KAAK,MAAM,CAIpF;AAED,wBAAgB,aAAa,CAAE,IAAI,EAAE,kBAAkB,GAAG,CAAC,KAAK,EAAE,MAAM,KAAK,UAAU,CAItF;AAED,wBAAgB,UAAU,CAAE,GAAG,EAAE,UAAU,GAAG,MAAM,CAGnD;AAED,wBAAgB,UAAU,CAAE,IAAI,EAAE,MAAM,GAAG,MAAM,GAAG,UAAU,CAM7D;AAED,wBAAgB,WAAW,CAAE,GAAG,EAAE,MAAM,GAAG,UAAU,CAwBpD;AAED,wBAAgB,YAAY,CAAE,GAAG,EAAE,MAAM,GAAG,UAAU,CAwBrD;AAED,wBAAgB,WAAW,CAAE,GAAG,EAAE,UAAU,GAAG,MAAM,CAMpD;AAID,eAAO,MAAM,UAAU,GAAa,IAAI,MAAM,KAAG,UAgBhD,CAAA;AAID,eAAO,MAAM,UAAU,GAAa,IAAI,MAAM,KAAG,UAoDhD,CAAA;AAGD,eAAO,MAAM,WAAW,GAAa,KAAK,UAAU,KAAG,MAYtD,CAAA;AAED,eAAO,MAAM,WAAW,GAAa,KAAK,UAAU,KAAG,MAmBtD,CAAA;AAED,wBAAgB,gBAAgB,CAAE,GAAG,EAAE,MAAM,GAAG,MAAM,CAsBrD;AASD,wBAAgB,QAAQ,CAAE,KAAK,EAAE,MAAM,GAAG,UAAU,CAEnD;AAED,wBAAgB,QAAQ,CAAE,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,UAAU,KAAK,MAAM,CAIhF;AAED,wBAAgB,cAAc,CAAE,SAAS,EAAE,SAAS,GAAG,KAAK,CAkB3D"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/convert.js b/node_modules/@multiformats/multiaddr/dist/src/convert.js
index 2111b55..7c2c939 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/convert.js
+++ b/node_modules/@multiformats/multiaddr/dist/src/convert.js
@@ -1,204 +1,32 @@
+import { isIPv4 } from '@chainsafe/is-ip';
 import { IpNet } from '@chainsafe/netmask';
 import { base32 } from 'multiformats/bases/base32';
-import { base58btc } from 'multiformats/bases/base58';
 import { bases } from 'multiformats/basics';
-import { CID } from 'multiformats/cid';
-import * as Digest from 'multiformats/hashes/digest';
-import * as varint from 'uint8-varint';
 import { concat as uint8ArrayConcat } from 'uint8arrays/concat';
 import { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';
 import { toString as uint8ArrayToString } from 'uint8arrays/to-string';
-import * as ip from './ip.js';
-import { getProtocol } from './protocols-table.js';
-const ip4Protocol = getProtocol('ip4');
-const ip6Protocol = getProtocol('ip6');
-const ipcidrProtocol = getProtocol('ipcidr');
-export function convert(proto, a) {
-    if (a instanceof Uint8Array) {
-        return convertToString(proto, a);
-    }
-    else {
-        return convertToBytes(proto, a);
-    }
-}
-/**
- * Convert [code,Uint8Array] to string
- */
-// eslint-disable-next-line complexity
-export function convertToString(proto, buf) {
-    const protocol = getProtocol(proto);
-    switch (protocol.code) {
-        case 4: // ipv4
-        case 41: // ipv6
-            return bytes2ip(buf);
-        case 42: // ipv6zone
-            return bytes2str(buf);
-        case 43: // ipcidr
-            return uint8ArrayToString(buf, 'base10');
-        case 6: // tcp
-        case 273: // udp
-        case 33: // dccp
-        case 132: // sctp
-            return bytes2port(buf).toString();
-        case 53: // dns
-        case 54: // dns4
-        case 55: // dns6
-        case 56: // dnsaddr
-        case 400: // unix
-        case 449: // sni
-        case 777: // memory
-            return bytes2str(buf);
-        case 421: // ipfs
-            return bytes2mh(buf);
-        case 444: // onion
-            return bytes2onion(buf);
-        case 445: // onion3
-            return bytes2onion(buf);
-        case 466: // certhash
-            return bytes2mb(buf);
-        case 481: // http-path
-            return globalThis.encodeURIComponent(bytes2str(buf));
-        default:
-            return uint8ArrayToString(buf, 'base16'); // no clue. convert to hex
-    }
-}
-// eslint-disable-next-line complexity
-export function convertToBytes(proto, str) {
-    const protocol = getProtocol(proto);
-    switch (protocol.code) {
-        case 4: // ipv4
-            return ip2bytes(str);
-        case 41: // ipv6
-            return ip2bytes(str);
-        case 42: // ipv6zone
-            return str2bytes(str);
-        case 43: // ipcidr
-            return uint8ArrayFromString(str, 'base10');
-        case 6: // tcp
-        case 273: // udp
-        case 33: // dccp
-        case 132: // sctp
-            return port2bytes(parseInt(str, 10));
-        case 53: // dns
-        case 54: // dns4
-        case 55: // dns6
-        case 56: // dnsaddr
-        case 400: // unix
-        case 449: // sni
-        case 777: // memory
-            return str2bytes(str);
-        case 421: // ipfs
-            return mh2bytes(str);
-        case 444: // onion
-            return onion2bytes(str);
-        case 445: // onion3
-            return onion32bytes(str);
-        case 466: // certhash
-            return mb2bytes(str);
-        case 481: // http-path
-            return str2bytes(globalThis.decodeURIComponent(str));
-        default:
-            return uint8ArrayFromString(str, 'base16'); // no clue. convert from hex
-    }
-}
-export function convertToIpNet(multiaddr) {
-    let mask;
-    let addr;
-    multiaddr.stringTuples().forEach(([code, value]) => {
-        if (code === ip4Protocol.code || code === ip6Protocol.code) {
-            addr = value;
-        }
-        if (code === ipcidrProtocol.code) {
-            mask = value;
-        }
-    });
-    if (mask == null || addr == null) {
-        throw new Error('Invalid multiaddr');
-    }
-    return new IpNet(addr, mask);
-}
-const decoders = Object.values(bases).map((c) => c.decoder);
-const anybaseDecoder = (function () {
-    let acc = decoders[0].or(decoders[1]);
-    decoders.slice(2).forEach((d) => (acc = acc.or(d)));
-    return acc;
-})();
-function ip2bytes(ipString) {
-    if (!ip.isIP(ipString)) {
-        throw new Error('invalid ip address');
-    }
-    return ip.toBytes(ipString);
-}
-function bytes2ip(ipBuff) {
-    const ipString = ip.toString(ipBuff, 0, ipBuff.length);
-    if (ipString == null) {
-        throw new Error('ipBuff is required');
-    }
-    if (!ip.isIP(ipString)) {
-        throw new Error('invalid ip address');
-    }
-    return ipString;
+import { InvalidMultiaddrError } from "./errors.js";
+export function bytesToString(base) {
+    return (buf) => {
+        return uint8ArrayToString(buf, base);
+    };
+}
+export function stringToBytes(base) {
+    return (buf) => {
+        return uint8ArrayFromString(buf, base);
+    };
+}
+export function bytes2port(buf) {
+    const view = new DataView(buf.buffer);
+    return view.getUint16(buf.byteOffset).toString();
 }
-function port2bytes(port) {
+export function port2bytes(port) {
     const buf = new ArrayBuffer(2);
     const view = new DataView(buf);
-    view.setUint16(0, port);
+    view.setUint16(0, typeof port === 'string' ? parseInt(port) : port);
     return new Uint8Array(buf);
 }
-function bytes2port(buf) {
-    const view = new DataView(buf.buffer);
-    return view.getUint16(buf.byteOffset);
-}
-function str2bytes(str) {
-    const buf = uint8ArrayFromString(str);
-    const size = Uint8Array.from(varint.encode(buf.length));
-    return uint8ArrayConcat([size, buf], size.length + buf.length);
-}
-function bytes2str(buf) {
-    const size = varint.decode(buf);
-    buf = buf.slice(varint.encodingLength(size));
-    if (buf.length !== size) {
-        throw new Error('inconsistent lengths');
-    }
-    return uint8ArrayToString(buf);
-}
-function mh2bytes(hash) {
-    let mh;
-    if (hash[0] === 'Q' || hash[0] === '1') {
-        mh = Digest.decode(base58btc.decode(`z${hash}`)).bytes;
-    }
-    else {
-        mh = CID.parse(hash).multihash.bytes;
-    }
-    // the address is a varint prefixed multihash string representation
-    const size = Uint8Array.from(varint.encode(mh.length));
-    return uint8ArrayConcat([size, mh], size.length + mh.length);
-}
-function mb2bytes(mbstr) {
-    const mb = anybaseDecoder.decode(mbstr);
-    const size = Uint8Array.from(varint.encode(mb.length));
-    return uint8ArrayConcat([size, mb], size.length + mb.length);
-}
-function bytes2mb(buf) {
-    const size = varint.decode(buf);
-    const hash = buf.slice(varint.encodingLength(size));
-    if (hash.length !== size) {
-        throw new Error('inconsistent lengths');
-    }
-    return 'u' + uint8ArrayToString(hash, 'base64url');
-}
-/**
- * Converts bytes to bas58btc string
- */
-function bytes2mh(buf) {
-    const size = varint.decode(buf);
-    const address = buf.slice(varint.encodingLength(size));
-    if (address.length !== size) {
-        throw new Error('inconsistent lengths');
-    }
-    return uint8ArrayToString(address, 'base58btc');
-}
-function onion2bytes(str) {
+export function onion2bytes(str) {
     const addr = str.split(':');
     if (addr.length !== 2) {
         throw new Error(`failed to parse onion addr: ["'${addr.join('", "')}'"]' does not contain a port number`);
@@ -207,7 +35,7 @@ function onion2bytes(str) {
         throw new Error(`failed to parse onion addr: ${addr[0]} not a Tor onion address.`);
     }
     // onion addresses do not include the multibase prefix, add it before decoding
-    const buf = base32.decode('b' + addr[0]);
+    const buf = uint8ArrayFromString(addr[0], 'base32');
     // onion port number
     const port = parseInt(addr[1], 10);
     if (port < 1 || port > 65536) {
@@ -216,7 +44,7 @@ function onion2bytes(str) {
     const portBuf = port2bytes(port);
     return uint8ArrayConcat([buf, portBuf], buf.length + portBuf.length);
 }
-function onion32bytes(str) {
+export function onion32bytes(str) {
     const addr = str.split(':');
     if (addr.length !== 2) {
         throw new Error(`failed to parse onion addr: ["'${addr.join('", "')}'"]' does not contain a port number`);
@@ -234,11 +62,140 @@ function onion32bytes(str) {
     const portBuf = port2bytes(port);
     return uint8ArrayConcat([buf, portBuf], buf.length + portBuf.length);
 }
-function bytes2onion(buf) {
-    const addrBytes = buf.slice(0, buf.length - 2);
-    const portBytes = buf.slice(buf.length - 2);
+export function bytes2onion(buf) {
+    const addrBytes = buf.subarray(0, buf.length - 2);
+    const portBytes = buf.subarray(buf.length - 2);
     const addr = uint8ArrayToString(addrBytes, 'base32');
     const port = bytes2port(portBytes);
     return `${addr}:${port}`;
 }
+// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L7
+// but with buf/offset args removed because we don't use them
+export const ip4ToBytes = function (ip) {
+    ip = ip.toString().trim();
+    const bytes = new Uint8Array(4);
+    ip.split(/\./g).forEach((byte, index) => {
+        const value = parseInt(byte, 10);
+        if (isNaN(value) || value < 0 || value > 0xff) {
+            throw new InvalidMultiaddrError('Invalid byte value in IP address');
+        }
+        bytes[index] = value;
+    });
+    return bytes;
+};
+// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L7
+// but with buf/offset args removed because we don't use them
+export const ip6ToBytes = function (ip) {
+    let offset = 0;
+    ip = ip.toString().trim();
+    const sections = ip.split(':', 8);
+    let i;
+    for (i = 0; i < sections.length; i++) {
+        const isv4 = isIPv4(sections[i]);
+        let v4Buffer;
+        if (isv4) {
+            v4Buffer = ip4ToBytes(sections[i]);
+            sections[i] = uint8ArrayToString(v4Buffer.subarray(0, 2), 'base16');
+        }
+        if (v4Buffer != null && ++i < 8) {
+            sections.splice(i, 0, uint8ArrayToString(v4Buffer.subarray(2, 4), 'base16'));
+        }
+    }
+    if (sections[0] === '') {
+        while (sections.length < 8) {
+            sections.unshift('0');
+        }
+    }
+    else if (sections[sections.length - 1] === '') {
+        while (sections.length < 8) {
+            sections.push('0');
+        }
+    }
+    else if (sections.length < 8) {
+        for (i = 0; i < sections.length && sections[i] !== ''; i++) { }
+        const argv = [i, 1];
+        for (i = 9 - sections.length; i > 0; i--) {
+            argv.push('0');
+        }
+        sections.splice.apply(sections, argv);
+    }
+    const bytes = new Uint8Array(offset + 16);
+    for (i = 0; i < sections.length; i++) {
+        if (sections[i] === '') {
+            sections[i] = '0';
+        }
+        const word = parseInt(sections[i], 16);
+        if (isNaN(word) || word < 0 || word > 0xffff) {
+            throw new InvalidMultiaddrError('Invalid byte value in IP address');
+        }
+        bytes[offset++] = (word >> 8) & 0xff;
+        bytes[offset++] = word & 0xff;
+    }
+    return bytes;
+};
+// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L63
+export const ip4ToString = function (buf) {
+    if (buf.byteLength !== 4) {
+        throw new InvalidMultiaddrError('IPv4 address was incorrect length');
+    }
+    const result = [];
+    for (let i = 0; i < buf.byteLength; i++) {
+        result.push(buf[i]);
+    }
+    return result.join('.');
+};
+export const ip6ToString = function (buf) {
+    if (buf.byteLength !== 16) {
+        throw new InvalidMultiaddrError('IPv6 address was incorrect length');
+    }
+    const result = [];
+    for (let i = 0; i < buf.byteLength; i += 2) {
+        result.push(`${buf[i].toString(16)}${buf[i + 1].toString(16).padStart(2, '0')}`
+            .replace(/^(0+)/, ''));
+    }
+    return result.join(':')
+        .replace(/:(:)+/, '::');
+};
+export function ip6StringToValue(str) {
+    let parts = str.split(':');
+    parts = parts.map((str, index) => {
+        if (index === parts.length - 1 && isIPv4(str)) {
+            const bytes = str.split('.');
+            return `${parseInt(bytes[0], 10).toString(16)}${parseInt(bytes[1], 10).toString(16).padStart(2, '0')}:${parseInt(bytes[2], 10).toString(16)}${parseInt(bytes[3], 10).toString(16).padStart(2, '0')}`;
+        }
+        return str.replace(/^(0+)/, '');
+    });
+    return `${parts.join(':')}`
+        .replace(/:(:)+/, '::');
+}
+const decoders = Object.values(bases).map((c) => c.decoder);
+const anybaseDecoder = (function () {
+    let acc = decoders[0].or(decoders[1]);
+    decoders.slice(2).forEach((d) => (acc = acc.or(d)));
+    return acc;
+})();
+export function mb2bytes(mbstr) {
+    return anybaseDecoder.decode(mbstr);
+}
+export function bytes2mb(base) {
+    return (buf) => {
+        return base.encoder.encode(buf);
+    };
+}
+export function convertToIpNet(multiaddr) {
+    let mask;
+    let addr;
+    multiaddr.getComponents().forEach(component => {
+        if (component.name === 'ip4' || component.name === 'ip6') {
+            addr = component.value;
+        }
+        if (component.name === 'ipcidr') {
+            mask = component.value;
+        }
+    });
+    if (mask == null || addr == null) {
+        throw new Error('Invalid multiaddr');
+    }
+    return new IpNet(addr, mask);
+}
 //# sourceMappingURL=convert.js.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/convert.js.map b/node_modules/@multiformats/multiaddr/dist/src/convert.js.map
index d9df598..122113c 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/convert.js.map
+++ b/node_modules/@multiformats/multiaddr/dist/src/convert.js.map
@@ -1 +1 @@
-{"version":3,"file":"convert.js","sourceRoot":"","sources":["../../src/convert.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"convert.js","sourceRoot":"","sources":["../../src/convert.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/errors.d.ts b/node_modules/@multiformats/multiaddr/dist/src/errors.d.ts
new file mode 100644
index 0000000..d0aa3ad
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/errors.d.ts
@@ -0,0 +1,20 @@
+/**
+ * Thrown when an invalid multiaddr is encountered
+ */
+export declare class InvalidMultiaddrError extends Error {
+    static name: string;
+    name: string;
+}
+export declare class ValidationError extends Error {
+    static name: string;
+    name: string;
+}
+export declare class InvalidParametersError extends Error {
+    static name: string;
+    name: string;
+}
+export declare class InvalidProtocolError extends Error {
+    static name: string;
+    name: string;
+}
+//# sourceMappingURL=errors.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/errors.d.ts.map b/node_modules/@multiformats/multiaddr/dist/src/errors.d.ts.map
new file mode 100644
index 0000000..863c6d4
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/errors.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"errors.d.ts","sourceRoot":"","sources":["../../src/errors.ts"],"names":[],"mappings":"AAAA;;GAEG;AACH,qBAAa,qBAAsB,SAAQ,KAAK;IAC9C,MAAM,CAAC,IAAI,SAA0B;IACrC,IAAI,SAA0B;CAC/B;AAED,qBAAa,eAAgB,SAAQ,KAAK;IACxC,MAAM,CAAC,IAAI,SAAoB;IAC/B,IAAI,SAAoB;CACzB;AAED,qBAAa,sBAAuB,SAAQ,KAAK;IAC/C,MAAM,CAAC,IAAI,SAA2B;IACtC,IAAI,SAA2B;CAChC;AAED,qBAAa,oBAAqB,SAAQ,KAAK;IAC7C,MAAM,CAAC,IAAI,SAAyB;IACpC,IAAI,SAAyB;CAC9B"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/errors.js b/node_modules/@multiformats/multiaddr/dist/src/errors.js
new file mode 100644
index 0000000..9e8cf1d
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/errors.js
@@ -0,0 +1,20 @@
+/**
+ * Thrown when an invalid multiaddr is encountered
+ */
+export class InvalidMultiaddrError extends Error {
+    static name = 'InvalidMultiaddrError';
+    name = 'InvalidMultiaddrError';
+}
+export class ValidationError extends Error {
+    static name = 'ValidationError';
+    name = 'ValidationError';
+}
+export class InvalidParametersError extends Error {
+    static name = 'InvalidParametersError';
+    name = 'InvalidParametersError';
+}
+export class InvalidProtocolError extends Error {
+    static name = 'InvalidProtocolError';
+    name = 'InvalidProtocolError';
+}
+//# sourceMappingURL=errors.js.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/errors.js.map b/node_modules/@multiformats/multiaddr/dist/src/errors.js.map
new file mode 100644
index 0000000..5370362
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/errors.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"errors.js","sourceRoot":"","sources":["../../src/errors.ts"],"names":[],"mappings":"AAAA;;GAEG;AACH,MAAM,OAAO,qBAAsB,SAAQ,KAAK;IAC9C,MAAM,CAAC,IAAI,GAAG,uBAAuB,CAAA;IACrC,IAAI,GAAG,uBAAuB,CAAA;;AAGhC,MAAM,OAAO,eAAgB,SAAQ,KAAK;IACxC,MAAM,CAAC,IAAI,GAAG,iBAAiB,CAAA;IAC/B,IAAI,GAAG,iBAAiB,CAAA;;AAG1B,MAAM,OAAO,sBAAuB,SAAQ,KAAK;IAC/C,MAAM,CAAC,IAAI,GAAG,wBAAwB,CAAA;IACtC,IAAI,GAAG,wBAAwB,CAAA;;AAGjC,MAAM,OAAO,oBAAqB,SAAQ,KAAK;IAC7C,MAAM,CAAC,IAAI,GAAG,sBAAsB,CAAA;IACpC,IAAI,GAAG,sBAAsB,CAAA"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/index.d.ts b/node_modules/@multiformats/multiaddr/dist/src/index.d.ts
index 11de59a..6f6e6ed 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/index.d.ts
+++ b/node_modules/@multiformats/multiaddr/dist/src/index.d.ts
@@ -92,11 +92,13 @@
  * // [Multiaddr('/ip4/147.75...'), Multiaddr('/ip4/147.75...'), Multiaddr('/ip4/147.75...')...]
  * ```
  */
-import { getProtocol } from './protocols-table.js';
 import type { Resolver } from './resolvers/index.js';
 import type { DNS } from '@multiformats/dns';
+import type { AbortOptions } from 'abort-error';
 /**
  * Protocols are present in the protocol table
+ *
+ * @deprecated
  */
 export interface Protocol {
     code: number;
@@ -125,27 +127,36 @@ export interface NodeAddress {
 /**
  * These types can be parsed into a {@link Multiaddr} object
  */
-export type MultiaddrInput = string | Multiaddr | Uint8Array | null;
+export type MultiaddrInput = string | Multiaddr | Uint8Array | null | Component[];
 /**
  * A code/value pair
+ *
+ * @deprecated Use Component instead
  */
 export type Tuple = [number, Uint8Array?];
 /**
  * A code/value pair with the value as a string
+ *
+ * @deprecated Use Component instead
  */
 export type StringTuple = [number, string?];
 /**
  * Allows aborting long-lived operations
+ *
+ * @deprecated Import from `abort-error` instead
  */
-export interface AbortOptions {
-    signal?: AbortSignal;
-}
+export type { AbortOptions };
 /**
  * All configured {@link Resolver}s
+ *
+ * @deprecated DNS resolving will be removed in a future release
  */
 export declare const resolvers: Map<string, Resolver<AbortOptions>>;
 export type { Resolver };
 export { MultiaddrFilter } from './filter/multiaddr-filter.js';
+/**
+ * @deprecated DNS resolving will be removed in a future release
+ */
 export interface ResolveOptions extends AbortOptions {
     /**
      * An optional DNS resolver
@@ -159,6 +170,33 @@ export interface ResolveOptions extends AbortOptions {
      */
     maxRecursiveDepth?: number;
 }
+/**
+ * A Component is a section of a multiaddr with a name/code, possibly with a
+ * value.
+ *
+ * Component names/codes are defined in the protocol table.
+ *
+ * @see https://github.com/multiformats/multiaddr/blob/master/protocols.csv
+ */
+export interface Component {
+    /**
+     * The code of the component as defined in the protocol table
+     */
+    code: number;
+    /**
+     * The name of the component as defined in the protocol table
+     */
+    name: string;
+    /**
+     * The component value, if one is present
+     */
+    value?: string;
+    /**
+     * The bytes that make up the component. This will be set if the multiaddr
+     * was parsed from a `Uint8Array`, or if `.bytes` has been accessed on it.
+     */
+    bytes?: Uint8Array;
+}
 export interface Multiaddr {
     bytes: Uint8Array;
     /**
@@ -186,7 +224,20 @@ export interface Multiaddr {
      */
     toJSON(): string;
     /**
-     * Returns Multiaddr as a convinient options object to be used with net.createConnection
+     * Returns the components that make up this Multiaddr
+     *
+     * @example
+     * ```ts
+     * import { multiaddr } from '@multiformats/multiaddr'
+     *
+     * multiaddr('/ip4/127.0.0.1/tcp/4001').getComponents()
+     * // [{ name: 'ip4', code: 4, value: '127.0.0.1' }, { name: 'tcp', code: 6, value: '4001' }]
+     * ```
+     */
+    getComponents(): Component[];
+    /**
+     * Returns Multiaddr as a convenient options object to be used with
+     * `createConnection` from `node:net`
      *
      * @example
      * ```js
@@ -198,9 +249,9 @@ export interface Multiaddr {
      */
     toOptions(): MultiaddrObject;
     /**
-     * Returns the protocols the Multiaddr is defined with, as an array of objects, in
-     * left-to-right order. Each object contains the protocol code, protocol name,
-     * and the size of its address space in bits.
+     * Returns the protocols the Multiaddr is defined with, as an array of
+     * objects, in left-to-right order. Each object contains the protocol code,
+     * protocol name, and the size of its address space in bits.
      * [See list of protocols](https://github.com/multiformats/multiaddr/blob/master/protocols.csv)
      *
      * @example
@@ -211,6 +262,8 @@ export interface Multiaddr {
      * // [ { code: 4, size: 32, name: 'ip4' },
      * //   { code: 6, size: 16, name: 'tcp' } ]
      * ```
+     *
+     * @deprecated Use `getComponents()` instead
      */
     protos(): Protocol[];
     /**
@@ -224,6 +277,8 @@ export interface Multiaddr {
      * multiaddr('/ip4/127.0.0.1/tcp/4001').protoCodes()
      * // [ 4, 6 ]
      * ```
+     *
+     * @deprecated Use `getComponents()` instead
      */
     protoCodes(): number[];
     /**
@@ -237,6 +292,8 @@ export interface Multiaddr {
      * multiaddr('/ip4/127.0.0.1/tcp/4001').protoNames()
      * // [ 'ip4', 'tcp' ]
      * ```
+     *
+     * @deprecated Use `getComponents()` instead
      */
     protoNames(): string[];
     /**
@@ -249,6 +306,8 @@ export interface Multiaddr {
      * multiaddr('/ip4/127.0.0.1/tcp/4001').tuples()
      * // [ [ 4, <Buffer 7f 00 00 01> ], [ 6, <Buffer 0f a1> ] ]
      * ```
+     *
+     * @deprecated Use `getComponents()` instead
      */
     tuples(): Tuple[];
     /**
@@ -263,6 +322,8 @@ export interface Multiaddr {
      * multiaddr('/ip4/127.0.0.1/tcp/4001').stringTuples()
      * // [ [ 4, '127.0.0.1' ], [ 6, '4001' ] ]
      * ```
+     *
+     * @deprecated Use `getComponents()` instead
      */
     stringTuples(): StringTuple[];
     /**
@@ -312,8 +373,8 @@ export interface Multiaddr {
      */
     decapsulate(addr: Multiaddr | string): Multiaddr;
     /**
-     * A more reliable version of `decapsulate` if you are targeting a
-     * specific code, such as 421 (the `p2p` protocol code). The last index of the code
+     * A more reliable version of `decapsulate` if you are targeting a specific
+     * code, such as 421 (the `p2p` protocol code). The last index of the code
      * will be removed from the `Multiaddr`, and a new instance will be returned.
      * If the code is not present, the original `Multiaddr` is returned.
      *
@@ -345,6 +406,8 @@ export interface Multiaddr {
      * // should return QmValidBase58string or null if the id is missing or invalid
      * const peerId = mh1.getPeerId()
      * ```
+     *
+     * @deprecated A multiaddr can contain multiple PeerIds, use stringTuples() to get a specific one
      */
     getPeerId(): string | null;
     /**
@@ -360,6 +423,8 @@ export interface Multiaddr {
      * // should return utf8 string or null if the id is missing or invalid
      * const path = mh1.getPath()
      * ```
+     *
+     * @deprecated A multiaddr can contain multiple tuples that could be interpreted as paths, use stringTuples() to get a specific one
      */
     getPath(): string | null;
     /**
@@ -401,12 +466,14 @@ export interface Multiaddr {
      * //   Multiaddr(/ip4/147.75.83.83/udp/4001/quic/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb)
      * // ]
      * ```
+     *
+     * @deprecated If you need to resolve `dnsaddr` addresses, use `getComponents()` to extract them and perform the resolution yourself
      */
     resolve(options?: ResolveOptions): Promise<Multiaddr[]>;
     /**
-     * Gets a Multiaddrs node-friendly address object. Note that protocol information
-     * is left out: in Node (and most network systems) the protocol is unknowable
-     * given only the address.
+     * Gets a Multiaddrs node-friendly address object. Note that protocol
+     * information is left out: in Node (and most network systems) the protocol is
+     * unknowable given only the address.
      *
      * Has to be a ThinWaist Address, otherwise throws error
      *
@@ -542,5 +609,34 @@ export declare function isMultiaddr(value: any): value is Multiaddr;
  * @param {MultiaddrInput} [addr] - If String or Uint8Array, needs to adhere to the address format of a [multiaddr](https://github.com/multiformats/multiaddr#string-format)
  */
 export declare function multiaddr(addr?: MultiaddrInput): Multiaddr;
-export { getProtocol as protocols };
+/**
+ * For the passed proto string or number, return a {@link Protocol}
+ *
+ * @example
+ *
+ * ```js
+ * import { protocol } from '@multiformats/multiaddr'
+ *
+ * console.info(protocol(4))
+ * // { code: 4, size: 32, name: 'ip4', resolvable: false, path: false }
+ * ```
+ *
+ * @deprecated This will be removed in a future version
+ */
+export declare function protocols(proto: number | string): Protocol;
+/**
+ * Ensures all multiaddr tuples are correct. Throws if any contain invalid
+ * values.
+ *
+ * @example
+ *
+ * ```ts
+ * import { multiaddr, validate } from '@multiformats/multiaddr'
+ *
+ * const ma = multiaddr('/ip4/123.123.123.123/tcp/1234')
+ *
+ * validate(ma) // ok!
+ * ```
+ */
+export { validate } from './multiaddr.ts';
 //# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/index.d.ts.map b/node_modules/@multiformats/multiaddr/dist/src/index.d.ts.map
index b03438d..2917319 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/index.d.ts.map
+++ b/node_modules/@multiformats/multiaddr/dist/src/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/index.js b/node_modules/@multiformats/multiaddr/dist/src/index.js
index 4a9533c..2181cbf 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/index.js
+++ b/node_modules/@multiformats/multiaddr/dist/src/index.js
@@ -92,11 +92,14 @@
  * // [Multiaddr('/ip4/147.75...'), Multiaddr('/ip4/147.75...'), Multiaddr('/ip4/147.75...')...]
  * ```
  */
-import { stringTuplesToTuples, tuplesToBytes } from './codec.js';
+import { toString as uint8ArrayToString } from 'uint8arrays/to-string';
+import { InvalidParametersError } from "./errors.js";
 import { Multiaddr as MultiaddrClass, symbol } from './multiaddr.js';
-import { getProtocol } from './protocols-table.js';
+import { registry } from "./registry.js";
 /**
  * All configured {@link Resolver}s
+ *
+ * @deprecated DNS resolving will be removed in a future release
  */
 export const resolvers = new Map();
 export { MultiaddrFilter } from './filter/multiaddr-filter.js';
@@ -113,10 +116,10 @@ export { MultiaddrFilter } from './filter/multiaddr-filter.js';
  */
 export function fromNodeAddress(addr, transport) {
     if (addr == null) {
-        throw new Error('requires node address object');
+        throw new InvalidParametersError('requires node address object');
     }
     if (transport == null) {
-        throw new Error('requires transport protocol');
+        throw new InvalidParametersError('requires transport protocol');
     }
     let ip;
     let host = addr.address;
@@ -133,7 +136,7 @@ export function fromNodeAddress(addr, transport) {
                 }
                 host = parts[0];
                 const zone = parts[1];
-                ip = `/ip6zone/${zone}/ip6`;
+                ip = `ip6zone/${zone}/ip6`;
             }
             break;
         default:
@@ -159,7 +162,17 @@ export function fromNodeAddress(addr, transport) {
  * ```
  */
 export function fromTuples(tuples) {
-    return multiaddr(tuplesToBytes(tuples));
+    return multiaddr(tuples.map(([code, value]) => {
+        const codec = registry.getCodec(code);
+        const component = {
+            code,
+            name: codec.name
+        };
+        if (value != null) {
+            component.value = codec.bytesToValue?.(value) ?? uint8ArrayToString(value);
+        }
+        return component;
+    }));
 }
 /**
  * Create a {@link Multiaddr} from an array of {@link StringTuple}s
@@ -179,7 +192,17 @@ export function fromTuples(tuples) {
  * ```
  */
 export function fromStringTuples(tuples) {
-    return fromTuples(stringTuplesToTuples(tuples));
+    return multiaddr(tuples.map(([code, value]) => {
+        const codec = registry.getCodec(code);
+        const component = {
+            code,
+            name: codec.name
+        };
+        if (value != null) {
+            component.value = value;
+        }
+        return component;
+    }));
 }
 /**
  * Returns if something is a {@link Multiaddr} that is a resolvable name
@@ -235,5 +258,43 @@ export function isMultiaddr(value) {
 export function multiaddr(addr) {
     return new MultiaddrClass(addr);
 }
-export { getProtocol as protocols };
+/**
+ * For the passed proto string or number, return a {@link Protocol}
+ *
+ * @example
+ *
+ * ```js
+ * import { protocol } from '@multiformats/multiaddr'
+ *
+ * console.info(protocol(4))
+ * // { code: 4, size: 32, name: 'ip4', resolvable: false, path: false }
+ * ```
+ *
+ * @deprecated This will be removed in a future version
+ */
+export function protocols(proto) {
+    const codec = registry.getCodec(proto);
+    return {
+        code: codec.code,
+        size: codec.size ?? 0,
+        name: codec.name,
+        resolvable: Boolean(codec.resolvable),
+        path: Boolean(codec.path)
+    };
+}
+/**
+ * Ensures all multiaddr tuples are correct. Throws if any contain invalid
+ * values.
+ *
+ * @example
+ *
+ * ```ts
+ * import { multiaddr, validate } from '@multiformats/multiaddr'
+ *
+ * const ma = multiaddr('/ip4/123.123.123.123/tcp/1234')
+ *
+ * validate(ma) // ok!
+ * ```
+ */
+export { validate } from "./multiaddr.js";
 //# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/index.js.map b/node_modules/@multiformats/multiaddr/dist/src/index.js.map
index 82aab94..492218c 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/index.js.map
+++ b/node_modules/@multiformats/multiaddr/dist/src/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA6FG;AAEH,OAAO,EAAE,oBAAoB,EAAE,aAAa,EAAE,MAAM,YAAY,CAAA;AAChE,OAAO,EAAE,SAAS,IAAI,cAAc,EAAE,MAAM,EAAE,MAAM,gBAAgB,CAAA;AACpE,OAAO,EAAE,WAAW,EAAE,MAAM,sBAAsB,CAAA;AAwDlD;;GAEG;AACH,MAAM,CAAC,MAAM,SAAS,GAAG,IAAI,GAAG,EAAoB,CAAA;AAIpD,OAAO,EAAE,eAAe,EAAE,MAAM,8BAA8B,CAAA;AAoU9D;;;;;;;;;;GAUG;AACH,MAAM,UAAU,eAAe,CAAE,IAAiB,EAAE,SAAiB;IACnE,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC;QACjB,MAAM,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAA;IACjD,CAAC;IACD,IAAI,SAAS,IAAI,IAAI,EAAE,CAAC;QACtB,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAA;IAChD,CAAC;IACD,IAAI,EAAsB,CAAA;IAC1B,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAA;IACvB,QAAQ,IAAI,CAAC,MAAM,EAAE,CAAC;QACpB,KAAK,CAAC;YACJ,EAAE,GAAG,KAAK,CAAA;YACV,MAAK;QACP,KAAK,CAAC;YACJ,EAAE,GAAG,KAAK,CAAA;YAEV,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC;gBACvB,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;gBAE7B,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;oBACvB,MAAM,KAAK,CAAC,iCAAiC,CAAC,CAAA;gBAChD,CAAC;gBAED,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAA;gBACf,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAA;gBACrB,EAAE,GAAG,YAAY,IAAI,MAAM,CAAA;YAC7B,CAAC;YACD,MAAK;QACP;YACE,MAAM,KAAK,CAAC,wCAAwC,CAAC,CAAA;IACzD,CAAC;IACD,OAAO,IAAI,cAAc,CAAC,GAAG,GAAG,CAAC,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAA;AAC7E,CAAC;AAED;;;;;;;;;;;;;;;;GAgBG;AACH,MAAM,UAAU,UAAU,CAAE,MAAe;IACzC,OAAO,SAAS,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAA;AACzC,CAAC;AAED;;;;;;;;;;;;;;;;GAgBG;AACH,MAAM,UAAU,gBAAgB,CAAE,MAAqB;IACrD,OAAO,UAAU,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAA;AACjD,CAAC;AAED;;;;;;;;;;;;;GAaG;AACH,MAAM,UAAU,MAAM,CAAE,IAAe;IACrC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;QACvB,OAAO,KAAK,CAAA;IACd,CAAC;IAED,6DAA6D;IAC7D,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC,CAAA;AACxD,CAAC;AAED;;;;;;;;;;;;;GAaG;AACH,MAAM,UAAU,WAAW,CAAE,KAAU;IACrC,OAAO,OAAO,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,CAAC,CAAA;AACjC,CAAC;AAED;;;;;;;;;;;;GAYG;AACH,MAAM,UAAU,SAAS,CAAE,IAAqB;IAC9C,OAAO,IAAI,cAAc,CAAC,IAAI,CAAC,CAAA;AACjC,CAAC;AAED,OAAO,EAAE,WAAW,IAAI,SAAS,EAAE,CAAA"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/ip.js b/node_modules/@multiformats/multiaddr/dist/src/ip.js
index 8f987c8..739c23a 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/ip.js
+++ b/node_modules/@multiformats/multiaddr/dist/src/ip.js
@@ -23,10 +23,10 @@ export const toBytes = function (ip) {
             let v4Buffer;
             if (isv4) {
                 v4Buffer = toBytes(sections[i]);
-                sections[i] = uint8ArrayToString(v4Buffer.slice(0, 2), 'base16');
+                sections[i] = uint8ArrayToString(v4Buffer.subarray(0, 2), 'base16');
             }
             if (v4Buffer != null && ++i < 8) {
-                sections.splice(i, 0, uint8ArrayToString(v4Buffer.slice(2, 4), 'base16'));
+                sections.splice(i, 0, uint8ArrayToString(v4Buffer.subarray(2, 4), 'base16'));
             }
         }
         if (sections[0] === '') {
diff --git a/node_modules/@multiformats/multiaddr/dist/src/ip.js.map b/node_modules/@multiformats/multiaddr/dist/src/ip.js.map
index d56ccff..fa00dc9 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/ip.js.map
+++ b/node_modules/@multiformats/multiaddr/dist/src/ip.js.map
@@ -1 +1 @@
-{"version":3,"file":"ip.js","sourceRoot":"","sources":["../../src/ip.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,kBAAkB,CAAA;AACjD,OAAO,EAAE,QAAQ,IAAI,kBAAkB,EAAE,MAAM,uBAAuB,CAAA;AAEtE,OAAO,EAAE,IAAI,EAAE,MAAM,kBAAkB,CAAA;AACvC,MAAM,CAAC,MAAM,IAAI,GAAG,MAAM,CAAA;AAC1B,MAAM,CAAC,MAAM,IAAI,GAAG,MAAM,CAAA;AAE1B,0EAA0E;AAC1E,6DAA6D;AAC7D,MAAM,CAAC,MAAM,OAAO,GAAG,UAAU,EAAU;IACzC,IAAI,MAAM,GAAG,CAAC,CAAA;IACd,EAAE,GAAG,EAAE,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAA;IAEzB,IAAI,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC;QACb,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA;QAExC,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;YAC/B,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,GAAG,IAAI,CAAA;QAC7C,CAAC,CAAC,CAAA;QAEF,OAAO,KAAK,CAAA;IACd,CAAC;IAED,IAAI,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC;QACb,MAAM,QAAQ,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAA;QAEjC,IAAI,CAAC,CAAA;QACL,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACrC,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA;YAC9B,IAAI,QAAgC,CAAA;YAEpC,IAAI,IAAI,EAAE,CAAC;gBACT,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA;gBAC/B,QAAQ,CAAC,CAAC,CAAC,GAAG,kBAAkB,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAA;YAClE,CAAC;YAED,IAAI,QAAQ,IAAI,IAAI,IAAI,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC;gBAChC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,kBAAkB,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAA;YAC3E,CAAC;QACH,CAAC;QAED,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC;YACvB,OAAO,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;YAAC,CAAC;QACvD,CAAC;aAAM,IAAI,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC;YAChD,OAAO,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;YAAC,CAAC;QACpD,CAAC;aAAM,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YAC/B,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;YAC/D,MAAM,IAAI,GAAkC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;YAClD,KAAK,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;gBACzC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;YAChB,CAAC;YACD,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAA;QACvC,CAAC;QAED,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,MAAM,GAAG,EAAE,CAAC,CAAA;QAEzC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACrC,MAAM,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAA;YACtC,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,GAAG,IAAI,CAAA;YACpC,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,IAAI,GAAG,IAAI,CAAA;QAC/B,CAAC;QAED,OAAO,KAAK,CAAA;IACd,CAAC;IAED,MAAM,IAAI,KAAK,CAAC,oBAAoB,CAAC,CAAA;AACvC,CAAC,CAAA;AAED,2EAA2E;AAC3E,MAAM,CAAC,MAAM,QAAQ,GAAG,UAAU,GAAe,EAAE,SAAiB,CAAC,EAAE,MAAe;IACpF,MAAM,GAAG,CAAC,CAAC,MAAM,CAAA;IACjB,MAAM,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,CAAA;IAExC,MAAM,IAAI,GAAG,IAAI,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;IAErC,IAAI,MAAM,KAAK,CAAC,EAAE,CAAC;QACjB,MAAM,MAAM,GAAG,EAAE,CAAA;QAEjB,OAAO;QACP,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAChC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAA;QAC9B,CAAC;QAED,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;IACzB,CAAC;IAED,IAAI,MAAM,KAAK,EAAE,EAAE,CAAC;QAClB,MAAM,MAAM,GAAG,EAAE,CAAA;QAEjB,OAAO;QACP,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC;YACnC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAA;QACtD,CAAC;QAED,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;aACpB,OAAO,CAAC,oBAAoB,EAAE,QAAQ,CAAC;aACvC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAA;IAC5B,CAAC;IAED,OAAO,EAAE,CAAA;AACX,CAAC,CAAA"}
\ No newline at end of file
+{"version":3,"file":"ip.js","sourceRoot":"","sources":["../../src/ip.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/multiaddr.d.ts b/node_modules/@multiformats/multiaddr/dist/src/multiaddr.d.ts
index 2374db5..f2bc492 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/multiaddr.d.ts
+++ b/node_modules/@multiformats/multiaddr/dist/src/multiaddr.d.ts
@@ -1,4 +1,4 @@
-import type { MultiaddrInput, Multiaddr as MultiaddrInterface, MultiaddrObject, Protocol, NodeAddress, ResolveOptions } from './index.js';
+import type { MultiaddrInput, Multiaddr as MultiaddrInterface, MultiaddrObject, Protocol, Tuple, NodeAddress, ResolveOptions, Component } from './index.js';
 declare const inspect: unique symbol;
 export declare const symbol: unique symbol;
 /**
@@ -6,19 +6,20 @@ export declare const symbol: unique symbol;
  */
 export declare class Multiaddr implements MultiaddrInterface {
     #private;
-    bytes: Uint8Array;
     [symbol]: boolean;
-    constructor(addr?: MultiaddrInput);
+    constructor(addr?: MultiaddrInput | Component[]);
+    get bytes(): Uint8Array;
     toString(): string;
     toJSON(): string;
     toOptions(): MultiaddrObject;
+    getComponents(): Component[];
     protos(): Protocol[];
     protoCodes(): number[];
     protoNames(): string[];
-    tuples(): Array<[number, Uint8Array?]>;
+    tuples(): Tuple[];
     stringTuples(): Array<[number, string?]>;
-    encapsulate(addr: MultiaddrInput): Multiaddr;
-    decapsulate(addr: Multiaddr | string): Multiaddr;
+    encapsulate(addr: MultiaddrInput): MultiaddrInterface;
+    decapsulate(addr: Multiaddr | string): MultiaddrInterface;
     decapsulateCode(code: number): Multiaddr;
     getPeerId(): string | null;
     getPath(): string | null;
@@ -27,7 +28,7 @@ export declare class Multiaddr implements MultiaddrInterface {
     }): boolean;
     resolve(options?: ResolveOptions): Promise<MultiaddrInterface[]>;
     nodeAddress(): NodeAddress;
-    isThinWaistAddress(addr?: Multiaddr): boolean;
+    isThinWaistAddress(): boolean;
     /**
      * Returns Multiaddr as a human-readable string
      * https://nodejs.org/api/util.html#utilinspectcustom
@@ -42,5 +43,10 @@ export declare class Multiaddr implements MultiaddrInterface {
      */
     [inspect](): string;
 }
+/**
+ * Ensures all multiaddr tuples are correct. Throws if any invalid protocols or
+ * values are encountered.
+ */
+export declare function validate(addr: Multiaddr): void;
 export {};
 //# sourceMappingURL=multiaddr.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/multiaddr.d.ts.map b/node_modules/@multiformats/multiaddr/dist/src/multiaddr.d.ts.map
index a2ab1c2..6f6604e 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/multiaddr.d.ts.map
+++ b/node_modules/@multiformats/multiaddr/dist/src/multiaddr.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"multiaddr.d.ts","sourceRoot":"","sources":["../../src/multiaddr.ts"],"names":[],"mappings":"AASA,OAAO,KAAK,EAAE,cAAc,EAAE,SAAS,IAAI,kBAAkB,EAAE,eAAe,EAAE,QAAQ,EAAsB,WAAW,EAAE,cAAc,EAAE,MAAM,YAAY,CAAA;AAE7J,QAAA,MAAM,OAAO,eAA2C,CAAA;AACxD,eAAO,MAAM,MAAM,eAAqD,CAAA;AAgBxE;;GAEG;AACH,qBAAa,SAAU,YAAW,kBAAkB;;IAC3C,KAAK,EAAE,UAAU,CAAA;IAMxB,CAAC,MAAM,CAAC,EAAE,OAAO,CAAO;gBAEX,IAAI,CAAC,EAAE,cAAc;IA2BlC,QAAQ,IAAK,MAAM;IAInB,MAAM,IAAK,MAAM;IAIjB,SAAS,IAAK,eAAe;IAqD7B,MAAM,IAAK,QAAQ,EAAE;IAIrB,UAAU,IAAK,MAAM,EAAE;IAIvB,UAAU,IAAK,MAAM,EAAE;IAIvB,MAAM,IAAK,KAAK,CAAC,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC,CAAC;IAUvC,YAAY,IAAK,KAAK,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;IAUzC,WAAW,CAAE,IAAI,EAAE,cAAc,GAAG,SAAS;IAK7C,WAAW,CAAE,IAAI,EAAE,SAAS,GAAG,MAAM,GAAG,SAAS;IAUjD,eAAe,CAAE,IAAI,EAAE,MAAM,GAAG,SAAS;IAUzC,SAAS,IAAK,MAAM,GAAG,IAAI;IAqC3B,OAAO,IAAK,MAAM,GAAG,IAAI;IAIzB,MAAM,CAAE,IAAI,EAAE;QAAE,KAAK,EAAE,UAAU,CAAA;KAAE,GAAG,OAAO;IAIvC,OAAO,CAAE,OAAO,CAAC,EAAE,cAAc,GAAG,OAAO,CAAC,kBAAkB,EAAE,CAAC;IAkBvE,WAAW,IAAK,WAAW;IAc3B,kBAAkB,CAAE,IAAI,CAAC,EAAE,SAAS,GAAG,OAAO;IAgB9C;;;;;;;;;;;OAWG;IACH,CAAC,OAAO,CAAC,IAAK,MAAM;CAGrB"}
\ No newline at end of file
+{"version":3,"file":"multiaddr.d.ts","sourceRoot":"","sources":["../../src/multiaddr.ts"],"names":[],"mappings":"AAUA,OAAO,KAAK,EAAE,cAAc,EAAE,SAAS,IAAI,kBAAkB,EAAE,eAAe,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,cAAc,EAAE,SAAS,EAAE,MAAM,YAAY,CAAA;AAE3J,QAAA,MAAM,OAAO,eAA2C,CAAA;AACxD,eAAO,MAAM,MAAM,eAAwC,CAAA;AAgD3D;;GAEG;AACH,qBAAa,SAAU,YAAW,kBAAkB;;IAClD,CAAC,MAAM,CAAC,EAAE,OAAO,CAAO;gBAMX,IAAI,GAAE,cAAc,GAAG,SAAS,EAAQ;IAIrD,IAAI,KAAK,IAAK,UAAU,CAMvB;IAED,QAAQ,IAAK,MAAM;IAQnB,MAAM,IAAK,MAAM;IAIjB,SAAS,IAAK,eAAe;IA8C7B,aAAa,IAAK,SAAS,EAAE;IAM7B,MAAM,IAAK,QAAQ,EAAE;IAcrB,UAAU,IAAK,MAAM,EAAE;IAIvB,UAAU,IAAK,MAAM,EAAE;IAIvB,MAAM,IAAK,KAAK,EAAE;IAiBlB,YAAY,IAAK,KAAK,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;IAUzC,WAAW,CAAE,IAAI,EAAE,cAAc,GAAG,kBAAkB;IAStD,WAAW,CAAE,IAAI,EAAE,SAAS,GAAG,MAAM,GAAG,kBAAkB;IAY1D,eAAe,CAAE,IAAI,EAAE,MAAM,GAAG,SAAS;IAazC,SAAS,IAAK,MAAM,GAAG,IAAI;IAqC3B,OAAO,IAAK,MAAM,GAAG,IAAI;IAczB,MAAM,CAAE,IAAI,EAAE;QAAE,KAAK,EAAE,UAAU,CAAA;KAAE,GAAG,OAAO;IAIvC,OAAO,CAAE,OAAO,CAAC,EAAE,cAAc,GAAG,OAAO,CAAC,kBAAkB,EAAE,CAAC;IAkBvE,WAAW,IAAK,WAAW;IAc3B,kBAAkB,IAAK,OAAO;IAgB9B;;;;;;;;;;;OAWG;IACH,CAAC,OAAO,CAAC,IAAK,MAAM;CAGrB;AAED;;;GAGG;AACH,wBAAgB,QAAQ,CAAE,IAAI,EAAE,SAAS,GAAG,IAAI,CAW/C"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/multiaddr.js b/node_modules/@multiformats/multiaddr/dist/src/multiaddr.js
index c8c5e49..6b8965e 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/multiaddr.js
+++ b/node_modules/@multiformats/multiaddr/dist/src/multiaddr.js
@@ -1,18 +1,20 @@
-/* eslint-disable complexity */
 import { base58btc } from 'multiformats/bases/base58';
 import { CID } from 'multiformats/cid';
 import { equals as uint8ArrayEquals } from 'uint8arrays/equals';
+import { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';
 import { toString as uint8ArrayToString } from 'uint8arrays/to-string';
-import { bytesToMultiaddrParts, stringToMultiaddrParts, tuplesToBytes } from './codec.js';
-import { getProtocol, names } from './protocols-table.js';
+import { bytesToComponents, componentsToBytes, componentsToString, stringToComponents } from './components.js';
+import { CODE_DNS, CODE_DNS4, CODE_DNS6, CODE_DNSADDR, CODE_IP4, CODE_IP6, CODE_IP6ZONE, CODE_P2P, CODE_P2P_CIRCUIT, CODE_TCP, CODE_UDP } from "./constants.js";
+import { InvalidMultiaddrError, InvalidParametersError } from "./errors.js";
+import { registry } from "./registry.js";
 import { isMultiaddr, multiaddr, resolvers } from './index.js';
 const inspect = Symbol.for('nodejs.util.inspect.custom');
-export const symbol = Symbol.for('@multiformats/js-multiaddr/multiaddr');
+export const symbol = Symbol.for('@multiformats/multiaddr');
 const DNS_CODES = [
-    getProtocol('dns').code,
-    getProtocol('dns4').code,
-    getProtocol('dns6').code,
-    getProtocol('dnsaddr').code
+    CODE_DNS,
+    CODE_DNS4,
+    CODE_DNS6,
+    CODE_DNSADDR
 ];
 class NoAvailableResolverError extends Error {
     constructor(message = 'No available resolver') {
@@ -20,44 +22,51 @@ class NoAvailableResolverError extends Error {
         this.name = 'NoAvailableResolverError';
     }
 }
+function toComponents(addr) {
+    if (addr == null) {
+        addr = '/';
+    }
+    if (isMultiaddr(addr)) {
+        return addr.getComponents();
+    }
+    if (addr instanceof Uint8Array) {
+        return bytesToComponents(addr);
+    }
+    if (typeof addr === 'string') {
+        addr = addr
+            .replace(/\/(\/)+/, '/')
+            .replace(/(\/)+$/, '');
+        if (addr === '') {
+            addr = '/';
+        }
+        return stringToComponents(addr);
+    }
+    if (Array.isArray(addr)) {
+        return addr;
+    }
+    throw new InvalidMultiaddrError('Must be a string, Uint8Array, Component[], or another Multiaddr');
+}
 /**
  * Creates a {@link Multiaddr} from a {@link MultiaddrInput}
  */
 export class Multiaddr {
-    bytes;
-    #string;
-    #tuples;
-    #stringTuples;
-    #path;
     [symbol] = true;
-    constructor(addr) {
-        // default
-        if (addr == null) {
-            addr = '';
-        }
-        let parts;
-        if (addr instanceof Uint8Array) {
-            parts = bytesToMultiaddrParts(addr);
-        }
-        else if (typeof addr === 'string') {
-            if (addr.length > 0 && addr.charAt(0) !== '/') {
-                throw new Error(`multiaddr "${addr}" must start with a "/"`);
-            }
-            parts = stringToMultiaddrParts(addr);
-        }
-        else if (isMultiaddr(addr)) { // Multiaddr
-            parts = bytesToMultiaddrParts(addr.bytes);
-        }
-        else {
-            throw new Error('addr must be a string, Buffer, or another Multiaddr');
+    #components;
+    #string;
+    #bytes;
+    constructor(addr = '/') {
+        this.#components = toComponents(addr);
+    }
+    get bytes() {
+        if (this.#bytes == null) {
+            this.#bytes = componentsToBytes(this.#components);
         }
-        this.bytes = parts.bytes;
-        this.#string = parts.string;
-        this.#tuples = parts.tuples;
-        this.#stringTuples = parts.stringTuples;
-        this.#path = parts.path;
+        return this.#bytes;
     }
     toString() {
+        if (this.#string == null) {
+            this.#string = componentsToString(this.#components);
+        }
         return this.#string;
     }
     toJSON() {
@@ -69,31 +78,25 @@ export class Multiaddr {
         let host;
         let port;
         let zone = '';
-        const tcp = getProtocol('tcp');
-        const udp = getProtocol('udp');
-        const ip4 = getProtocol('ip4');
-        const ip6 = getProtocol('ip6');
-        const dns6 = getProtocol('dns6');
-        const ip6zone = getProtocol('ip6zone');
-        for (const [code, value] of this.stringTuples()) {
-            if (code === ip6zone.code) {
+        for (const { code, name, value } of this.#components) {
+            if (code === CODE_IP6ZONE) {
                 zone = `%${value ?? ''}`;
             }
             // default to https when protocol & port are omitted from DNS addrs
             if (DNS_CODES.includes(code)) {
-                transport = tcp.name === 'tcp' ? 'tcp' : 'udp';
+                transport = 'tcp';
                 port = 443;
                 host = `${value ?? ''}${zone}`;
-                family = code === dns6.code ? 6 : 4;
+                family = code === CODE_DNS6 ? 6 : 4;
             }
-            if (code === tcp.code || code === udp.code) {
-                transport = getProtocol(code).name === 'tcp' ? 'tcp' : 'udp';
+            if (code === CODE_TCP || code === CODE_UDP) {
+                transport = name === 'tcp' ? 'tcp' : 'udp';
                 port = parseInt(value ?? '');
             }
-            if (code === ip4.code || code === ip6.code) {
-                transport = getProtocol(code).name === 'tcp' ? 'tcp' : 'udp';
+            if (code === CODE_IP4 || code === CODE_IP6) {
+                transport = 'tcp';
                 host = `${value ?? ''}${zone}`;
-                family = code === ip6.code ? 6 : 4;
+                family = code === CODE_IP6 ? 6 : 4;
             }
         }
         if (family == null || transport == null || host == null || port == null) {
@@ -107,25 +110,44 @@ export class Multiaddr {
         };
         return opts;
     }
+    getComponents() {
+        return [
+            ...this.#components
+        ];
+    }
     protos() {
-        return this.#tuples.map(([code]) => Object.assign({}, getProtocol(code)));
+        return this.#components.map(({ code, value }) => {
+            const codec = registry.getCodec(code);
+            return {
+                code,
+                size: codec.size ?? 0,
+                name: codec.name,
+                resolvable: Boolean(codec.resolvable),
+                path: Boolean(codec.path)
+            };
+        });
     }
     protoCodes() {
-        return this.#tuples.map(([code]) => code);
+        return this.#components.map(({ code }) => code);
     }
     protoNames() {
-        return this.#tuples.map(([code]) => getProtocol(code).name);
+        return this.#components.map(({ name }) => name);
     }
     tuples() {
-        return this.#tuples.map(([code, value]) => {
+        return this.#components.map(({ code, value }) => {
             if (value == null) {
                 return [code];
             }
-            return [code, value];
+            const codec = registry.getCodec(code);
+            const output = [code];
+            if (value != null) {
+                output.push(codec.valueToBytes?.(value) ?? uint8ArrayFromString(value));
+            }
+            return output;
         });
     }
     stringTuples() {
-        return this.#stringTuples.map(([code, value]) => {
+        return this.#components.map(({ code, value }) => {
             if (value == null) {
                 return [code];
             }
@@ -133,37 +155,41 @@ export class Multiaddr {
         });
     }
     encapsulate(addr) {
-        addr = new Multiaddr(addr);
-        return new Multiaddr(this.toString() + addr.toString());
+        const ma = new Multiaddr(addr);
+        return new Multiaddr([
+            ...this.#components,
+            ...ma.getComponents()
+        ]);
     }
     decapsulate(addr) {
         const addrString = addr.toString();
         const s = this.toString();
         const i = s.lastIndexOf(addrString);
         if (i < 0) {
-            throw new Error(`Address ${this.toString()} does not contain subaddress: ${addr.toString()}`);
+            throw new InvalidParametersError(`Address ${this.toString()} does not contain subaddress: ${addr.toString()}`);
         }
         return new Multiaddr(s.slice(0, i));
     }
     decapsulateCode(code) {
-        const tuples = this.tuples();
-        for (let i = tuples.length - 1; i >= 0; i--) {
-            if (tuples[i][0] === code) {
-                return new Multiaddr(tuplesToBytes(tuples.slice(0, i)));
+        let index;
+        for (let i = this.#components.length - 1; i > -1; i--) {
+            if (this.#components[i].code === code) {
+                index = i;
+                break;
             }
         }
-        return this;
+        return new Multiaddr(this.#components.slice(0, index));
     }
     getPeerId() {
         try {
             let tuples = [];
-            this.stringTuples().forEach(([code, name]) => {
-                if (code === names.p2p.code) {
-                    tuples.push([code, name]);
+            this.#components.forEach(({ code, value }) => {
+                if (code === CODE_P2P) {
+                    tuples.push([code, value]);
                 }
                 // if this is a p2p-circuit address, return the target peer id if present
                 // not the peer id of the relay
-                if (code === names['p2p-circuit'].code) {
+                if (code === CODE_P2P_CIRCUIT) {
                     tuples = [];
                 }
             });
@@ -186,7 +212,14 @@ export class Multiaddr {
         }
     }
     getPath() {
-        return this.#path;
+        for (const component of this.#components) {
+            const codec = registry.getCodec(component.code);
+            if (!codec.path) {
+                continue;
+            }
+            return component.value ?? null;
+        }
+        return null;
     }
     equals(addr) {
         return uint8ArrayEquals(this.bytes, addr.bytes);
@@ -215,15 +248,14 @@ export class Multiaddr {
             port: options.port
         };
     }
-    isThinWaistAddress(addr) {
-        const protos = (addr ?? this).protos();
-        if (protos.length !== 2) {
+    isThinWaistAddress() {
+        if (this.#components.length !== 2) {
             return false;
         }
-        if (protos[0].code !== 4 && protos[0].code !== 41) {
+        if (this.#components[0].code !== CODE_IP4 && this.#components[0].code !== CODE_IP6) {
             return false;
         }
-        if (protos[1].code !== 6 && protos[1].code !== 273) {
+        if (this.#components[1].code !== CODE_TCP && this.#components[1].code !== CODE_UDP) {
             return false;
         }
         return true;
@@ -241,7 +273,21 @@ export class Multiaddr {
      * ```
      */
     [inspect]() {
-        return `Multiaddr(${this.#string})`;
+        return `Multiaddr(${this.toString()})`;
     }
 }
+/**
+ * Ensures all multiaddr tuples are correct. Throws if any invalid protocols or
+ * values are encountered.
+ */
+export function validate(addr) {
+    addr.getComponents()
+        .forEach(component => {
+        const codec = registry.getCodec(component.code);
+        if (component.value == null) {
+            return;
+        }
+        codec.validate?.(component.value);
+    });
+}
 //# sourceMappingURL=multiaddr.js.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/multiaddr.js.map b/node_modules/@multiformats/multiaddr/dist/src/multiaddr.js.map
index ac1b284..98624c5 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/multiaddr.js.map
+++ b/node_modules/@multiformats/multiaddr/dist/src/multiaddr.js.map
@@ -1 +1 @@
-{"version":3,"file":"multiaddr.js","sourceRoot":"","sources":["../../src/multiaddr.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"multiaddr.js","sourceRoot":"","sources":["../../src/multiaddr.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/protocols-table.d.ts b/node_modules/@multiformats/multiaddr/dist/src/protocols-table.d.ts
index 3a6a7a4..dae9c6b 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/protocols-table.d.ts
+++ b/node_modules/@multiformats/multiaddr/dist/src/protocols-table.d.ts
@@ -14,6 +14,8 @@ export declare function createProtocol(code: number, size: number, name: string,
  * console.info(protocol(4))
  * // { code: 4, size: 32, name: 'ip4', resolvable: false, path: false }
  * ```
+ *
+ * @deprecated This will be removed in a future version
  */
 export declare function getProtocol(proto: number | string): Protocol;
 //# sourceMappingURL=protocols-table.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/protocols-table.d.ts.map b/node_modules/@multiformats/multiaddr/dist/src/protocols-table.d.ts.map
index 8992264..019c5b9 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/protocols-table.d.ts.map
+++ b/node_modules/@multiformats/multiaddr/dist/src/protocols-table.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"protocols-table.d.ts","sourceRoot":"","sources":["../../src/protocols-table.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAA;AAG1C,eAAO,MAAM,KAAK,EAAE,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAM,CAAA;AACjD,eAAO,MAAM,KAAK,EAAE,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAM,CAAA;AAEjD,eAAO,MAAM,KAAK,EAAE,KAAK,CAAC,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,CAAC,EAAE,OAAO,CAAC,CAAC,CA4CrE,CAAA;AASD,wBAAgB,cAAc,CAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,UAAU,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,EAAE,GAAG,GAAG,QAAQ,CAQhH;AAED;;;;;;;;;;;GAWG;AACH,wBAAgB,WAAW,CAAE,KAAK,EAAE,MAAM,GAAG,MAAM,GAAG,QAAQ,CAgB7D"}
\ No newline at end of file
+{"version":3,"file":"protocols-table.d.ts","sourceRoot":"","sources":["../../src/protocols-table.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAA;AAG1C,eAAO,MAAM,KAAK,EAAE,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAM,CAAA;AACjD,eAAO,MAAM,KAAK,EAAE,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAM,CAAA;AAEjD,eAAO,MAAM,KAAK,EAAE,KAAK,CAAC,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,CAAC,EAAE,OAAO,CAAC,CAAC,CA4CrE,CAAA;AASD,wBAAgB,cAAc,CAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,UAAU,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,EAAE,GAAG,GAAG,QAAQ,CAQhH;AAED;;;;;;;;;;;;;GAaG;AACH,wBAAgB,WAAW,CAAE,KAAK,EAAE,MAAM,GAAG,MAAM,GAAG,QAAQ,CAgB7D"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/protocols-table.js b/node_modules/@multiformats/multiaddr/dist/src/protocols-table.js
index 3c13052..c92b14c 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/protocols-table.js
+++ b/node_modules/@multiformats/multiaddr/dist/src/protocols-table.js
@@ -72,6 +72,8 @@ export function createProtocol(code, size, name, resolvable, path) {
  * console.info(protocol(4))
  * // { code: 4, size: 32, name: 'ip4', resolvable: false, path: false }
  * ```
+ *
+ * @deprecated This will be removed in a future version
  */
 export function getProtocol(proto) {
     if (typeof proto === 'number') {
diff --git a/node_modules/@multiformats/multiaddr/dist/src/protocols-table.js.map b/node_modules/@multiformats/multiaddr/dist/src/protocols-table.js.map
index ffaf11d..2eda084 100644
--- a/node_modules/@multiformats/multiaddr/dist/src/protocols-table.js.map
+++ b/node_modules/@multiformats/multiaddr/dist/src/protocols-table.js.map
@@ -1 +1 @@
-{"version":3,"file":"protocols-table.js","sourceRoot":"","sources":["../../src/protocols-table.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"protocols-table.js","sourceRoot":"","sources":["../../src/protocols-table.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/registry.d.ts b/node_modules/@multiformats/multiaddr/dist/src/registry.d.ts
new file mode 100644
index 0000000..6e36082
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/registry.d.ts
@@ -0,0 +1,40 @@
+export declare const V = -1;
+export interface ProtocolCodec {
+    code: number;
+    name: string;
+    size?: number;
+    path?: boolean;
+    resolvable?: boolean;
+    aliases?: string[];
+    /**
+     * Where the multiaddr has been encoded as a string, decode the value if
+     * necessary, unescaping any escaped values
+     */
+    stringToValue?(value: string): string;
+    /**
+     * To encode the multiaddr as a string, escape any necessary values
+     */
+    valueToString?(value: string): string;
+    /**
+     * To encode the multiaddr as bytes, convert the value to bytes
+     */
+    valueToBytes?(value: string): Uint8Array;
+    /**
+     * To decode bytes to a multiaddr, convert the value bytes to a string
+     */
+    bytesToValue?(bytes: Uint8Array): string;
+    /**
+     * Perform any necessary validation on the string value
+     */
+    validate?(value: string): void;
+}
+declare class Registry {
+    private protocolsByCode;
+    private protocolsByName;
+    getCodec(key: string | number): ProtocolCodec;
+    addCodec(key: number, codec: ProtocolCodec, aliases?: string[]): void;
+    deleteCodec(key: number): void;
+}
+export declare const registry: Registry;
+export {};
+//# sourceMappingURL=registry.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/registry.d.ts.map b/node_modules/@multiformats/multiaddr/dist/src/registry.d.ts.map
new file mode 100644
index 0000000..fe28000
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/registry.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"registry.d.ts","sourceRoot":"","sources":["../../src/registry.ts"],"names":[],"mappings":"AAQA,eAAO,MAAM,CAAC,KAAK,CAAA;AAEnB,MAAM,WAAW,aAAa;IAC5B,IAAI,EAAE,MAAM,CAAA;IACZ,IAAI,EAAE,MAAM,CAAA;IACZ,IAAI,CAAC,EAAE,MAAM,CAAA;IACb,IAAI,CAAC,EAAE,OAAO,CAAA;IACd,UAAU,CAAC,EAAE,OAAO,CAAA;IACpB,OAAO,CAAC,EAAE,MAAM,EAAE,CAAA;IAElB;;;OAGG;IACH,aAAa,CAAC,CAAC,KAAK,EAAE,MAAM,GAAG,MAAM,CAAA;IAErC;;OAEG;IACH,aAAa,CAAC,CAAC,KAAK,EAAE,MAAM,GAAG,MAAM,CAAA;IAErC;;OAEG;IACH,YAAY,CAAC,CAAC,KAAK,EAAE,MAAM,GAAG,UAAU,CAAA;IAExC;;OAEG;IACH,YAAY,CAAC,CAAC,KAAK,EAAE,UAAU,GAAG,MAAM,CAAA;IAExC;;OAEG;IACH,QAAQ,CAAC,CAAC,KAAK,EAAE,MAAM,GAAG,IAAI,CAAA;CAC/B;AAED,cAAM,QAAQ;IACZ,OAAO,CAAC,eAAe,CAAmC;IAC1D,OAAO,CAAC,eAAe,CAAmC;IAE1D,QAAQ,CAAE,GAAG,EAAE,MAAM,GAAG,MAAM,GAAG,aAAa;IAgB9C,QAAQ,CAAE,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,aAAa,EAAE,OAAO,CAAC,EAAE,MAAM,EAAE,GAAG,IAAI;IAStE,WAAW,CAAE,GAAG,EAAE,MAAM,GAAG,IAAI;CAchC;AAED,eAAO,MAAM,QAAQ,UAAiB,CAAA"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/registry.js b/node_modules/@multiformats/multiaddr/dist/src/registry.js
new file mode 100644
index 0000000..f246987
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/registry.js
@@ -0,0 +1,243 @@
+import { isIPv4, isIPv6 } from '@chainsafe/is-ip';
+import { CID } from 'multiformats';
+import { base64url } from 'multiformats/bases/base64';
+import { CODE_CERTHASH, CODE_DCCP, CODE_DNS, CODE_DNS4, CODE_DNS6, CODE_DNSADDR, CODE_GARLIC32, CODE_GARLIC64, CODE_HTTP, CODE_HTTP_PATH, CODE_HTTPS, CODE_IP4, CODE_IP6, CODE_IP6ZONE, CODE_IPCIDR, CODE_MEMORY, CODE_NOISE, CODE_ONION, CODE_ONION3, CODE_P2P, CODE_P2P_CIRCUIT, CODE_P2P_STARDUST, CODE_P2P_WEBRTC_DIRECT, CODE_P2P_WEBRTC_STAR, CODE_P2P_WEBSOCKET_STAR, CODE_QUIC, CODE_QUIC_V1, CODE_SCTP, CODE_SNI, CODE_TCP, CODE_TLS, CODE_UDP, CODE_UDT, CODE_UNIX, CODE_UTP, CODE_WEBRTC, CODE_WEBRTC_DIRECT, CODE_WEBTRANSPORT, CODE_WS, CODE_WSS } from "./constants.js";
+import { bytes2mb, bytes2onion, bytes2port, bytesToString, ip4ToBytes, ip4ToString, ip6StringToValue, ip6ToBytes, ip6ToString, mb2bytes, onion2bytes, onion32bytes, port2bytes, stringToBytes } from "./convert.js";
+import { InvalidProtocolError, ValidationError } from "./errors.js";
+import { validatePort } from "./validation.js";
+export const V = -1;
+class Registry {
+    protocolsByCode = new Map();
+    protocolsByName = new Map();
+    getCodec(key) {
+        let codec;
+        if (typeof key === 'string') {
+            codec = this.protocolsByName.get(key);
+        }
+        else {
+            codec = this.protocolsByCode.get(key);
+        }
+        if (codec == null) {
+            throw new InvalidProtocolError(`Protocol ${key} was unknown`);
+        }
+        return codec;
+    }
+    addCodec(key, codec, aliases) {
+        this.protocolsByCode.set(key, codec);
+        this.protocolsByName.set(codec.name, codec);
+        aliases?.forEach(alias => {
+            this.protocolsByName.set(alias, codec);
+        });
+    }
+    deleteCodec(key) {
+        const codec = this.getCodec(key);
+        if (codec == null) {
+            return;
+        }
+        this.protocolsByCode.delete(codec.code);
+        this.protocolsByName.delete(codec.name);
+        codec.aliases?.forEach(alias => {
+            this.protocolsByName.delete(alias);
+        });
+    }
+}
+export const registry = new Registry();
+const codecs = [{
+        code: CODE_IP4,
+        name: 'ip4',
+        size: 32,
+        valueToBytes: ip4ToBytes,
+        bytesToValue: ip4ToString,
+        validate: (value) => {
+            if (!isIPv4(value)) {
+                throw new ValidationError('Invalid ip address');
+            }
+        }
+    }, {
+        code: CODE_TCP,
+        name: 'tcp',
+        size: 16,
+        valueToBytes: port2bytes,
+        bytesToValue: bytes2port,
+        validate: validatePort
+    }, {
+        code: CODE_UDP,
+        name: 'udp',
+        size: 16,
+        valueToBytes: port2bytes,
+        bytesToValue: bytes2port,
+        validate: validatePort
+    }, {
+        code: CODE_DCCP,
+        name: 'dccp',
+        size: 16,
+        valueToBytes: port2bytes,
+        bytesToValue: bytes2port,
+        validate: validatePort
+    }, {
+        code: CODE_IP6,
+        name: 'ip6',
+        size: 128,
+        valueToBytes: ip6ToBytes,
+        bytesToValue: ip6ToString,
+        stringToValue: ip6StringToValue,
+        validate: (value) => {
+            if (!isIPv6(value)) {
+                throw new ValidationError('Invalid ip address');
+            }
+        }
+    }, {
+        code: CODE_IP6ZONE,
+        name: 'ip6zone',
+        size: V
+    }, {
+        code: CODE_IPCIDR,
+        name: 'ipcidr',
+        size: 8,
+        bytesToValue: bytesToString('base10'),
+        valueToBytes: stringToBytes('base10')
+    }, {
+        code: CODE_DNS,
+        name: 'dns',
+        size: V,
+        resolvable: true
+    }, {
+        code: CODE_DNS4,
+        name: 'dns4',
+        size: V,
+        resolvable: true
+    }, {
+        code: CODE_DNS6,
+        name: 'dns6',
+        size: V,
+        resolvable: true
+    }, {
+        code: CODE_DNSADDR,
+        name: 'dnsaddr',
+        size: V,
+        resolvable: true
+    }, {
+        code: CODE_SCTP,
+        name: 'sctp',
+        size: 16,
+        valueToBytes: port2bytes,
+        bytesToValue: bytes2port,
+        validate: validatePort
+    }, {
+        code: CODE_UDT,
+        name: 'udt'
+    }, {
+        code: CODE_UTP,
+        name: 'utp'
+    }, {
+        code: CODE_UNIX,
+        name: 'unix',
+        size: V,
+        path: true,
+        stringToValue: (str) => `/${decodeURIComponent(str)}`,
+        valueToString: (val) => encodeURIComponent(val.substring(1))
+    }, {
+        code: CODE_P2P,
+        name: 'p2p',
+        aliases: ['ipfs'],
+        size: V,
+        bytesToValue: bytesToString('base58btc'),
+        valueToBytes: (val) => {
+            if (val.startsWith('Q') || val.startsWith('1')) {
+                return stringToBytes('base58btc')(val);
+            }
+            return CID.parse(val).multihash.bytes;
+        }
+    }, {
+        code: CODE_ONION,
+        name: 'onion',
+        size: 96,
+        bytesToValue: bytes2onion,
+        valueToBytes: onion2bytes
+    }, {
+        code: CODE_ONION3,
+        name: 'onion3',
+        size: 296,
+        bytesToValue: bytes2onion,
+        valueToBytes: onion32bytes
+    }, {
+        code: CODE_GARLIC64,
+        name: 'garlic64',
+        size: V
+    }, {
+        code: CODE_GARLIC32,
+        name: 'garlic32',
+        size: V
+    }, {
+        code: CODE_TLS,
+        name: 'tls'
+    }, {
+        code: CODE_SNI,
+        name: 'sni',
+        size: V
+    }, {
+        code: CODE_NOISE,
+        name: 'noise'
+    }, {
+        code: CODE_QUIC,
+        name: 'quic'
+    }, {
+        code: CODE_QUIC_V1,
+        name: 'quic-v1'
+    }, {
+        code: CODE_WEBTRANSPORT,
+        name: 'webtransport'
+    }, {
+        code: CODE_CERTHASH,
+        name: 'certhash',
+        size: V,
+        bytesToValue: bytes2mb(base64url),
+        valueToBytes: mb2bytes
+    }, {
+        code: CODE_HTTP,
+        name: 'http'
+    }, {
+        code: CODE_HTTP_PATH,
+        name: 'http-path',
+        size: V,
+        stringToValue: (str) => `/${decodeURIComponent(str)}`,
+        valueToString: (val) => encodeURIComponent(val.substring(1))
+    }, {
+        code: CODE_HTTPS,
+        name: 'https'
+    }, {
+        code: CODE_WS,
+        name: 'ws'
+    }, {
+        code: CODE_WSS,
+        name: 'wss'
+    }, {
+        code: CODE_P2P_WEBSOCKET_STAR,
+        name: 'p2p-websocket-star'
+    }, {
+        code: CODE_P2P_STARDUST,
+        name: 'p2p-stardust'
+    }, {
+        code: CODE_P2P_WEBRTC_STAR,
+        name: 'p2p-webrtc-star'
+    }, {
+        code: CODE_P2P_WEBRTC_DIRECT,
+        name: 'p2p-webrtc-direct'
+    }, {
+        code: CODE_WEBRTC_DIRECT,
+        name: 'webrtc-direct'
+    }, {
+        code: CODE_WEBRTC,
+        name: 'webrtc'
+    }, {
+        code: CODE_P2P_CIRCUIT,
+        name: 'p2p-circuit'
+    }, {
+        code: CODE_MEMORY,
+        name: 'memory',
+        size: V
+    }];
+codecs.forEach(codec => {
+    registry.addCodec(codec.code, codec, codec.aliases);
+});
+//# sourceMappingURL=registry.js.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/registry.js.map b/node_modules/@multiformats/multiaddr/dist/src/registry.js.map
new file mode 100644
index 0000000..019994f
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/registry.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"registry.js","sourceRoot":"","sources":["../../src/registry.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/validation.d.ts b/node_modules/@multiformats/multiaddr/dist/src/validation.d.ts
new file mode 100644
index 0000000..9996a4a
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/validation.d.ts
@@ -0,0 +1,6 @@
+export declare function integer(value: string): void;
+export declare function positive(value: any): void;
+export declare function maxValue(max: number): (value: any) => void;
+export declare function validate(...funcs: Array<(value: string) => void>): (value: string) => void;
+export declare const validatePort: (value: string) => void;
+//# sourceMappingURL=validation.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/validation.d.ts.map b/node_modules/@multiformats/multiaddr/dist/src/validation.d.ts.map
new file mode 100644
index 0000000..25be777
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/validation.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"validation.d.ts","sourceRoot":"","sources":["../../src/validation.ts"],"names":[],"mappings":"AAEA,wBAAgB,OAAO,CAAE,KAAK,EAAE,MAAM,GAAG,IAAI,CAM5C;AAED,wBAAgB,QAAQ,CAAE,KAAK,EAAE,GAAG,GAAG,IAAI,CAI1C;AAED,wBAAgB,QAAQ,CAAE,GAAG,EAAE,MAAM,GAAG,CAAC,KAAK,EAAE,GAAG,KAAK,IAAI,CAM3D;AAED,wBAAgB,QAAQ,CAAE,GAAG,KAAK,EAAE,KAAK,CAAC,CAAC,KAAK,EAAE,MAAM,KAAK,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,KAAK,IAAI,CAM3F;AAED,eAAO,MAAM,YAAY,UARoD,MAAM,KAAK,IAYvF,CAAA"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/validation.js b/node_modules/@multiformats/multiaddr/dist/src/validation.js
new file mode 100644
index 0000000..2f5b3ec
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/validation.js
@@ -0,0 +1,28 @@
+import { ValidationError } from "./errors.js";
+export function integer(value) {
+    const int = parseInt(value);
+    if (int.toString() !== value) {
+        throw new ValidationError('Value must be an integer');
+    }
+}
+export function positive(value) {
+    if (value < 0) {
+        throw new ValidationError('Value must be a positive integer');
+    }
+}
+export function maxValue(max) {
+    return (value) => {
+        if (value > max) {
+            throw new ValidationError(`Value must be smaller than ${max}`);
+        }
+    };
+}
+export function validate(...funcs) {
+    return (value) => {
+        for (const fn of funcs) {
+            fn(value);
+        }
+    };
+}
+export const validatePort = validate(integer, positive, maxValue(65_535));
+//# sourceMappingURL=validation.js.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/src/validation.js.map b/node_modules/@multiformats/multiaddr/dist/src/validation.js.map
new file mode 100644
index 0000000..b6510cc
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/src/validation.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"validation.js","sourceRoot":"","sources":["../../src/validation.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,eAAe,EAAE,MAAM,aAAa,CAAA;AAE7C,MAAM,UAAU,OAAO,CAAE,KAAa;IACpC,MAAM,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAA;IAE3B,IAAI,GAAG,CAAC,QAAQ,EAAE,KAAK,KAAK,EAAE,CAAC;QAC7B,MAAM,IAAI,eAAe,CAAC,0BAA0B,CAAC,CAAA;IACvD,CAAC;AACH,CAAC;AAED,MAAM,UAAU,QAAQ,CAAE,KAAU;IAClC,IAAI,KAAK,GAAG,CAAC,EAAE,CAAC;QACd,MAAM,IAAI,eAAe,CAAC,kCAAkC,CAAC,CAAA;IAC/D,CAAC;AACH,CAAC;AAED,MAAM,UAAU,QAAQ,CAAE,GAAW;IACnC,OAAO,CAAC,KAAK,EAAE,EAAE;QACf,IAAI,KAAK,GAAG,GAAG,EAAE,CAAC;YAChB,MAAM,IAAI,eAAe,CAAC,8BAA8B,GAAG,EAAE,CAAC,CAAA;QAChE,CAAC;IACH,CAAC,CAAA;AACH,CAAC;AAED,MAAM,UAAU,QAAQ,CAAE,GAAG,KAAqC;IAChE,OAAO,CAAC,KAAK,EAAE,EAAE;QACf,KAAK,MAAM,EAAE,IAAI,KAAK,EAAE,CAAC;YACvB,EAAE,CAAC,KAAK,CAAC,CAAA;QACX,CAAC;IACH,CAAC,CAAA;AACH,CAAC;AAED,MAAM,CAAC,MAAM,YAAY,GAAG,QAAQ,CAClC,OAAO,EACP,QAAQ,EACR,QAAQ,CAAC,MAAM,CAAC,CACjB,CAAA"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/codec.spec.d.ts b/node_modules/@multiformats/multiaddr/dist/test/codec.spec.d.ts
new file mode 100644
index 0000000..633c753
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/codec.spec.d.ts
@@ -0,0 +1,2 @@
+export {};
+//# sourceMappingURL=codec.spec.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/codec.spec.d.ts.map b/node_modules/@multiformats/multiaddr/dist/test/codec.spec.d.ts.map
new file mode 100644
index 0000000..9645478
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/codec.spec.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"codec.spec.d.ts","sourceRoot":"","sources":["../../test/codec.spec.ts"],"names":[],"mappings":""}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/codec.spec.js b/node_modules/@multiformats/multiaddr/dist/test/codec.spec.js
new file mode 100644
index 0000000..9620a99
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/codec.spec.js
@@ -0,0 +1,67 @@
+/* eslint-env mocha */
+import { expect } from 'aegir/chai';
+import { componentsToString, stringToComponents } from "../src/components.js";
+import { CODE_HTTP, CODE_HTTP_PATH, CODE_IP4, CODE_UNIX, CODE_UTP } from "../src/constants.js";
+describe('codec', () => {
+    describe('.stringToComponents', () => {
+        it('throws on invalid addresses', () => {
+            expect(() => stringToComponents('/ip4/0.0.0.0/ip4')).to.throw()
+                .with.property('name', 'InvalidMultiaddrError');
+        });
+        const testCases = [{
+                name: 'handles non array tuples',
+                input: '/ip4/0.0.0.0/utp',
+                components: [{
+                        code: CODE_IP4,
+                        name: 'ip4',
+                        value: '0.0.0.0'
+                    }, {
+                        code: CODE_UTP,
+                        name: 'utp'
+                    }]
+            }, {
+                name: 'handle not null path',
+                input: '/unix/tmp%2Fp2p.sock',
+                components: [{
+                        code: CODE_UNIX,
+                        name: 'unix',
+                        value: '/tmp/p2p.sock'
+                    }]
+            }, {
+                name: 'handle http path',
+                input: '/ip4/123.123.123.123/http/http-path/foo%2Findex.html',
+                components: [{
+                        code: CODE_IP4,
+                        name: 'ip4',
+                        value: '123.123.123.123'
+                    }, {
+                        code: CODE_HTTP,
+                        name: 'http'
+                    }, {
+                        code: CODE_HTTP_PATH,
+                        name: 'http-path',
+                        value: '/foo/index.html'
+                    }]
+            }];
+        for (const { name, input, components } of testCases) {
+            it(name, () => {
+                expect(stringToComponents(input)).to.deep.equal(components);
+            });
+        }
+        it('throws on invalid addresses', () => {
+            expect(() => stringToComponents('/ip4/0.0.0.0/ip4')).to.throw()
+                .with.property('name', 'InvalidMultiaddrError');
+        });
+    });
+    describe('.componentsToString', () => {
+        it('throws on invalid address', () => {
+            expect(() => componentsToString([{
+                    code: 123,
+                    name: 'non-existant',
+                    value: 'non-existant'
+                }])).to.throw()
+                .with.property('name', 'InvalidProtocolError');
+        });
+    });
+});
+//# sourceMappingURL=codec.spec.js.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/codec.spec.js.map b/node_modules/@multiformats/multiaddr/dist/test/codec.spec.js.map
new file mode 100644
index 0000000..2d8368e
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/codec.spec.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"codec.spec.js","sourceRoot":"","sources":["../../test/codec.spec.ts"],"names":[],"mappings":"AAAA,sBAAsB;AACtB,OAAO,EAAE,MAAM,EAAE,MAAM,YAAY,CAAA;AACnC,OAAO,EAAE,kBAAkB,EAAE,kBAAkB,EAAE,MAAM,sBAAsB,CAAA;AAC7E,OAAO,EAAE,SAAS,EAAE,cAAc,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,qBAAqB,CAAA;AAS9F,QAAQ,CAAC,OAAO,EAAE,GAAG,EAAE;IACrB,QAAQ,CAAC,qBAAqB,EAAE,GAAG,EAAE;QACnC,EAAE,CAAC,6BAA6B,EAAE,GAAG,EAAE;YACrC,MAAM,CACJ,GAAG,EAAE,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,CAC7C,CAAC,EAAE,CAAC,KAAK,EAAE;iBACT,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,uBAAuB,CAAC,CAAA;QACnD,CAAC,CAAC,CAAA;QAEF,MAAM,SAAS,GAAe,CAAC;gBAC7B,IAAI,EAAE,0BAA0B;gBAChC,KAAK,EAAE,kBAAkB;gBACzB,UAAU,EAAE,CAAC;wBACX,IAAI,EAAE,QAAQ;wBACd,IAAI,EAAE,KAAK;wBACX,KAAK,EAAE,SAAS;qBACjB,EAAE;wBACD,IAAI,EAAE,QAAQ;wBACd,IAAI,EAAE,KAAK;qBACZ,CAAC;aACH,EAAE;gBACD,IAAI,EAAE,sBAAsB;gBAC5B,KAAK,EAAE,sBAAsB;gBAC7B,UAAU,EAAE,CAAC;wBACX,IAAI,EAAE,SAAS;wBACf,IAAI,EAAE,MAAM;wBACZ,KAAK,EAAE,eAAe;qBACvB,CAAC;aACH,EAAE;gBACD,IAAI,EAAE,kBAAkB;gBACxB,KAAK,EAAE,sDAAsD;gBAC7D,UAAU,EAAE,CAAC;wBACX,IAAI,EAAE,QAAQ;wBACd,IAAI,EAAE,KAAK;wBACX,KAAK,EAAE,iBAAiB;qBACzB,EAAE;wBACD,IAAI,EAAE,SAAS;wBACf,IAAI,EAAE,MAAM;qBACb,EAAE;wBACD,IAAI,EAAE,cAAc;wBACpB,IAAI,EAAE,WAAW;wBACjB,KAAK,EAAE,iBAAiB;qBACzB,CAAC;aACH,CAAC,CAAA;QAEF,KAAK,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,SAAS,EAAE,CAAC;YACpD,EAAE,CAAC,IAAI,EAAE,GAAG,EAAE;gBACZ,MAAM,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAA;YAC7D,CAAC,CAAC,CAAA;QACJ,CAAC;QAED,EAAE,CAAC,6BAA6B,EAAE,GAAG,EAAE;YACrC,MAAM,CACJ,GAAG,EAAE,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,CAC7C,CAAC,EAAE,CAAC,KAAK,EAAE;iBACT,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,uBAAuB,CAAC,CAAA;QACnD,CAAC,CAAC,CAAA;IACJ,CAAC,CAAC,CAAA;IAEF,QAAQ,CAAC,qBAAqB,EAAE,GAAG,EAAE;QACnC,EAAE,CAAC,2BAA2B,EAAE,GAAG,EAAE;YACnC,MAAM,CACJ,GAAG,EAAE,CAAC,kBAAkB,CAAC,CAAC;oBACxB,IAAI,EAAE,GAAG;oBACT,IAAI,EAAE,cAAc;oBACpB,KAAK,EAAE,cAAc;iBACtB,CAAC,CAAC,CACJ,CAAC,EAAE,CAAC,KAAK,EAAE;iBACT,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,sBAAsB,CAAC,CAAA;QAClD,CAAC,CAAC,CAAA;IACJ,CAAC,CAAC,CAAA;AACJ,CAAC,CAAC,CAAA"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/convert.spec.d.ts b/node_modules/@multiformats/multiaddr/dist/test/convert.spec.d.ts
new file mode 100644
index 0000000..be67782
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/convert.spec.d.ts
@@ -0,0 +1,2 @@
+export {};
+//# sourceMappingURL=convert.spec.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/convert.spec.d.ts.map b/node_modules/@multiformats/multiaddr/dist/test/convert.spec.d.ts.map
new file mode 100644
index 0000000..236fda5
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/convert.spec.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"convert.spec.d.ts","sourceRoot":"","sources":["../../test/convert.spec.ts"],"names":[],"mappings":""}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/convert.spec.js b/node_modules/@multiformats/multiaddr/dist/test/convert.spec.js
new file mode 100644
index 0000000..ab1e530
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/convert.spec.js
@@ -0,0 +1,102 @@
+/* eslint-env mocha */
+import { expect } from 'aegir/chai';
+import { base64url } from 'multiformats/bases/base64';
+import { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';
+import { bytes2mb, bytes2port, convertToIpNet, ip4ToBytes, ip4ToString, ip6ToBytes, ip6ToString, mb2bytes, port2bytes } from "../src/convert.js";
+import { multiaddr } from '../src/index.js';
+describe('convert', () => {
+    it('handles ip4 buffers', () => {
+        expect(ip4ToString(uint8ArrayFromString('c0a80001', 'base16'))).to.equal('192.168.0.1');
+    });
+    it('handles ip6 buffers', () => {
+        expect(ip6ToString(uint8ArrayFromString('abcd0000000100020003000400050006', 'base16'))).to.equal('abcd::1:2:3:4:5:6');
+    });
+    it('handles ipv6 strings', () => {
+        expect(ip6ToBytes('ABCD::1:2:3:4:5:6')).to.equalBytes(uint8ArrayFromString('ABCD0000000100020003000400050006', 'base16upper'));
+    });
+    it('handles ip4 strings', () => {
+        expect(ip4ToBytes('192.168.0.1')).to.equalBytes(uint8ArrayFromString('c0a80001', 'base16'));
+    });
+    it('throws on invalid ip4 conversion', () => {
+        expect(() => ip4ToBytes('555.168.0.1')).to.throw()
+            .with.property('name', 'InvalidMultiaddrError');
+    });
+    it('throws on invalid ip6 conversion', () => {
+        expect(() => ip6ToBytes('FFFF::GGGG')).to.throw()
+            .with.property('name', 'InvalidMultiaddrError');
+    });
+    it('round trips loopback addresses', () => {
+        const address = '127.0.0.1';
+        const bytes = ip4ToBytes(address);
+        expect(ip4ToString(bytes)).to.equal(address);
+    });
+    it('round trips class C addresses', () => {
+        const address = '192.168.1.1';
+        const bytes = ip4ToBytes(address);
+        expect(ip4ToString(bytes)).to.equal(address);
+    });
+    /*
+    describe('.toBytes', () => {
+      it('defaults to hex conversion', () => {
+        expect(
+          convertToBytes(CODE_WS, 'c0a80001')
+        ).to.eql(
+          Uint8Array.from([192, 168, 0, 1])
+        )
+      })
+    })
+  */
+    describe('.toString', () => {
+        /*
+        it('throws on inconsistent ipfs links', () => {
+          const valid = uint8ArrayFromString('03221220d52ebb89d85b02a284948203a62ff28389c57c9f42beec4ec20db76a68911c0b', 'base16')
+          expect(
+            () => bytesToString(valid.slice(0, valid.length - 8))
+          ).to.throw(
+            /inconsistent length/
+          )
+        })
+    
+        it('defaults to hex conversion', () => {
+          expect(
+            convertToString('ws', Uint8Array.from([192, 168, 0, 1]))
+          ).to.eql(
+            'c0a80001'
+          )
+        })
+    */
+        it('respects byteoffset during conversion', () => {
+            const bytes = port2bytes('1234');
+            const buffer = new Uint8Array(bytes.byteLength + 5);
+            buffer.set(bytes, 5);
+            expect(bytes2port(buffer.subarray(5))).to.equal('1234');
+        });
+    });
+    it('can round-trip certhash, though encoding base may change', () => {
+        const myCertFingerprint = {
+            algorithm: 'sha-256',
+            value: 'f4:32:a0:45:34:62:85:e0:d8:d7:75:36:84:72:8e:b2:aa:9e:71:64:e4:eb:fe:06:51:64:42:64:fe:04:a8:d0'
+        };
+        const mb = 'f' + myCertFingerprint.value.replaceAll(':', '');
+        const bytes = mb2bytes(mb);
+        const outcome = bytes2mb(base64url)(bytes);
+        expect(outcome).to.equal('u9DKgRTRiheDY13U2hHKOsqqecWTk6_4GUWRCZP4EqNA');
+        const bytesOut = mb2bytes(outcome);
+        expect(bytesOut).to.equalBytes(bytes);
+    });
+    it('convertToIpNet ip4', function () {
+        const ipnet = convertToIpNet(multiaddr('/ip4/192.0.2.0/ipcidr/24'));
+        expect(ipnet.toString()).equal('192.0.2.0/24');
+    });
+    it('convertToIpNet ip6', function () {
+        const ipnet = convertToIpNet(multiaddr('/ip6/2001:0db8:85a3:0000:0000:8a2e:0370:7334/ipcidr/64'));
+        expect(ipnet.toString()).equal('2001:0db8:85a3:0000:0000:0000:0000:0000/64');
+    });
+    it('convertToIpNet not ipcidr', function () {
+        expect(() => convertToIpNet(multiaddr('/ip6/2001:0db8:85a3:0000:0000:8a2e:0370:7334/tcp/64'))).to.throw();
+    });
+    it('convertToIpNet not ipv6', function () {
+        expect(() => convertToIpNet(multiaddr('/dns6/foo.com/ipcidr/64'))).to.throw();
+    });
+});
+//# sourceMappingURL=convert.spec.js.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/convert.spec.js.map b/node_modules/@multiformats/multiaddr/dist/test/convert.spec.js.map
new file mode 100644
index 0000000..73544d5
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/convert.spec.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"convert.spec.js","sourceRoot":"","sources":["../../test/convert.spec.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/filter/multiaddr-filter.spec.d.ts b/node_modules/@multiformats/multiaddr/dist/test/filter/multiaddr-filter.spec.d.ts
new file mode 100644
index 0000000..e82d66f
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/filter/multiaddr-filter.spec.d.ts
@@ -0,0 +1,2 @@
+export {};
+//# sourceMappingURL=multiaddr-filter.spec.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/filter/multiaddr-filter.spec.d.ts.map b/node_modules/@multiformats/multiaddr/dist/test/filter/multiaddr-filter.spec.d.ts.map
new file mode 100644
index 0000000..0fb47e0
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/filter/multiaddr-filter.spec.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"multiaddr-filter.spec.d.ts","sourceRoot":"","sources":["../../../test/filter/multiaddr-filter.spec.ts"],"names":[],"mappings":""}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/filter/multiaddr-filter.spec.js b/node_modules/@multiformats/multiaddr/dist/test/filter/multiaddr-filter.spec.js
new file mode 100644
index 0000000..ec7f58f
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/filter/multiaddr-filter.spec.js
@@ -0,0 +1,26 @@
+/* eslint-env mocha */
+import { expect } from 'aegir/chai';
+import { MultiaddrFilter, multiaddr } from '../../src/index.js';
+describe('MultiaddrFilter', () => {
+    const cases = [
+        ['/ip4/192.168.10.10/ipcidr/24', '/ip4/192.168.10.2/tcp/60', true],
+        [multiaddr('/ip4/192.168.10.10/ipcidr/24'), '/ip4/192.168.10.2/tcp/60', true],
+        [multiaddr('/ip4/192.168.10.10/ipcidr/24').bytes, '/ip4/192.168.10.2/tcp/60', true],
+        ['/ip4/192.168.10.10/ipcidr/24', '/ip4/192.168.10.2/udp/60', true],
+        ['/ip4/192.168.10.10/ipcidr/24', multiaddr('/ip4/192.168.11.2/tcp/60'), false],
+        ['/ip4/192.168.10.10/ipcidr/24', null, false],
+        ['/ip4/192.168.10.10/ipcidr/24', multiaddr('/ip4/192.168.11.2/udp/60').bytes, false],
+        ['/ip4/192.168.10.10/ipcidr/24', '/ip4/192.168.11.2/udp/60', false],
+        ['/ip4/192.168.10.10/ipcidr/24', '/ip6/2001:db8:3333:4444:5555:6666:7777:8888/tcp/60', false],
+        ['/ip6/2001:db8:3333:4444:5555:6666:7777:8888/ipcidr/60', '/ip6/2001:0db8:3333:4440:0000:0000:0000:0000/tcp/60', true],
+        ['/ip6/2001:db8:3333:4444:5555:6666:7777:8888/ipcidr/60', '/ip6/2001:0db8:3333:4450:0000:0000:0000:0000/tcp/60', false],
+        ['/ip6/2001:db8:3333:4444:5555:6666:7777:8888/ipcidr/128', '/ip6/2001:db8:3333:4444:5555:6666:7777:8888/tcp/60', true],
+        ['/ip6/2001:db8:3333:4444:5555:6666:7777:8888/ipcidr/128', '/ip6/2001:db8:3333:4444:5555:6666:7777:8880/tcp/60', false]
+    ];
+    cases.forEach(([cidr, ip, result]) => {
+        it(`multiaddr filter cidr=${cidr} ip=${ip} result=${String(result)}`, function () {
+            expect(new MultiaddrFilter(cidr).contains(ip)).to.be.equal(result);
+        });
+    });
+});
+//# sourceMappingURL=multiaddr-filter.spec.js.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/filter/multiaddr-filter.spec.js.map b/node_modules/@multiformats/multiaddr/dist/test/filter/multiaddr-filter.spec.js.map
new file mode 100644
index 0000000..f9932fd
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/filter/multiaddr-filter.spec.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"multiaddr-filter.spec.js","sourceRoot":"","sources":["../../../test/filter/multiaddr-filter.spec.ts"],"names":[],"mappings":"AAAA,sBAAsB;AACtB,OAAO,EAAE,MAAM,EAAE,MAAM,YAAY,CAAA;AACnC,OAAO,EAAE,eAAe,EAAE,SAAS,EAAE,MAAM,oBAAoB,CAAA;AAG/D,QAAQ,CAAC,iBAAiB,EAAE,GAAG,EAAE;IAC/B,MAAM,KAAK,GAAqD;QAC9D,CAAC,8BAA8B,EAAE,0BAA0B,EAAE,IAAI,CAAC;QAClE,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAE,0BAA0B,EAAE,IAAI,CAAC;QAC7E,CAAC,SAAS,CAAC,8BAA8B,CAAC,CAAC,KAAK,EAAE,0BAA0B,EAAE,IAAI,CAAC;QACnF,CAAC,8BAA8B,EAAE,0BAA0B,EAAE,IAAI,CAAC;QAClE,CAAC,8BAA8B,EAAE,SAAS,CAAC,0BAA0B,CAAC,EAAE,KAAK,CAAC;QAC9E,CAAC,8BAA8B,EAAE,IAAI,EAAE,KAAK,CAAC;QAC7C,CAAC,8BAA8B,EAAE,SAAS,CAAC,0BAA0B,CAAC,CAAC,KAAK,EAAE,KAAK,CAAC;QACpF,CAAC,8BAA8B,EAAE,0BAA0B,EAAE,KAAK,CAAC;QACnE,CAAC,8BAA8B,EAAE,oDAAoD,EAAE,KAAK,CAAC;QAC7F,CAAC,uDAAuD,EAAE,qDAAqD,EAAE,IAAI,CAAC;QACtH,CAAC,uDAAuD,EAAE,qDAAqD,EAAE,KAAK,CAAC;QACvH,CAAC,wDAAwD,EAAE,oDAAoD,EAAE,IAAI,CAAC;QACtH,CAAC,wDAAwD,EAAE,oDAAoD,EAAE,KAAK,CAAC;KACxH,CAAA;IAED,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE;QACnC,EAAE,CAAC,yBAAyB,IAAI,OAAO,EAAE,WAAW,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE;YACpE,MAAM,CAAC,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA;QACpE,CAAC,CAAC,CAAA;IACJ,CAAC,CAAC,CAAA;AACJ,CAAC,CAAC,CAAA"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/index.spec.d.ts b/node_modules/@multiformats/multiaddr/dist/test/index.spec.d.ts
new file mode 100644
index 0000000..b37c2d2
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/index.spec.d.ts
@@ -0,0 +1,2 @@
+export {};
+//# sourceMappingURL=index.spec.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/index.spec.d.ts.map b/node_modules/@multiformats/multiaddr/dist/test/index.spec.d.ts.map
new file mode 100644
index 0000000..5c89780
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/index.spec.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.spec.d.ts","sourceRoot":"","sources":["../../test/index.spec.ts"],"names":[],"mappings":""}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/index.spec.js b/node_modules/@multiformats/multiaddr/dist/test/index.spec.js
new file mode 100644
index 0000000..d01d566
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/index.spec.js
@@ -0,0 +1,706 @@
+/* eslint max-nested-callbacks: ["error", 8] */
+/* eslint-env mocha */
+import { expect } from 'aegir/chai';
+import { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';
+import { multiaddr, isMultiaddr, fromNodeAddress, isName, fromTuples, fromStringTuples } from '../src/index.js';
+import { codes } from '../src/protocols-table.js';
+function roundTrip(str) {
+    const output = str.replace('/ipfs/', '/p2p/');
+    const ma = multiaddr(str);
+    expect(ma.toString()).to.equal(output);
+    const bytes = multiaddr(ma.bytes);
+    expect(bytes.toString()).to.equal(output);
+    const components = multiaddr(ma.getComponents());
+    expect(components.toString()).to.equal(output);
+}
+describe('construction', () => {
+    let udpAddr;
+    it('create multiaddr', () => {
+        udpAddr = multiaddr('/ip4/127.0.0.1/udp/1234');
+        expect(isMultiaddr(udpAddr)).to.equal(true);
+    });
+    it('clone multiaddr', () => {
+        const udpAddrClone = multiaddr(udpAddr);
+        expect(udpAddrClone !== udpAddr).to.equal(true);
+    });
+    it('reconstruct with buffer', () => {
+        expect(multiaddr(udpAddr.bytes).bytes === udpAddr.bytes).to.equal(false);
+        expect(multiaddr(udpAddr.bytes).bytes).to.deep.equal(udpAddr.bytes);
+    });
+    it('reconstruct with string', () => {
+        expect(multiaddr(udpAddr.toString()).bytes === udpAddr.bytes).to.equal(false);
+        expect(multiaddr(udpAddr.toString()).bytes).to.deep.equal(udpAddr.bytes);
+    });
+    it('reconstruct with object', () => {
+        expect(multiaddr(udpAddr).bytes === udpAddr.bytes).to.equal(false);
+        expect(multiaddr(udpAddr).bytes).to.deep.equal(udpAddr.bytes);
+    });
+    it('reconstruct with JSON', () => {
+        expect(multiaddr(JSON.parse(JSON.stringify(udpAddr))).bytes === udpAddr.bytes).to.equal(false);
+        expect(multiaddr(JSON.parse(JSON.stringify(udpAddr))).bytes).to.deep.equal(udpAddr.bytes);
+    });
+    it('empty construct still works', () => {
+        expect(multiaddr('').toString()).to.equal('/');
+    });
+    it('should handle repeated /', () => {
+        expect(multiaddr('////////').toString()).to.equal('/');
+    });
+    it('null/undefined construct still works', () => {
+        expect(multiaddr().toString()).to.equal('/');
+        expect(multiaddr(null).toString()).to.equal('/');
+        expect(multiaddr(undefined).toString()).to.equal('/');
+    });
+    it('should not mutate multiaddr', () => {
+        const str = '/ip4/127.0.0.1/udp/1234';
+        udpAddr = multiaddr(str);
+        udpAddr.getComponents().pop();
+        expect(udpAddr.toString()).to.equal(str);
+    });
+    it('throws on truthy non string or buffer', () => {
+        // @ts-expect-error incorrect parameters
+        expect(() => multiaddr({})).to.throw()
+            .with.property('name', 'InvalidMultiaddrError');
+        // @ts-expect-error incorrect parameters
+        expect(() => multiaddr(138)).to.throw()
+            .with.property('name', 'InvalidMultiaddrError');
+        // @ts-expect-error incorrect parameters
+        expect(() => multiaddr(true)).to.throw()
+            .with.property('name', 'InvalidMultiaddrError');
+    });
+    it('throws on falsy non string or buffer', () => {
+        // @ts-expect-error incorrect parameters
+        expect(() => multiaddr(NaN)).to.throw()
+            .with.property('name', 'InvalidMultiaddrError');
+        // @ts-expect-error incorrect parameters
+        expect(() => multiaddr(false)).to.throw()
+            .with.property('name', 'InvalidMultiaddrError');
+        // @ts-expect-error incorrect parameters
+        expect(() => multiaddr(0)).to.throw()
+            .with.property('name', 'InvalidMultiaddrError');
+    });
+});
+describe('requiring varint', () => {
+    let uTPAddr;
+    it('create multiaddr', () => {
+        uTPAddr = multiaddr('/ip4/127.0.0.1/udp/1234/utp');
+        expect(isMultiaddr(uTPAddr)).to.equal(true);
+    });
+    it('clone multiaddr', () => {
+        const uTPAddrClone = multiaddr(uTPAddr);
+        expect(uTPAddrClone !== uTPAddr).to.equal(true);
+    });
+    it('reconstruct with buffer', () => {
+        expect(multiaddr(uTPAddr.bytes).bytes === uTPAddr.bytes).to.equal(false);
+        expect(multiaddr(uTPAddr.bytes).bytes).to.deep.equal(uTPAddr.bytes);
+    });
+    it('reconstruct with string', () => {
+        expect(multiaddr(uTPAddr.toString()).bytes === uTPAddr.bytes).to.equal(false);
+        expect(multiaddr(uTPAddr.toString()).bytes).to.deep.equal(uTPAddr.bytes);
+    });
+    it('reconstruct with object', () => {
+        expect(multiaddr(uTPAddr).bytes === uTPAddr.bytes).to.equal(false);
+        expect(multiaddr(uTPAddr).bytes).to.deep.equal(uTPAddr.bytes);
+    });
+    it('empty construct still works', () => {
+        expect(multiaddr('').toString()).to.equal('/');
+    });
+});
+describe('manipulation', () => {
+    it('basic', () => {
+        const udpAddrStr = '/ip4/127.0.0.1/udp/1234';
+        const udpAddrBuf = uint8ArrayFromString('047f000001910204d2', 'base16');
+        const udpAddr = multiaddr(udpAddrStr);
+        expect(udpAddr.toString()).to.equal(udpAddrStr);
+        expect(udpAddr.bytes).to.equalBytes(udpAddrBuf);
+        expect(udpAddr.protoCodes()).to.deep.equal([4, 273]);
+        expect(udpAddr.protoNames()).to.deep.equal(['ip4', 'udp']);
+        expect(udpAddr.protos()).to.deep.equal([codes[4], codes[273]]);
+        expect(udpAddr.protos()[0] === codes[4]).to.equal(false);
+        const udpAddrbytes2 = udpAddr.encapsulate('/udp/5678');
+        expect(udpAddrbytes2.toString()).to.equal('/ip4/127.0.0.1/udp/1234/udp/5678');
+        expect(udpAddrbytes2.decapsulate('/udp').toString()).to.equal('/ip4/127.0.0.1/udp/1234');
+        expect(udpAddrbytes2.decapsulate('/ip4').toString()).to.equal('/');
+        expect(function () { udpAddr.decapsulate('/').toString(); }).to.throw();
+        expect(multiaddr('/').encapsulate(udpAddr).toString()).to.equal(udpAddr.toString());
+        expect(multiaddr('/').decapsulate('/').toString()).to.equal('/');
+    });
+    it('ipfs', () => {
+        const ipfsAddr = multiaddr('/ipfs/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC');
+        const ip6Addr = multiaddr('/ip6/2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095');
+        const tcpAddr = multiaddr('/tcp/8000');
+        const webAddr = multiaddr('/ws');
+        expect(multiaddr('/')
+            .encapsulate(ip6Addr)
+            .encapsulate(tcpAddr)
+            .encapsulate(webAddr)
+            .encapsulate(ipfsAddr)
+            .toString()).to.equal([
+            ip6Addr.toString(),
+            tcpAddr.toString(),
+            webAddr.toString(),
+            ipfsAddr.toString()
+        ].join(''));
+        expect(multiaddr('/')
+            .encapsulate(ip6Addr)
+            .encapsulate(tcpAddr)
+            .encapsulate(webAddr)
+            .encapsulate(ipfsAddr)
+            .decapsulate(ipfsAddr)
+            .toString()).to.equal([
+            ip6Addr.toString(),
+            tcpAddr.toString(),
+            webAddr.toString()
+        ].join(''));
+        expect(multiaddr('/')
+            .encapsulate(ip6Addr)
+            .encapsulate(tcpAddr)
+            .encapsulate(ipfsAddr)
+            .encapsulate(webAddr)
+            .decapsulate(webAddr)
+            .toString()).to.equal([
+            ip6Addr.toString(),
+            tcpAddr.toString(),
+            ipfsAddr.toString()
+        ].join(''));
+    });
+});
+describe('variants', () => {
+    const variants = {
+        ip4: '/ip4/127.0.0.1',
+        ip6: '/ip6/2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095',
+        'ip4 + tcp': '/ip4/127.0.0.1/tcp/5000',
+        'ip6 + tcp': '/ip6/2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095/tcp/5000',
+        'ip4 + udp': '/ip4/127.0.0.1/udp/5000',
+        'ip6 + udp': '/ip6/2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095/udp/5000',
+        'ip4 + p2p': '/ip4/127.0.0.1/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC/tcp/1234',
+        'ip4 + ipfs': '/ip4/127.0.0.1/ipfs/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC/tcp/1234',
+        'ip6 + p2p': '/ip6/2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC/tcp/1234',
+        'ip6zone + ip6': '/ip6zone/x/ip6/fe80::1',
+        'ip4 + udp + utp': '/ip4/127.0.0.1/udp/5000/utp',
+        'ip6 + udp + utp': '/ip6/2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095/udp/5000/utp',
+        'ip4 + tcp + http': '/ip4/127.0.0.1/tcp/8000/http',
+        'ip4 + tcp + unix': '/ip4/127.0.0.1/tcp/80/unix/a%2Fb%2Fc%2Fd%2Fe%2Ff',
+        'ip6 + tcp + http': '/ip6/2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095/tcp/8000/http',
+        'ip6 + tcp + unix': '/ip6/2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095/tcp/8000/unix/a%2Fb%2Fc%2Fd%2Fe%2Ff',
+        'ip4 + tcp + https': '/ip4/127.0.0.1/tcp/8000/https',
+        'ip6 + tcp + https': '/ip6/2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095/tcp/8000/https',
+        'ip4 + tcp + websockets': '/ip4/127.0.0.1/tcp/8000/ws',
+        'ip6 + tcp + websockets': '/ip6/2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095/tcp/8000/ws',
+        'ip6 + tcp + websockets + ipfs': '/ip6/2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095/tcp/8000/ws/ipfs/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC',
+        'ip6 + tcp + websockets + p2p': '/ip6/2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095/tcp/8000/ws/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC',
+        'ip6 + udp + quic + ipfs': '/ip6/2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095/udp/4001/quic/ipfs/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC',
+        'ip6 + udp + quic + p2p': '/ip6/2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095/udp/4001/quic/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC',
+        'ip6 + udp + quic-v1 + ipfs': '/ip6/2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095/udp/4001/quic-v1/ipfs/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC',
+        'ip6 + udp + quic-v1 + p2p': '/ip6/2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095/udp/4001/quic-v1/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC',
+        'ip6 webtransport': '/ip6/2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095/udp/4001/quic-v1/webtransport',
+        'ip4 webtransport': '/ip4/1.2.3.4/udp/4001/quic-v1/webtransport',
+        'webtransport with certhash': '/ip4/1.2.3.4/udp/4001/quic-v1/webtransport/certhash/uEiAkH5a4DPGKUuOBjYw0CgwjvcJCJMD2K_1aluKR_tpevQ/certhash/uEiAfbgiymPP2_nX7Dgir8B4QkksjHp2lVuJZz0F79Be9JA/p2p/12D3KooWBdmLJjhpgJ9KZgLM3f894ff9xyBfPvPjFNn7MKJpyrC2',
+        'ip6zone + ip6 + udp + quic': '/ip6zone/x/ip6/fe80::1/udp/1234/quic',
+        unix: '/unix/a%2Fb%2Fc%2Fd%2Fe',
+        'p2p (base58btc)': '/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC',
+        ipfs: '/ipfs/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC',
+        tls: '/ip4/127.0.0.1/tcp/9090/tls/ws',
+        sni: '/ip4/127.0.0.1/tcp/9090/tls/sni/example.com/ws',
+        'http-path': '/ip4/127.0.0.1/tcp/9090/tls/http-path/tmp%2Ffoo%2F..%2Fbar',
+        onion: '/onion/timaq4ygg2iegci7:1234',
+        onion3: '/onion3/vww6ybal4bd7szmgncyruucpgfkqahzddi37ktceo3ah7ngmcopnpyyd:1234',
+        'p2p-circuit': '/p2p-circuit/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC',
+        'p2p p2p-circuit': '/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC/p2p-circuit',
+        'ipfs p2p-circuit': '/ipfs/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC/p2p-circuit',
+        'p2p-webrtc-star': '/ip4/127.0.0.1/tcp/9090/ws/p2p-webrtc-star/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC',
+        'p2p-webrtc-star ipfs': '/ip4/127.0.0.1/tcp/9090/ws/p2p-webrtc-star/ipfs/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC',
+        'p2p-webrtc-direct': '/ip4/127.0.0.1/tcp/9090/http/p2p-webrtc-direct',
+        'p2p-websocket-star': '/ip4/127.0.0.1/tcp/9090/ws/p2p-websocket-star',
+        'memory p2p': '/memory/test/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC'
+    };
+    for (const [name, value] of Object.entries(variants)) {
+        it(`should round trip ${name}`, () => {
+            roundTrip(value);
+        });
+    }
+    it.skip('onion bad length', () => {
+        const str = '/onion/timaq4ygg2iegci:80';
+        expect(() => multiaddr(str)).to.throw();
+    });
+    it.skip('onion bad port', () => {
+        const str = '/onion/timaq4ygg2iegci7:-1';
+        expect(() => multiaddr(str)).to.throw();
+    });
+    it.skip('onion no port', () => {
+        const str = '/onion/timaq4ygg2iegci7';
+        expect(() => multiaddr(str)).to.throw();
+    });
+    it.skip('onion3 bad length', () => {
+        const str = '/onion3/vww6ybal4bd7szmgncyruucpgfkqahzddi37ktceo3ah7ngmcopyyd:1234';
+        expect(() => multiaddr(str)).to.throw();
+    });
+    it.skip('onion3 bad port', () => {
+        const str = '/onion3/vww6ybal4bd7szmgncyruucpgfkqahzddi37ktceo3ah7ngmcopnpyyd:-1';
+        expect(() => multiaddr(str)).to.throw();
+    });
+    it.skip('onion3 no port', () => {
+        const str = '/onion3/vww6ybal4bd7szmgncyruucpgfkqahzddi37ktceo3ah7ngmcopnpyyd';
+        expect(() => multiaddr(str)).to.throw();
+    });
+});
+describe('normalize', () => {
+    const variants = {
+        'ip6 with zeroes': {
+            input: '/ip6/0001:08a0:00c5:4201:3ac9:86ff:fe31:0709',
+            output: '/ip6/1:8a0:c5:4201:3ac9:86ff:fe31:709'
+        },
+        'ip6 loopback': {
+            input: '/ip6/0000:0000:0000:0000:0000:0000:0000:0001',
+            output: '/ip6/::1'
+        },
+        'ip6 with ip4': {
+            input: '/ip6/::101.45.75.219/tcp/9090',
+            output: '/ip6/::652d:4bdb/tcp/9090'
+        },
+        'ip6 with ip4 without padding': {
+            input: '/ip6/::1.45.5.219/tcp/9090',
+            output: '/ip6/::12d:5db/tcp/9090'
+        },
+        'ipfs to p2p': {
+            input: '/ipfs/bafzbeidt255unskpefjmqb2rc27vjuyxopkxgaylxij6pw35hhys4vnyp4',
+            output: '/p2p/bafzbeidt255unskpefjmqb2rc27vjuyxopkxgaylxij6pw35hhys4vnyp4'
+        }
+    };
+    for (const [name, value] of Object.entries(variants)) {
+        it(`should normalize ${name}`, () => {
+            const ma = multiaddr(value.input);
+            expect(ma.toString()).to.equal(value.output);
+        });
+    }
+});
+describe('helpers', () => {
+    describe('.toOptions', () => {
+        it('returns a well formed options object', () => {
+            expect(multiaddr('/ip4/0.0.0.0/tcp/1234').toOptions())
+                .to.eql({
+                family: 4,
+                host: '0.0.0.0',
+                transport: 'tcp',
+                port: 1234
+            });
+        });
+        it('returns an options object from a DNS addr', () => {
+            expect(multiaddr('/dns4/google.net/tcp/8000').toOptions())
+                .to.eql({
+                family: 4,
+                host: 'google.net',
+                transport: 'tcp',
+                port: 8000
+            });
+        });
+        it('returns an options object from a DNS6 addr', () => {
+            expect(multiaddr('/dns6/google.net/tcp/8000').toOptions())
+                .to.eql({
+                family: 6,
+                host: 'google.net',
+                transport: 'tcp',
+                port: 8000
+            });
+        });
+        it('returns an options object from a DNS addr defaulting to https', () => {
+            expect(multiaddr('/dnsaddr/google.net').toOptions())
+                .to.eql({
+                family: 4,
+                host: 'google.net',
+                transport: 'tcp',
+                port: 443
+            });
+        });
+        it('returns an options object from a DNS addr with a PeerID defaulting to https', () => {
+            expect(multiaddr('/dnsaddr/google.net/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC').toOptions())
+                .to.eql({
+                family: 4,
+                host: 'google.net',
+                transport: 'tcp',
+                port: 443
+            });
+        });
+        it('returns an options object from an address with an ip6 zone', () => {
+            expect(multiaddr('/ip6zone/x/ip6/fe80::1/tcp/1234').toOptions()).to.be.eql({
+                family: 6,
+                host: 'fe80::1%x',
+                transport: 'tcp',
+                port: 1234
+            });
+        });
+    });
+    describe('.protos', () => {
+        it('returns a list of all protocols in the address', () => {
+            expect(multiaddr('/ip4/0.0.0.0/utp').protos())
+                .to.eql([{
+                    code: 4,
+                    name: 'ip4',
+                    path: false,
+                    size: 32,
+                    resolvable: false
+                }, {
+                    code: 302,
+                    name: 'utp',
+                    path: false,
+                    size: 0,
+                    resolvable: false
+                }]);
+        });
+        it('works with ipfs', () => {
+            expect(multiaddr('/ip4/0.0.0.0/utp/ipfs/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC').protos()).to.be.eql([{
+                    code: 4,
+                    name: 'ip4',
+                    path: false,
+                    size: 32,
+                    resolvable: false
+                }, {
+                    code: 302,
+                    name: 'utp',
+                    path: false,
+                    size: 0,
+                    resolvable: false
+                }, {
+                    code: 421,
+                    name: 'p2p',
+                    path: false,
+                    size: -1,
+                    resolvable: false
+                }]);
+        });
+        it('works with p2p', () => {
+            expect(multiaddr('/ip4/0.0.0.0/utp/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC').protos()).to.be.eql([{
+                    code: 4,
+                    name: 'ip4',
+                    path: false,
+                    size: 32,
+                    resolvable: false
+                }, {
+                    code: 302,
+                    name: 'utp',
+                    path: false,
+                    size: 0,
+                    resolvable: false
+                }, {
+                    code: 421,
+                    name: 'p2p',
+                    path: false,
+                    size: -1,
+                    resolvable: false
+                }]);
+        });
+        it('works with unix', () => {
+            expect(multiaddr('/ip4/0.0.0.0/tcp/8000/unix/tmp%2Fp2p.sock').protos()).to.be.eql([{
+                    code: 4,
+                    name: 'ip4',
+                    path: false,
+                    size: 32,
+                    resolvable: false
+                }, {
+                    code: 6,
+                    name: 'tcp',
+                    path: false,
+                    size: 16,
+                    resolvable: false
+                }, {
+                    code: 400,
+                    name: 'unix',
+                    path: true,
+                    size: -1,
+                    resolvable: false
+                }]);
+        });
+        it('works with memory', () => {
+            expect(multiaddr('/memory/test/p2p/QmZR5a9AAXGqQF2ADqoDdGS8zvqv8n3Pag6TDDnTNMcFW6').protos()).to.be.eql([{
+                    code: 777,
+                    name: 'memory',
+                    path: false,
+                    size: -1,
+                    resolvable: false
+                }, {
+                    code: 421,
+                    name: 'p2p',
+                    path: false,
+                    size: -1,
+                    resolvable: false
+                }]);
+        });
+    });
+    describe('.tuples', () => {
+        it('returns the tuples', () => {
+            expect(multiaddr('/ip4/0.0.0.0/utp').tuples())
+                .to.eql([
+                [4, Uint8Array.from([0, 0, 0, 0])],
+                [302]
+            ]);
+        });
+        it('does not allow modifying parts', () => {
+            const ma = multiaddr('/ip4/0.0.0.0/tcp/1234');
+            const tuples = ma.tuples();
+            tuples[0][0] = 41;
+            expect(ma.toOptions()).to.have.property('family', 4);
+        });
+    });
+    describe('.stringTuples', () => {
+        it('returns the string partss', () => {
+            expect(multiaddr('/ip4/0.0.0.0/utp').stringTuples())
+                .to.eql([
+                [4, '0.0.0.0'],
+                [302]
+            ]);
+        });
+        it('does not allow modifying string parts', () => {
+            const ma = multiaddr('/ip4/0.0.0.0/tcp/1234');
+            const tuples = ma.stringTuples();
+            tuples[0][0] = 41;
+            expect(ma.toOptions()).to.have.property('family', 4);
+        });
+    });
+    describe('.decapsulate', () => {
+        it('throws on address with no matching subaddress', () => {
+            expect(() => multiaddr('/ip4/127.0.0.1').decapsulate('/ip4/198.168.0.0')).to.throw(/does not contain subaddress/);
+        });
+    });
+    describe('.decapsulateCode', () => {
+        it('removes the last occurrence of the code from the multiaddr', () => {
+            const relayTCP = multiaddr('/ip4/0.0.0.0/tcp/8080');
+            const relay = relayTCP.encapsulate('/p2p/QmZR5a9AAXGqQF2ADqoDdGS8zvqv8n3Pag6TDDnTNMcFW6/p2p-circuit');
+            const target = multiaddr('/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC');
+            const original = relay.encapsulate(target);
+            expect(original.decapsulateCode(421).toJSON()).to.equal(relay.toJSON());
+            expect(relay.decapsulateCode(421).toJSON()).to.equal(relayTCP.toJSON());
+        });
+        it('ignores missing codes', () => {
+            const tcp = multiaddr('/ip4/0.0.0.0/tcp/8080');
+            expect(tcp.decapsulateCode(421).toJSON()).to.equal(tcp.toJSON());
+        });
+    });
+    describe('.equals', () => {
+        it('returns true for equal addresses', () => {
+            const addr1 = multiaddr('/ip4/192.168.0.1');
+            const addr2 = multiaddr('/ip4/192.168.0.1');
+            expect(addr1.equals(addr2)).to.equal(true);
+        });
+        it('returns false for non equal addresses', () => {
+            const addr1 = multiaddr('/ip4/192.168.1.1');
+            const addr2 = multiaddr('/ip4/192.168.0.1');
+            expect(addr1.equals(addr2)).to.equal(false);
+        });
+    });
+    describe('.nodeAddress', () => {
+        it('throws on an invalid node address', () => {
+            expect(() => multiaddr('/ip4/192.168.0.1/utp').nodeAddress()).to.throw(/multiaddr must have a valid format/);
+        });
+        it('returns a node friendly address', () => {
+            expect(multiaddr('/ip4/192.168.0.1/tcp/1234').nodeAddress()).to.be.eql({
+                address: '192.168.0.1',
+                family: 4,
+                port: 1234
+            });
+        });
+        it('returns a node friendly address with dns', () => {
+            expect(multiaddr('/dns/wss0.bootstrap.libp2p.io/tcp/443').nodeAddress()).to.be.eql({
+                address: 'wss0.bootstrap.libp2p.io',
+                family: 4,
+                port: 443
+            });
+        });
+        it('returns a node friendly address with dns4', () => {
+            expect(multiaddr('/dns4/wss0.bootstrap.libp2p.io/tcp/443').nodeAddress()).to.be.eql({
+                address: 'wss0.bootstrap.libp2p.io',
+                family: 4,
+                port: 443
+            });
+        });
+        it('returns a node friendly address with dns6', () => {
+            expect(multiaddr('/dns6/wss0.bootstrap.libp2p.io/tcp/443').nodeAddress()).to.be.eql({
+                address: 'wss0.bootstrap.libp2p.io',
+                family: 6,
+                port: 443
+            });
+        });
+        it('returns a node friendly address with dnsaddr', () => {
+            expect(multiaddr('/dnsaddr/wss0.bootstrap.libp2p.io/tcp/443').nodeAddress()).to.be.eql({
+                address: 'wss0.bootstrap.libp2p.io',
+                family: 4,
+                port: 443
+            });
+        });
+        it('should transform a p2p dnsaddr without a tcp port into a node address', () => {
+            expect(multiaddr('/dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN').nodeAddress()).to.be.eql({
+                address: 'bootstrap.libp2p.io',
+                family: 4,
+                port: 443
+            });
+        });
+        it('transforms an address with an ip6 zone', () => {
+            expect(multiaddr('/ip6zone/x/ip6/fe80::1/tcp/1234').nodeAddress()).to.be.eql({
+                address: 'fe80::1%x',
+                family: 6,
+                port: 1234
+            });
+        });
+        it('throws on an invalid format address when the addr is not prefixed with a /', () => {
+            expect(() => multiaddr('ip4/192.168.0.1/udp').nodeAddress()).to.throw()
+                .with.property('name', 'InvalidMultiaddrError');
+        });
+        it('throws on an invalid protocol name when the addr has an invalid one', () => {
+            expect(() => multiaddr('/ip5/127.0.0.1/udp/5000')).to.throw()
+                .with.property('name', 'InvalidProtocolError');
+        });
+        it('throws on an invalid protocol name when the transport protocol is not valid', () => {
+            expect(() => multiaddr('/ip4/127.0.0.1/utp/5000')).to.throw()
+                .with.property('name', 'InvalidProtocolError');
+        });
+    });
+    describe('.fromNodeAddress', () => {
+        it('throws on missing address object', () => {
+            expect(
+            // @ts-expect-error incorrect parameters
+            () => fromNodeAddress()).to.throw()
+                .with.property('name', 'InvalidParametersError');
+        });
+        it('throws on missing transport', () => {
+            expect(
+            // @ts-expect-error incorrect parameters
+            () => fromNodeAddress({ address: '0.0.0.0' })).to.throw()
+                .with.property('name', 'InvalidParametersError');
+        });
+        it('parses a node address', () => {
+            expect(fromNodeAddress({
+                address: '192.168.0.1',
+                family: 4,
+                port: 1234
+            }, 'tcp').toString()).to.equal('/ip4/192.168.0.1/tcp/1234');
+        });
+        it('parses a node address with an ip6zone', () => {
+            expect(fromNodeAddress({
+                address: 'fe80::1%x',
+                family: 6,
+                port: 1234
+            }, 'tcp').toString()).to.equal('/ip6zone/x/ip6/fe80::1/tcp/1234');
+        });
+    });
+    describe('.fromTuples', () => {
+        it('should create a multiaddr from a list of tuples', () => {
+            const ma = multiaddr('/ip4/0.0.0.0');
+            const tuples = ma.tuples();
+            tuples.push([0x06, Uint8Array.from([0, 100])]);
+            const ma2 = fromTuples(tuples);
+            expect(ma2.toString()).to.equal('/ip4/0.0.0.0/tcp/100');
+        });
+    });
+    describe('.fromStringTuples', () => {
+        it('should create a multiaddr from a list of string tuples', () => {
+            const ma = multiaddr('/ip4/0.0.0.0');
+            const tuples = ma.stringTuples();
+            tuples.push([0x06, '100']);
+            const ma2 = fromStringTuples(tuples);
+            expect(ma2.toString()).to.equal('/ip4/0.0.0.0/tcp/100');
+        });
+    });
+    describe('.isThinWaistAddress', () => {
+        const families = ['ip4', 'ip6'];
+        const transports = ['tcp', 'udp'];
+        const addresses = {
+            ip4: '192.168.0.1',
+            ip6: '2001:8a0:7ac5:4201:3ac9:86ff:fe31:7095'
+        };
+        families.forEach((family) => {
+            transports.forEach((transport) => {
+                it(`returns true for /${family}-${transport}`, () => {
+                    expect(multiaddr(`/${family}/${addresses[family]}/${transport}/1234`).isThinWaistAddress()).to.equal(true);
+                });
+            });
+        });
+        it('returns false for two protocols not using {IPv4, IPv6}/{TCP, UDP}', () => {
+            expect(multiaddr('/ip4/192.168.0.1/utp').isThinWaistAddress()).to.be.false();
+            expect(multiaddr('/ip4/192.168.0.1/sctp/1234').isThinWaistAddress()).to.be.false();
+            expect(multiaddr('/http/utp').isThinWaistAddress()).to.be.false();
+        });
+        it('returns false for more than two protocols', () => {
+            expect(multiaddr('/ip4/0.0.0.0/tcp/1234/utp').isThinWaistAddress()).to.be.false();
+        });
+    });
+    describe('.getPeerId should parse id from multiaddr', () => {
+        it('extracts the peer Id from a multiaddr, p2p', () => {
+            expect(multiaddr('/p2p-circuit/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC').getPeerId()).to.equal('QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC');
+        });
+        it('extracts the correct peer Id from a circuit multiaddr', () => {
+            expect(multiaddr('/ip4/0.0.0.0/tcp/8080/p2p/QmZR5a9AAXGqQF2ADqoDdGS8zvqv8n3Pag6TDDnTNMcFW6/p2p-circuit/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC').getPeerId()).to.equal('QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC');
+        });
+        it('extracts the peer Id from a multiaddr, p2p and CIDv1 Base32', () => {
+            expect(multiaddr('/p2p-circuit/p2p/bafzbeigweq4zr4x4ky2dvv7nanbkw6egutvrrvzw6g3h2rftp7gidyhtt4').getPeerId()).to.equal('QmckZzdVd72h9QUFuJJpQqhsZqGLwjhh81qSvZ9BhB2FQi');
+        });
+        it('extracts the peer Id from a multiaddr, p2p and CIDv1 Base32, where Id contains non b58 chars', () => {
+            expect(multiaddr('/p2p-circuit/p2p/bafzbeidt255unskpefjmqb2rc27vjuyxopkxgaylxij6pw35hhys4vnyp4').getPeerId()).to.equal('QmW8rAgaaA6sRydK1k6vonShQME47aDxaFidbtMevWs73t');
+        });
+        it('extracts the peer Id from a multiaddr, p2p and base58btc encoded identity multihash', () => {
+            expect(multiaddr('/p2p-circuit/p2p/12D3KooWNvSZnPi3RrhrTwEY4LuuBeB6K6facKUCJcyWG1aoDd2p').getPeerId()).to.equal('12D3KooWNvSZnPi3RrhrTwEY4LuuBeB6K6facKUCJcyWG1aoDd2p');
+        });
+        it('does not extract a peer Id from a circuit relay multiaddr where only the relay peer id is present', () => {
+            expect(multiaddr('/ip4/127.0.0.1/tcp/123/p2p/bafzbeigweq4zr4x4ky2dvv7nanbkw6egutvrrvzw6g3h2rftp7gidyhtt4/p2p-circuit').getPeerId()).to.be.null();
+        });
+    });
+    describe('.getPeerId should return null on missing peer id in multiaddr', () => {
+        it('parses extracts the peer Id from a multiaddr', () => {
+            expect(multiaddr('/ip4/0.0.0.0/tcp/1234/utp').getPeerId()).to.be.null();
+        });
+    });
+    describe('.getPath', () => {
+        it('should return a path for unix', () => {
+            expect(multiaddr('/unix/tmp%2Fp2p.sock').getPath()).to.eql('/tmp/p2p.sock');
+        });
+        it('should return a path for unix when other protos exist', () => {
+            expect(multiaddr('/ip4/0.0.0.0/tcp/1234/unix/tmp%2Fp2p.sock').getPath()).to.eql('/tmp/p2p.sock');
+        });
+        it('should not return a path when no path proto exists', () => {
+            expect(multiaddr('/ip4/0.0.0.0/tcp/1234/p2p-circuit/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC').getPath()).to.eql(null);
+        });
+    });
+    describe('multiaddr.isMultiaddr', () => {
+        it('handles different inputs', () => {
+            expect(isMultiaddr(multiaddr('/'))).to.be.eql(true);
+            expect(isMultiaddr(multiaddr('/ip4/192.0.2.0/ipcidr/24'))).to.be.eql(true);
+            expect(isMultiaddr('/')).to.be.eql(false);
+            expect(isMultiaddr(123)).to.be.eql(false);
+            expect(isMultiaddr(uint8ArrayFromString('/hello'))).to.be.eql(false);
+        });
+    });
+    describe('resolvable multiaddrs', () => {
+        describe('.isName', () => {
+            it('valid name dns', () => {
+                const str = '/dns/ipfs.io';
+                const addr = multiaddr(str);
+                expect(isName(addr)).to.equal(true);
+            });
+            it('valid name dnsaddr', () => {
+                const str = '/dnsaddr/ipfs.io';
+                const addr = multiaddr(str);
+                expect(isName(addr)).to.equal(true);
+            });
+            it('valid name dns4', () => {
+                const str = '/dns4/ipfs.io';
+                const addr = multiaddr(str);
+                expect(isName(addr)).to.equal(true);
+            });
+            it('valid name dns6', () => {
+                const str = '/dns6/ipfs.io';
+                const addr = multiaddr(str);
+                expect(isName(addr)).to.equal(true);
+            });
+            it('invalid name', () => {
+                const str = '/ip4/127.0.0.1';
+                const addr = multiaddr(str);
+                expect(isName(addr)).to.equal(false);
+            });
+        });
+    });
+});
+describe('unknown protocols', () => {
+    it('throws an error', () => {
+        const str = '/ip4/127.0.0.1/unknown';
+        expect(() => multiaddr(str)).to.throw()
+            .with.property('name', 'InvalidProtocolError');
+    });
+});
+//# sourceMappingURL=index.spec.js.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/index.spec.js.map b/node_modules/@multiformats/multiaddr/dist/test/index.spec.js.map
new file mode 100644
index 0000000..e89c120
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/index.spec.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.spec.js","sourceRoot":"","sources":["../../test/index.spec.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/ip.spec.d.ts b/node_modules/@multiformats/multiaddr/dist/test/ip.spec.d.ts
new file mode 100644
index 0000000..bace9da
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/ip.spec.d.ts
@@ -0,0 +1,2 @@
+export {};
+//# sourceMappingURL=ip.spec.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/ip.spec.d.ts.map b/node_modules/@multiformats/multiaddr/dist/test/ip.spec.d.ts.map
new file mode 100644
index 0000000..bb53d28
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/ip.spec.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"ip.spec.d.ts","sourceRoot":"","sources":["../../test/ip.spec.ts"],"names":[],"mappings":""}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/ip.spec.js b/node_modules/@multiformats/multiaddr/dist/test/ip.spec.js
new file mode 100644
index 0000000..86e9c26
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/ip.spec.js
@@ -0,0 +1,24 @@
+/* eslint max-nested-callbacks: ["error", 8] */
+/* eslint-env mocha */
+import { expect } from 'aegir/chai';
+import { toBytes, toString } from '../src/ip.js';
+describe('ip', () => {
+    describe('toBytes', () => {
+        it('should handle extra characters', () => {
+            const address = '127.0.0.1 ';
+            const bytes = toBytes(address);
+            expect(toString(bytes)).to.equal(address.trim());
+        });
+        it('should turn loopback into bytes', () => {
+            const address = '127.0.0.1';
+            const bytes = toBytes(address);
+            expect(toString(bytes)).to.equal(address);
+        });
+        it('should turn private address into bytes', () => {
+            const address = '192.168.1.1';
+            const bytes = toBytes(address);
+            expect(toString(bytes)).to.equal(address);
+        });
+    });
+});
+//# sourceMappingURL=ip.spec.js.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/ip.spec.js.map b/node_modules/@multiformats/multiaddr/dist/test/ip.spec.js.map
new file mode 100644
index 0000000..8be6b3c
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/ip.spec.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"ip.spec.js","sourceRoot":"","sources":["../../test/ip.spec.ts"],"names":[],"mappings":"AAAA,+CAA+C;AAC/C,sBAAsB;AACtB,OAAO,EAAE,MAAM,EAAE,MAAM,YAAY,CAAA;AACnC,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAA;AAEhD,QAAQ,CAAC,IAAI,EAAE,GAAG,EAAE;IAClB,QAAQ,CAAC,SAAS,EAAE,GAAG,EAAE;QACvB,EAAE,CAAC,gCAAgC,EAAE,GAAG,EAAE;YACxC,MAAM,OAAO,GAAG,YAAY,CAAA;YAC5B,MAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;YAE9B,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAA;QAClD,CAAC,CAAC,CAAA;QAEF,EAAE,CAAC,iCAAiC,EAAE,GAAG,EAAE;YACzC,MAAM,OAAO,GAAG,WAAW,CAAA;YAC3B,MAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;YAE9B,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;QAC3C,CAAC,CAAC,CAAA;QAEF,EAAE,CAAC,wCAAwC,EAAE,GAAG,EAAE;YAChD,MAAM,OAAO,GAAG,aAAa,CAAA;YAC7B,MAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;YAE9B,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;QAC3C,CAAC,CAAC,CAAA;IACJ,CAAC,CAAC,CAAA;AACJ,CAAC,CAAC,CAAA"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/protocols.spec.d.ts b/node_modules/@multiformats/multiaddr/dist/test/protocols.spec.d.ts
new file mode 100644
index 0000000..ec9f636
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/protocols.spec.d.ts
@@ -0,0 +1,2 @@
+export {};
+//# sourceMappingURL=protocols.spec.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/protocols.spec.d.ts.map b/node_modules/@multiformats/multiaddr/dist/test/protocols.spec.d.ts.map
new file mode 100644
index 0000000..1aa8d4a
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/protocols.spec.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"protocols.spec.d.ts","sourceRoot":"","sources":["../../test/protocols.spec.ts"],"names":[],"mappings":""}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/protocols.spec.js b/node_modules/@multiformats/multiaddr/dist/test/protocols.spec.js
new file mode 100644
index 0000000..9a4a23d
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/protocols.spec.js
@@ -0,0 +1,22 @@
+/* eslint-env mocha */
+import { expect } from 'aegir/chai';
+import { protocols } from '../src/index.js';
+describe('protocols', () => {
+    describe('throws on non existent protocol', () => {
+        it('number', () => {
+            expect(() => protocols(1234)).to.throw()
+                .with.property('name', 'InvalidProtocolError');
+        });
+        it('string', () => {
+            expect(() => protocols('hello')).to.throw()
+                .with.property('name', 'InvalidProtocolError');
+        });
+        it('else', () => {
+            expect(
+            // @ts-expect-error incorrect parameters
+            () => protocols({ hi: 34 })).to.throw()
+                .with.property('name', 'InvalidProtocolError');
+        });
+    });
+});
+//# sourceMappingURL=protocols.spec.js.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/protocols.spec.js.map b/node_modules/@multiformats/multiaddr/dist/test/protocols.spec.js.map
new file mode 100644
index 0000000..da3c64c
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/protocols.spec.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"protocols.spec.js","sourceRoot":"","sources":["../../test/protocols.spec.ts"],"names":[],"mappings":"AAAA,sBAAsB;AACtB,OAAO,EAAE,MAAM,EAAE,MAAM,YAAY,CAAA;AACnC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAA;AAE3C,QAAQ,CAAC,WAAW,EAAE,GAAG,EAAE;IACzB,QAAQ,CAAC,iCAAiC,EAAE,GAAG,EAAE;QAC/C,EAAE,CAAC,QAAQ,EAAE,GAAG,EAAE;YAChB,MAAM,CACJ,GAAG,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,CACtB,CAAC,EAAE,CAAC,KAAK,EAAE;iBACT,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,sBAAsB,CAAC,CAAA;QAClD,CAAC,CAAC,CAAA;QAEF,EAAE,CAAC,QAAQ,EAAE,GAAG,EAAE;YAChB,MAAM,CACJ,GAAG,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,CACzB,CAAC,EAAE,CAAC,KAAK,EAAE;iBACT,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,sBAAsB,CAAC,CAAA;QAClD,CAAC,CAAC,CAAA;QAEF,EAAE,CAAC,MAAM,EAAE,GAAG,EAAE;YACd,MAAM;YACJ,wCAAwC;YACxC,GAAG,EAAE,CAAC,SAAS,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAC5B,CAAC,EAAE,CAAC,KAAK,EAAE;iBACT,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,sBAAsB,CAAC,CAAA;QAClD,CAAC,CAAC,CAAA;IACJ,CAAC,CAAC,CAAA;AACJ,CAAC,CAAC,CAAA"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/resolvers.spec.d.ts b/node_modules/@multiformats/multiaddr/dist/test/resolvers.spec.d.ts
new file mode 100644
index 0000000..f8c03e0
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/resolvers.spec.d.ts
@@ -0,0 +1,2 @@
+export {};
+//# sourceMappingURL=resolvers.spec.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/resolvers.spec.d.ts.map b/node_modules/@multiformats/multiaddr/dist/test/resolvers.spec.d.ts.map
new file mode 100644
index 0000000..a341034
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/resolvers.spec.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"resolvers.spec.d.ts","sourceRoot":"","sources":["../../test/resolvers.spec.ts"],"names":[],"mappings":""}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/resolvers.spec.js b/node_modules/@multiformats/multiaddr/dist/test/resolvers.spec.js
new file mode 100644
index 0000000..8c5808d
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/resolvers.spec.js
@@ -0,0 +1,173 @@
+import { RecordType } from '@multiformats/dns';
+import { expect } from 'aegir/chai';
+import sinon from 'sinon';
+import { stubInterface } from 'sinon-ts';
+import { multiaddr, resolvers } from '../src/index.js';
+import { dnsaddrResolver } from '../src/resolvers/index.js';
+const stubs = {
+    '_dnsaddr.bootstrap.libp2p.io': [
+        'dnsaddr=/dnsaddr/ams-1.bootstrap.libp2p.io/p2p/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd',
+        'dnsaddr=/dnsaddr/ams-2.bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb'
+    ],
+    '_dnsaddr.ams-1.bootstrap.libp2p.io': [
+        'dnsaddr=/ip4/147.75.83.83/tcp/4001/p2p/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd',
+        'dnsaddr=/ip4/147.75.83.83/tcp/443/wss/p2p/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd',
+        'dnsaddr=/ip4/147.75.83.83/udp/4001/quic/p2p/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd',
+        'dnsaddr=/ip6/2604:1380:2000:7a00::1/tcp/4001/p2p/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd',
+        'dnsaddr=/ip6/2604:1380:2000:7a00::1/tcp/443/wss/p2p/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd',
+        'dnsaddr=/ip6/2604:1380:2000:7a00::1/udp/4001/quic/p2p/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd'
+    ],
+    '_dnsaddr.ams-2.bootstrap.libp2p.io': [
+        'dnsaddr=/ip4/147.75.83.83/tcp/4001/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb',
+        'dnsaddr=/ip4/147.75.83.83/tcp/443/wss/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb',
+        'dnsaddr=/ip4/147.75.83.83/udp/4001/quic/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb',
+        'dnsaddr=/ip6/2604:1380:2000:7a00::1/tcp/4001/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb',
+        'dnsaddr=/ip6/2604:1380:2000:7a00::1/tcp/443/wss/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb',
+        'dnsaddr=/ip6/2604:1380:2000:7a00::1/udp/4001/quic/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb'
+    ],
+    '_dnsaddr.bad-addrs.libp2p.io': [
+        'dnsaddr=/dnsaddr/sv15.bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN',
+        'dnsaddr=/dnsaddr/ny5.bootstrap.libp2p.io/p2p/QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa',
+        'dnsaddr_record_value',
+        'dnsaddr=/dnsaddr/am6.bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb',
+        'dnsaddr=/dnsaddr/sg1.bootstrap.libp2p.io/p2p/QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt'
+    ],
+    '_dnsaddr.am6.bootstrap.libp2p.io': [
+        'dnsaddr=/ip4/147.75.83.83/tcp/4001/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb'
+    ],
+    '_dnsaddr.self-referential.io': [
+        'dnsaddr=/dnsaddr/self-referential.io'
+    ],
+    '_dnsaddr.double-quoted-answer.io': [
+        '"dnsaddr=/ip4/147.75.83.83/tcp/4001/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb"'
+    ],
+    '_dnsaddr.single-quoted-answer.io': [
+        "'dnsaddr=/ip4/147.75.83.83/tcp/4001/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb'"
+    ],
+    '_dnsaddr.mixed-quoted-answer.io': [
+        '"\'""" dnsaddr=/ip4/147.75.83.83/tcp/4001/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb"  "'
+    ]
+};
+describe('multiaddr resolve', () => {
+    let dns;
+    beforeEach(() => {
+        dns = stubInterface({
+            query: sinon.stub().callsFake((domain) => {
+                if (stubs[domain] != null) {
+                    return {
+                        Answer: stubs[domain].map(data => ({
+                            name: '_dnsaddr.bootstrap.libp2p.io',
+                            type: RecordType.TXT,
+                            ttl: 100,
+                            data
+                        }))
+                    };
+                }
+                throw new Error(`No result stubbed for ${domain}`);
+            })
+        });
+        resolvers.set('dnsaddr', dnsaddrResolver);
+    });
+    it('should throw if no resolver is available', async () => {
+        const ma = multiaddr('/dnsaddr/bootstrap.libp2p.io');
+        resolvers.clear();
+        // Resolve
+        await expect(ma.resolve()).to.eventually.be.rejected()
+            .and.to.have.property('name', 'NoAvailableResolverError');
+    });
+    describe('dnsaddr', () => {
+        afterEach(() => {
+            sinon.restore();
+        });
+        it('can resolve dnsaddr without no peerId', async () => {
+            const ma = multiaddr('/dnsaddr/bootstrap.libp2p.io');
+            // Resolve
+            const resolvedMas = await ma.resolve({
+                dns
+            });
+            expect(resolvedMas).to.deep.equal([
+                ...stubs['_dnsaddr.ams-1.bootstrap.libp2p.io'].map(addr => multiaddr(addr.split('=').pop())),
+                ...stubs['_dnsaddr.ams-2.bootstrap.libp2p.io'].map(addr => multiaddr(addr.split('=').pop()))
+            ]);
+        });
+        it('can resolve dnsaddr with peerId', async () => {
+            const ma = multiaddr('/dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb');
+            // Resolve
+            const resolvedMas = await ma.resolve({
+                dns
+            });
+            expect(resolvedMas).to.deep.equal([
+                ...stubs['_dnsaddr.ams-2.bootstrap.libp2p.io'].map(addr => multiaddr(addr.split('=').pop()))
+            ]);
+        });
+        it('can resolve dnsaddr with bad record', async () => {
+            const ma = multiaddr('/dnsaddr/bad-addrs.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb');
+            // Resolve
+            const resolvedMas = await ma.resolve({
+                dns
+            });
+            // Should only have one address with the same peer id and should ignore the bad record
+            expect(resolvedMas).to.have.lengthOf(1);
+            expect(resolvedMas[0].toString()).to.equal(stubs['_dnsaddr.am6.bootstrap.libp2p.io'][0].split('=').pop());
+        });
+        it('can cancel resolving', async () => {
+            const ma = multiaddr('/dnsaddr/bootstrap.libp2p.ii/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nc');
+            const controller = new AbortController();
+            // Resolve
+            const resolvePromise = ma.resolve({
+                signal: controller.signal
+            });
+            controller.abort();
+            await expect(resolvePromise).to.eventually.be.rejected();
+        });
+        it('should abort resolving deeply nested records', async () => {
+            const ma = multiaddr('/dnsaddr/bootstrap.libp2p.io');
+            // Resolve
+            const resolvePromise = ma.resolve({
+                dns,
+                maxRecursiveDepth: 1
+            });
+            await expect(resolvePromise).to.eventually.be.rejected().with.property('name', 'RecursionLimitError');
+        });
+        it('should handle recursive loops', async () => {
+            const ma = multiaddr('/dnsaddr/self-referential.io');
+            // Resolve
+            const resolvePromise = ma.resolve({
+                dns,
+                maxRecursiveDepth: 1
+            });
+            await expect(resolvePromise).to.eventually.be.rejected().with.property('name', 'RecursionLimitError');
+        });
+        it('should handle double quotes', async () => {
+            const ma = multiaddr('/dnsaddr/double-quoted-answer.io');
+            // Resolve
+            const resolvedMas = await ma.resolve({
+                dns
+            });
+            // Should ignore double quotes
+            expect(resolvedMas).to.have.lengthOf(1);
+            expect(resolvedMas[0].toString()).to.equal('/ip4/147.75.83.83/tcp/4001/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb');
+        });
+        it('should handle single quotes', async () => {
+            const ma = multiaddr('/dnsaddr/single-quoted-answer.io');
+            // Resolve
+            const resolvedMas = await ma.resolve({
+                dns
+            });
+            // Should ignore double quotes
+            expect(resolvedMas).to.have.lengthOf(1);
+            expect(resolvedMas[0].toString()).to.equal('/ip4/147.75.83.83/tcp/4001/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb');
+        });
+        it('should handle mixed quotes', async () => {
+            const ma = multiaddr('/dnsaddr/mixed-quoted-answer.io');
+            // Resolve
+            const resolvedMas = await ma.resolve({
+                dns
+            });
+            // Should ignore double quotes
+            expect(resolvedMas).to.have.lengthOf(1);
+            expect(resolvedMas[0].toString()).to.equal('/ip4/147.75.83.83/tcp/4001/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb');
+        });
+    });
+});
+//# sourceMappingURL=resolvers.spec.js.map
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/test/resolvers.spec.js.map b/node_modules/@multiformats/multiaddr/dist/test/resolvers.spec.js.map
new file mode 100644
index 0000000..c1e0d19
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/dist/test/resolvers.spec.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"resolvers.spec.js","sourceRoot":"","sources":["../../test/resolvers.spec.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/dist/typedoc-urls.json b/node_modules/@multiformats/multiaddr/dist/typedoc-urls.json
deleted file mode 100644
index cf8ba23..0000000
--- a/node_modules/@multiformats/multiaddr/dist/typedoc-urls.json
+++ /dev/null
@@ -1,48 +0,0 @@
-{
-  "convert": "https://multiformats.github.io/js-multiaddr/functions/convert.convert.html",
-  "./convert:convert": "https://multiformats.github.io/js-multiaddr/functions/convert.convert.html",
-  "convertToBytes": "https://multiformats.github.io/js-multiaddr/functions/convert.convertToBytes.html",
-  "./convert:convertToBytes": "https://multiformats.github.io/js-multiaddr/functions/convert.convertToBytes.html",
-  "convertToIpNet": "https://multiformats.github.io/js-multiaddr/functions/convert.convertToIpNet.html",
-  "./convert:convertToIpNet": "https://multiformats.github.io/js-multiaddr/functions/convert.convertToIpNet.html",
-  "convertToString": "https://multiformats.github.io/js-multiaddr/functions/convert.convertToString.html",
-  "./convert:convertToString": "https://multiformats.github.io/js-multiaddr/functions/convert.convertToString.html",
-  "MultiaddrFilter": "https://multiformats.github.io/js-multiaddr/classes/index.MultiaddrFilter.html",
-  "AbortOptions": "https://multiformats.github.io/js-multiaddr/interfaces/index.AbortOptions.html",
-  ".:AbortOptions": "https://multiformats.github.io/js-multiaddr/interfaces/index.AbortOptions.html",
-  "Multiaddr": "https://multiformats.github.io/js-multiaddr/interfaces/index.Multiaddr.html",
-  ".:Multiaddr": "https://multiformats.github.io/js-multiaddr/interfaces/index.Multiaddr.html",
-  "MultiaddrObject": "https://multiformats.github.io/js-multiaddr/interfaces/index.MultiaddrObject.html",
-  ".:MultiaddrObject": "https://multiformats.github.io/js-multiaddr/interfaces/index.MultiaddrObject.html",
-  "NodeAddress": "https://multiformats.github.io/js-multiaddr/interfaces/index.NodeAddress.html",
-  ".:NodeAddress": "https://multiformats.github.io/js-multiaddr/interfaces/index.NodeAddress.html",
-  "Protocol": "https://multiformats.github.io/js-multiaddr/interfaces/index.Protocol.html",
-  ".:Protocol": "https://multiformats.github.io/js-multiaddr/interfaces/index.Protocol.html",
-  "ResolveOptions": "https://multiformats.github.io/js-multiaddr/interfaces/index.ResolveOptions.html",
-  ".:ResolveOptions": "https://multiformats.github.io/js-multiaddr/interfaces/index.ResolveOptions.html",
-  "MultiaddrInput": "https://multiformats.github.io/js-multiaddr/types/index.MultiaddrInput.html",
-  ".:MultiaddrInput": "https://multiformats.github.io/js-multiaddr/types/index.MultiaddrInput.html",
-  "StringTuple": "https://multiformats.github.io/js-multiaddr/types/index.StringTuple.html",
-  ".:StringTuple": "https://multiformats.github.io/js-multiaddr/types/index.StringTuple.html",
-  "Tuple": "https://multiformats.github.io/js-multiaddr/types/index.Tuple.html",
-  ".:Tuple": "https://multiformats.github.io/js-multiaddr/types/index.Tuple.html",
-  "resolvers": "https://multiformats.github.io/js-multiaddr/variables/index.resolvers.html",
-  ".:resolvers": "https://multiformats.github.io/js-multiaddr/variables/index.resolvers.html",
-  "fromNodeAddress": "https://multiformats.github.io/js-multiaddr/functions/index.fromNodeAddress.html",
-  ".:fromNodeAddress": "https://multiformats.github.io/js-multiaddr/functions/index.fromNodeAddress.html",
-  "fromStringTuples": "https://multiformats.github.io/js-multiaddr/functions/index.fromStringTuples.html",
-  ".:fromStringTuples": "https://multiformats.github.io/js-multiaddr/functions/index.fromStringTuples.html",
-  "fromTuples": "https://multiformats.github.io/js-multiaddr/functions/index.fromTuples.html",
-  ".:fromTuples": "https://multiformats.github.io/js-multiaddr/functions/index.fromTuples.html",
-  "isMultiaddr": "https://multiformats.github.io/js-multiaddr/functions/index.isMultiaddr.html",
-  ".:isMultiaddr": "https://multiformats.github.io/js-multiaddr/functions/index.isMultiaddr.html",
-  "isName": "https://multiformats.github.io/js-multiaddr/functions/index.isName.html",
-  ".:isName": "https://multiformats.github.io/js-multiaddr/functions/index.isName.html",
-  "multiaddr": "https://multiformats.github.io/js-multiaddr/functions/index.multiaddr.html",
-  ".:multiaddr": "https://multiformats.github.io/js-multiaddr/functions/index.multiaddr.html",
-  "protocols": "https://multiformats.github.io/js-multiaddr/functions/index.protocols.html",
-  "DNSADDROptions": "https://multiformats.github.io/js-multiaddr/interfaces/resolvers.DNSADDROptions.html",
-  "Resolver": "https://multiformats.github.io/js-multiaddr/interfaces/resolvers.Resolver.html",
-  "./resolvers:Resolver": "https://multiformats.github.io/js-multiaddr/interfaces/resolvers.Resolver.html",
-  "dnsaddrResolver": "https://multiformats.github.io/js-multiaddr/variables/resolvers.dnsaddrResolver.html"
-}
\ No newline at end of file
diff --git a/node_modules/@multiformats/multiaddr/src/codec.ts b/node_modules/@multiformats/multiaddr/src/codec.ts
deleted file mode 100644
index e17237f..0000000
--- a/node_modules/@multiformats/multiaddr/src/codec.ts
+++ /dev/null
@@ -1,236 +0,0 @@
-import * as varint from 'uint8-varint'
-import { concat as uint8ArrayConcat } from 'uint8arrays/concat'
-import { toString as uint8ArrayToString } from 'uint8arrays/to-string'
-import { convertToBytes, convertToString } from './convert.js'
-import { getProtocol } from './protocols-table.js'
-import type { StringTuple, Tuple, Protocol } from './index.js'
-
-export interface MultiaddrParts {
-  bytes: Uint8Array
-  string: string
-  tuples: Tuple[]
-  stringTuples: StringTuple[]
-  path: string | null
-}
-
-export function stringToMultiaddrParts (str: string): MultiaddrParts {
-  str = cleanPath(str)
-  const tuples: Tuple[] = []
-  const stringTuples: StringTuple[] = []
-  let path: string | null = null
-
-  const parts = str.split('/').slice(1)
-  if (parts.length === 1 && parts[0] === '') {
-    return {
-      bytes: new Uint8Array(),
-      string: '/',
-      tuples: [],
-      stringTuples: [],
-      path: null
-    }
-  }
-
-  for (let p = 0; p < parts.length; p++) {
-    const part = parts[p]
-    const proto = getProtocol(part)
-
-    if (proto.size === 0) {
-      tuples.push([proto.code])
-      stringTuples.push([proto.code])
-
-      continue
-    }
-
-    p++ // advance addr part
-    if (p >= parts.length) {
-      throw new ParseError('invalid address: ' + str)
-    }
-
-    // if it's a path proto, take the rest
-    if (proto.path === true) {
-      // should we need to check each path part to see if it's a proto?
-      // This would allow for other protocols to be added after a unix path,
-      // however it would have issues if the path had a protocol name in the path
-      path = cleanPath(parts.slice(p).join('/'))
-      tuples.push([proto.code, convertToBytes(proto.code, path)])
-      stringTuples.push([proto.code, path])
-      break
-    }
-
-    const bytes = convertToBytes(proto.code, parts[p])
-    tuples.push([proto.code, bytes])
-    stringTuples.push([proto.code, convertToString(proto.code, bytes)])
-  }
-
-  return {
-    string: stringTuplesToString(stringTuples),
-    bytes: tuplesToBytes(tuples),
-    tuples,
-    stringTuples,
-    path
-  }
-}
-
-export function bytesToMultiaddrParts (bytes: Uint8Array): MultiaddrParts {
-  const tuples: Tuple[] = []
-  const stringTuples: StringTuple[] = []
-  let path: string | null = null
-
-  let i = 0
-  while (i < bytes.length) {
-    const code = varint.decode(bytes, i)
-    const n = varint.encodingLength(code)
-
-    const p = getProtocol(code)
-
-    const size = sizeForAddr(p, bytes.slice(i + n))
-
-    if (size === 0) {
-      tuples.push([code])
-      stringTuples.push([code])
-      i += n
-
-      continue
-    }
-
-    const addr = bytes.slice(i + n, i + n + size)
-
-    i += (size + n)
-
-    if (i > bytes.length) { // did not end _exactly_ at buffer.length
-      throw new ParseError('Invalid address Uint8Array: ' + uint8ArrayToString(bytes, 'base16'))
-    }
-
-    // ok, tuple seems good.
-    tuples.push([code, addr])
-    const stringAddr = convertToString(code, addr)
-    stringTuples.push([code, stringAddr])
-    if (p.path === true) {
-      // should we need to check each path part to see if it's a proto?
-      // This would allow for other protocols to be added after a unix path,
-      // however it would have issues if the path had a protocol name in the path
-      path = stringAddr
-      break
-    }
-  }
-
-  return {
-    bytes: Uint8Array.from(bytes),
-    string: stringTuplesToString(stringTuples),
-    tuples,
-    stringTuples,
-    path
-  }
-}
-
-/**
- * [[num code, str value?]... ] -> Tuple[]
- */
-export function stringTuplesToTuples (stringTuples: StringTuple[]): Tuple[] {
-  const tuples: Tuple[] = []
-
-  stringTuples.forEach(([code, value]) => {
-    const tuple: Tuple = [code]
-
-    if (value != null) {
-      tuple[1] = convertToBytes(code, value)
-    }
-
-    tuples.push(tuple)
-  })
-
-  return tuples
-}
-
-/**
- * [[num code, str value?]... ] -> string
- */
-function stringTuplesToString (tuples: StringTuple[]): string {
-  const parts: string[] = []
-  tuples.map((tup) => {
-    const proto = getProtocol(tup[0])
-    parts.push(proto.name)
-    if (tup.length > 1 && tup[1] != null) {
-      parts.push(tup[1])
-    }
-    return null
-  })
-
-  return cleanPath(parts.join('/'))
-}
-
-/**
- * [[int code, Uint8Array ]... ] -> Uint8Array
- */
-export function tuplesToBytes (tuples: Tuple[]): Uint8Array {
-  return uint8ArrayConcat(tuples.map((tup) => {
-    const proto = getProtocol(tup[0])
-    let buf: Uint8Array = Uint8Array.from(varint.encode(proto.code))
-
-    if (tup.length > 1 && tup[1] != null) {
-      buf = uint8ArrayConcat([buf, tup[1]]) // add address buffer
-    }
-
-    return buf
-  }))
-}
-
-/**
- * For the passed address, return the serialized size
- */
-function sizeForAddr (p: Protocol, addr: Uint8Array | number[]): number {
-  if (p.size > 0) {
-    return p.size / 8
-  } else if (p.size === 0) {
-    return 0
-  } else {
-    const size = varint.decode(addr instanceof Uint8Array ? addr : Uint8Array.from(addr))
-    return size + varint.encodingLength(size)
-  }
-}
-
-export function bytesToTuples (buf: Uint8Array): Tuple[] {
-  const tuples: Array<[number, Uint8Array?]> = []
-  let i = 0
-  while (i < buf.length) {
-    const code = varint.decode(buf, i)
-    const n = varint.encodingLength(code)
-
-    const p = getProtocol(code)
-
-    const size = sizeForAddr(p, buf.slice(i + n))
-
-    if (size === 0) {
-      tuples.push([code])
-      i += n
-
-      continue
-    }
-
-    const addr = buf.slice(i + n, i + n + size)
-
-    i += (size + n)
-
-    if (i > buf.length) { // did not end _exactly_ at buffer.length
-      throw new ParseError('Invalid address Uint8Array: ' + uint8ArrayToString(buf, 'base16'))
-    }
-
-    // ok, tuple seems good.
-    tuples.push([code, addr])
-  }
-
-  return tuples
-}
-
-export function cleanPath (str: string): string {
-  return '/' + str.trim().split('/').filter((a) => a).join('/')
-}
-
-export class ParseError extends Error {
-  static name = 'ParseError'
-  name = 'ParseError'
-
-  constructor (str: string) {
-    super(`Error parsing address: ${str}`)
-  }
-}
diff --git a/node_modules/@multiformats/multiaddr/src/components.ts b/node_modules/@multiformats/multiaddr/src/components.ts
new file mode 100644
index 0000000..67cd025
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/src/components.ts
@@ -0,0 +1,205 @@
+import * as varint from 'uint8-varint'
+import { concat as uint8ArrayConcat } from 'uint8arrays/concat'
+import { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'
+import { toString as uint8ArrayToString } from 'uint8arrays/to-string'
+import { InvalidMultiaddrError } from './errors.ts'
+import { registry, V } from './registry.ts'
+import type { Component } from './index.js'
+import type { ProtocolCodec } from './registry.ts'
+
+export function bytesToComponents (bytes: Uint8Array): Component[] {
+  const components: Component[] = []
+
+  let i = 0
+  while (i < bytes.length) {
+    const code = varint.decode(bytes, i)
+    const codec = registry.getCodec(code)
+    const codeLength = varint.encodingLength(code)
+    const size = sizeForAddr(codec, bytes, i + codeLength)
+    let sizeLength = 0
+
+    if (size > 0 && codec.size === V) {
+      sizeLength = varint.encodingLength(size)
+    }
+
+    const componentLength = codeLength + sizeLength + size
+
+    const component: Component = {
+      code,
+      name: codec.name,
+      bytes: bytes.subarray(i, i + componentLength)
+    }
+
+    if (size > 0) {
+      const valueOffset = i + codeLength + sizeLength
+      const valueBytes = bytes.subarray(valueOffset, valueOffset + size)
+
+      component.value = codec.bytesToValue?.(valueBytes) ?? uint8ArrayToString(valueBytes)
+    }
+
+    components.push(component)
+
+    i += componentLength
+  }
+
+  return components
+}
+
+export function componentsToBytes (components: Component[]): Uint8Array {
+  let length = 0
+  const bytes: Uint8Array[] = []
+
+  for (const component of components) {
+    if (component.bytes == null) {
+      const codec = registry.getCodec(component.code)
+      const codecLength = varint.encodingLength(component.code)
+      let valueBytes: Uint8Array | undefined
+      let valueLength = 0
+      let valueLengthLength = 0
+
+      if (component.value != null) {
+        valueBytes = codec.valueToBytes?.(component.value) ?? uint8ArrayFromString(component.value)
+        valueLength = valueBytes.byteLength
+
+        if (codec.size === V) {
+          valueLengthLength = varint.encodingLength(valueLength)
+        }
+      }
+
+      const bytes = new Uint8Array(codecLength + valueLengthLength + valueLength)
+
+      // encode the protocol code
+      let offset = 0
+      varint.encodeUint8Array(component.code, bytes, offset)
+      offset += codecLength
+
+      // if there is a value
+      if (valueBytes != null) {
+        // if the value has variable length, encode the length
+        if (codec.size === V) {
+          varint.encodeUint8Array(valueLength, bytes, offset)
+          offset += valueLengthLength
+        }
+
+        // finally encode the value
+        bytes.set(valueBytes, offset)
+      }
+
+      component.bytes = bytes
+    }
+
+    bytes.push(component.bytes)
+    length += component.bytes.byteLength
+  }
+
+  return uint8ArrayConcat(bytes, length)
+}
+
+export function stringToComponents (string: string): Component[] {
+  if (string.charAt(0) !== '/') {
+    throw new InvalidMultiaddrError('String multiaddr must start with "/"')
+  }
+
+  const components: Component[] = []
+  let collecting: 'protocol' | 'value' = 'protocol'
+  let value = ''
+  let protocol = ''
+
+  for (let i = 1; i < string.length; i++) {
+    const char = string.charAt(i)
+
+    if (char !== '/') {
+      if (collecting === 'protocol') {
+        protocol += string.charAt(i)
+      } else {
+        value += string.charAt(i)
+      }
+    }
+
+    const ended = i === string.length - 1
+
+    if (char === '/' || ended) {
+      const codec = registry.getCodec(protocol)
+
+      if (collecting === 'protocol') {
+        if (codec.size == null || codec.size === 0) {
+          // a protocol without an address, eg. `/tls`
+          components.push({
+            code: codec.code,
+            name: codec.name
+          })
+
+          value = ''
+          protocol = ''
+          collecting = 'protocol'
+
+          continue
+        } else if (ended) {
+          throw new InvalidMultiaddrError(`Component ${protocol} was missing value`)
+        }
+
+        // continue collecting value
+        collecting = 'value'
+      } else if (collecting === 'value') {
+        const component: Component = {
+          code: codec.code,
+          name: codec.name
+        }
+
+        if (codec.size != null && codec.size !== 0) {
+          if (value === '') {
+            throw new InvalidMultiaddrError(`Component ${protocol} was missing value`)
+          }
+
+          component.value = codec.stringToValue?.(value) ?? value
+        }
+
+        components.push(component)
+
+        value = ''
+        protocol = ''
+        collecting = 'protocol'
+      }
+    }
+  }
+
+  if (protocol !== '' && value !== '') {
+    throw new InvalidMultiaddrError('Incomplete multiaddr')
+  }
+
+  return components
+}
+
+export function componentsToString (components: Component[]): string {
+  return `/${components.flatMap(component => {
+      if (component.value == null) {
+        return component.name
+      }
+
+      const codec = registry.getCodec(component.code)
+
+      if (codec == null) {
+        throw new InvalidMultiaddrError(`Unknown protocol code ${component.code}`)
+      }
+
+      return [
+        component.name,
+        codec.valueToString?.(component.value) ?? component.value
+      ]
+    }).join('/')}`
+}
+
+/**
+ * For the passed address, return the serialized size
+ */
+function sizeForAddr (codec: ProtocolCodec, bytes: Uint8Array, offset: number): number {
+  if (codec.size == null || codec.size === 0) {
+    return 0
+  }
+
+  if (codec.size > 0) {
+    return codec.size / 8
+  }
+
+  return varint.decode(bytes, offset)
+}
diff --git a/node_modules/@multiformats/multiaddr/src/constants.ts b/node_modules/@multiformats/multiaddr/src/constants.ts
new file mode 100644
index 0000000..956093e
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/src/constants.ts
@@ -0,0 +1,40 @@
+export const CODE_IP4 = 4
+export const CODE_TCP = 6
+export const CODE_UDP = 273
+export const CODE_DCCP = 33
+export const CODE_IP6 = 41
+export const CODE_IP6ZONE = 42
+export const CODE_IPCIDR = 43
+export const CODE_DNS = 53
+export const CODE_DNS4 = 54
+export const CODE_DNS6 = 55
+export const CODE_DNSADDR = 56
+export const CODE_SCTP = 132
+export const CODE_UDT = 301
+export const CODE_UTP = 302
+export const CODE_UNIX = 400
+export const CODE_P2P = 421 // also IPFS
+export const CODE_ONION = 444
+export const CODE_ONION3 = 445
+export const CODE_GARLIC64 = 446
+export const CODE_GARLIC32 = 447
+export const CODE_TLS = 448
+export const CODE_SNI = 449
+export const CODE_NOISE = 454
+export const CODE_QUIC = 460
+export const CODE_QUIC_V1 = 461
+export const CODE_WEBTRANSPORT = 465
+export const CODE_CERTHASH = 466
+export const CODE_HTTP = 480
+export const CODE_HTTP_PATH = 481
+export const CODE_HTTPS = 443
+export const CODE_WS = 477
+export const CODE_WSS = 478
+export const CODE_P2P_WEBSOCKET_STAR = 479
+export const CODE_P2P_STARDUST = 277
+export const CODE_P2P_WEBRTC_STAR = 275
+export const CODE_P2P_WEBRTC_DIRECT = 276
+export const CODE_WEBRTC_DIRECT = 280
+export const CODE_WEBRTC = 281
+export const CODE_P2P_CIRCUIT = 290
+export const CODE_MEMORY = 777
diff --git a/node_modules/@multiformats/multiaddr/src/convert.ts b/node_modules/@multiformats/multiaddr/src/convert.ts
index cbc5b07..bb6b8c7 100644
--- a/node_modules/@multiformats/multiaddr/src/convert.ts
+++ b/node_modules/@multiformats/multiaddr/src/convert.ts
@@ -1,283 +1,269 @@
+import { isIPv4 } from '@chainsafe/is-ip'
 import { IpNet } from '@chainsafe/netmask'
 import { base32 } from 'multiformats/bases/base32'
-import { base58btc } from 'multiformats/bases/base58'
 import { bases } from 'multiformats/basics'
-import { CID } from 'multiformats/cid'
-import * as Digest from 'multiformats/hashes/digest'
-import * as varint from 'uint8-varint'
 import { concat as uint8ArrayConcat } from 'uint8arrays/concat'
 import { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'
 import { toString as uint8ArrayToString } from 'uint8arrays/to-string'
-import * as ip from './ip.js'
-import { getProtocol } from './protocols-table.js'
-import type { Multiaddr } from './index.js'
-
-const ip4Protocol = getProtocol('ip4')
-const ip6Protocol = getProtocol('ip6')
-const ipcidrProtocol = getProtocol('ipcidr')
-
-/**
- * converts (serializes) addresses
- */
-export function convert (proto: string, a: string): Uint8Array
-export function convert (proto: string, a: Uint8Array): string
-export function convert (proto: string, a: string | Uint8Array): Uint8Array | string {
-  if (a instanceof Uint8Array) {
-    return convertToString(proto, a)
-  } else {
-    return convertToBytes(proto, a)
+import { InvalidMultiaddrError } from './errors.ts'
+import type { Multiaddr } from './index.ts'
+import type { MultibaseCodec } from 'multiformats'
+import type { SupportedEncodings } from 'uint8arrays/to-string'
+
+export function bytesToString (base: SupportedEncodings): (buf: Uint8Array) => string {
+  return (buf) => {
+    return uint8ArrayToString(buf, base)
   }
 }
 
-/**
- * Convert [code,Uint8Array] to string
- */
-// eslint-disable-next-line complexity
-export function convertToString (proto: number | string, buf: Uint8Array): string {
-  const protocol = getProtocol(proto)
-  switch (protocol.code) {
-    case 4: // ipv4
-    case 41: // ipv6
-      return bytes2ip(buf)
-    case 42: // ipv6zone
-      return bytes2str(buf)
-    case 43: // ipcidr
-      return uint8ArrayToString(buf, 'base10')
-
-    case 6: // tcp
-    case 273: // udp
-    case 33: // dccp
-    case 132: // sctp
-      return bytes2port(buf).toString()
-
-    case 53: // dns
-    case 54: // dns4
-    case 55: // dns6
-    case 56: // dnsaddr
-    case 400: // unix
-    case 449: // sni
-    case 777: // memory
-      return bytes2str(buf)
-
-    case 421: // ipfs
-      return bytes2mh(buf)
-    case 444: // onion
-      return bytes2onion(buf)
-    case 445: // onion3
-      return bytes2onion(buf)
-    case 466: // certhash
-      return bytes2mb(buf)
-    case 481: // http-path
-      return globalThis.encodeURIComponent(bytes2str(buf))
-    default:
-      return uint8ArrayToString(buf, 'base16') // no clue. convert to hex
+export function stringToBytes (base: SupportedEncodings): (value: string) => Uint8Array {
+  return (buf) => {
+    return uint8ArrayFromString(buf, base)
   }
 }
 
-// eslint-disable-next-line complexity
-export function convertToBytes (proto: string | number, str: string): Uint8Array {
-  const protocol = getProtocol(proto)
-  switch (protocol.code) {
-    case 4: // ipv4
-      return ip2bytes(str)
-    case 41: // ipv6
-      return ip2bytes(str)
-    case 42: // ipv6zone
-      return str2bytes(str)
-    case 43: // ipcidr
-      return uint8ArrayFromString(str, 'base10')
-
-    case 6: // tcp
-    case 273: // udp
-    case 33: // dccp
-    case 132: // sctp
-      return port2bytes(parseInt(str, 10))
-
-    case 53: // dns
-    case 54: // dns4
-    case 55: // dns6
-    case 56: // dnsaddr
-    case 400: // unix
-    case 449: // sni
-    case 777: // memory
-      return str2bytes(str)
-
-    case 421: // ipfs
-      return mh2bytes(str)
-    case 444: // onion
-      return onion2bytes(str)
-    case 445: // onion3
-      return onion32bytes(str)
-    case 466: // certhash
-      return mb2bytes(str)
-    case 481: // http-path
-      return str2bytes(globalThis.decodeURIComponent(str))
-    default:
-      return uint8ArrayFromString(str, 'base16') // no clue. convert from hex
-  }
-}
-
-export function convertToIpNet (multiaddr: Multiaddr): IpNet {
-  let mask: string | undefined
-  let addr: string | undefined
-  multiaddr.stringTuples().forEach(([code, value]) => {
-    if (code === ip4Protocol.code || code === ip6Protocol.code) {
-      addr = value
-    }
-    if (code === ipcidrProtocol.code) {
-      mask = value
-    }
-  })
-  if (mask == null || addr == null) {
-    throw new Error('Invalid multiaddr')
-  }
-  return new IpNet(addr, mask)
-}
-
-const decoders = Object.values(bases).map((c) => c.decoder)
-const anybaseDecoder = (function () {
-  let acc = decoders[0].or(decoders[1])
-  decoders.slice(2).forEach((d) => (acc = acc.or(d)))
-  return acc
-})()
-
-function ip2bytes (ipString: string): Uint8Array {
-  if (!ip.isIP(ipString)) {
-    throw new Error('invalid ip address')
-  }
-  return ip.toBytes(ipString)
-}
-
-function bytes2ip (ipBuff: Uint8Array): string {
-  const ipString = ip.toString(ipBuff, 0, ipBuff.length)
-  if (ipString == null) {
-    throw new Error('ipBuff is required')
-  }
-  if (!ip.isIP(ipString)) {
-    throw new Error('invalid ip address')
-  }
-  return ipString
+export function bytes2port (buf: Uint8Array): string {
+  const view = new DataView(buf.buffer)
+  return view.getUint16(buf.byteOffset).toString()
 }
 
-function port2bytes (port: number): Uint8Array {
+export function port2bytes (port: string | number): Uint8Array {
   const buf = new ArrayBuffer(2)
   const view = new DataView(buf)
-  view.setUint16(0, port)
+  view.setUint16(0, typeof port === 'string' ? parseInt(port) : port)
 
   return new Uint8Array(buf)
 }
 
-function bytes2port (buf: Uint8Array): number {
-  const view = new DataView(buf.buffer)
-  return view.getUint16(buf.byteOffset)
-}
-
-function str2bytes (str: string): Uint8Array {
-  const buf = uint8ArrayFromString(str)
-  const size = Uint8Array.from(varint.encode(buf.length))
-  return uint8ArrayConcat([size, buf], size.length + buf.length)
-}
-
-function bytes2str (buf: Uint8Array): string {
-  const size = varint.decode(buf)
-  buf = buf.slice(varint.encodingLength(size))
-
-  if (buf.length !== size) {
-    throw new Error('inconsistent lengths')
-  }
-
-  return uint8ArrayToString(buf)
-}
-
-function mh2bytes (hash: string): Uint8Array {
-  let mh
-
-  if (hash[0] === 'Q' || hash[0] === '1') {
-    mh = Digest.decode(base58btc.decode(`z${hash}`)).bytes
-  } else {
-    mh = CID.parse(hash).multihash.bytes
-  }
-
-  // the address is a varint prefixed multihash string representation
-  const size = Uint8Array.from(varint.encode(mh.length))
-  return uint8ArrayConcat([size, mh], size.length + mh.length)
-}
-
-function mb2bytes (mbstr: string): Uint8Array {
-  const mb = anybaseDecoder.decode(mbstr)
-  const size = Uint8Array.from(varint.encode(mb.length))
-  return uint8ArrayConcat([size, mb], size.length + mb.length)
-}
-function bytes2mb (buf: Uint8Array): string {
-  const size = varint.decode(buf)
-  const hash = buf.slice(varint.encodingLength(size))
-
-  if (hash.length !== size) {
-    throw new Error('inconsistent lengths')
-  }
-
-  return 'u' + uint8ArrayToString(hash, 'base64url')
-}
-
-/**
- * Converts bytes to bas58btc string
- */
-function bytes2mh (buf: Uint8Array): string {
-  const size = varint.decode(buf)
-  const address = buf.slice(varint.encodingLength(size))
-
-  if (address.length !== size) {
-    throw new Error('inconsistent lengths')
-  }
-
-  return uint8ArrayToString(address, 'base58btc')
-}
-
-function onion2bytes (str: string): Uint8Array {
+export function onion2bytes (str: string): Uint8Array {
   const addr = str.split(':')
+
   if (addr.length !== 2) {
     throw new Error(`failed to parse onion addr: ["'${addr.join('", "')}'"]' does not contain a port number`)
   }
+
   if (addr[0].length !== 16) {
     throw new Error(`failed to parse onion addr: ${addr[0]} not a Tor onion address.`)
   }
 
   // onion addresses do not include the multibase prefix, add it before decoding
-  const buf = base32.decode('b' + addr[0])
+  const buf = uint8ArrayFromString(addr[0], 'base32')
 
   // onion port number
   const port = parseInt(addr[1], 10)
+
   if (port < 1 || port > 65536) {
     throw new Error('Port number is not in range(1, 65536)')
   }
+
   const portBuf = port2bytes(port)
+
   return uint8ArrayConcat([buf, portBuf], buf.length + portBuf.length)
 }
 
-function onion32bytes (str: string): Uint8Array {
+export function onion32bytes (str: string): Uint8Array {
   const addr = str.split(':')
+
   if (addr.length !== 2) {
     throw new Error(`failed to parse onion addr: ["'${addr.join('", "')}'"]' does not contain a port number`)
   }
+
   if (addr[0].length !== 56) {
     throw new Error(`failed to parse onion addr: ${addr[0]} not a Tor onion3 address.`)
   }
+
   // onion addresses do not include the multibase prefix, add it before decoding
   const buf = base32.decode(`b${addr[0]}`)
 
   // onion port number
   const port = parseInt(addr[1], 10)
+
   if (port < 1 || port > 65536) {
     throw new Error('Port number is not in range(1, 65536)')
   }
+
   const portBuf = port2bytes(port)
+
   return uint8ArrayConcat([buf, portBuf], buf.length + portBuf.length)
 }
 
-function bytes2onion (buf: Uint8Array): string {
-  const addrBytes = buf.slice(0, buf.length - 2)
-  const portBytes = buf.slice(buf.length - 2)
+export function bytes2onion (buf: Uint8Array): string {
+  const addrBytes = buf.subarray(0, buf.length - 2)
+  const portBytes = buf.subarray(buf.length - 2)
   const addr = uint8ArrayToString(addrBytes, 'base32')
   const port = bytes2port(portBytes)
   return `${addr}:${port}`
 }
+
+// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L7
+// but with buf/offset args removed because we don't use them
+export const ip4ToBytes = function (ip: string): Uint8Array {
+  ip = ip.toString().trim()
+
+  const bytes = new Uint8Array(4)
+
+  ip.split(/\./g).forEach((byte, index) => {
+    const value = parseInt(byte, 10)
+
+    if (isNaN(value) || value < 0 || value > 0xff) {
+      throw new InvalidMultiaddrError('Invalid byte value in IP address')
+    }
+
+    bytes[index] = value
+  })
+
+  return bytes
+}
+
+// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L7
+// but with buf/offset args removed because we don't use them
+export const ip6ToBytes = function (ip: string): Uint8Array {
+  let offset = 0
+  ip = ip.toString().trim()
+
+  const sections = ip.split(':', 8)
+
+  let i
+  for (i = 0; i < sections.length; i++) {
+    const isv4 = isIPv4(sections[i])
+    let v4Buffer: Uint8Array | undefined
+
+    if (isv4) {
+      v4Buffer = ip4ToBytes(sections[i])
+      sections[i] = uint8ArrayToString(v4Buffer.subarray(0, 2), 'base16')
+    }
+
+    if (v4Buffer != null && ++i < 8) {
+      sections.splice(i, 0, uint8ArrayToString(v4Buffer.subarray(2, 4), 'base16'))
+    }
+  }
+
+  if (sections[0] === '') {
+    while (sections.length < 8) { sections.unshift('0') }
+  } else if (sections[sections.length - 1] === '') {
+    while (sections.length < 8) { sections.push('0') }
+  } else if (sections.length < 8) {
+    for (i = 0; i < sections.length && sections[i] !== ''; i++) { }
+    const argv: [number, number, ...string[]] = [i, 1]
+    for (i = 9 - sections.length; i > 0; i--) {
+      argv.push('0')
+    }
+    sections.splice.apply(sections, argv)
+  }
+
+  const bytes = new Uint8Array(offset + 16)
+
+  for (i = 0; i < sections.length; i++) {
+    if (sections[i] === '') {
+      sections[i] = '0'
+    }
+
+    const word = parseInt(sections[i], 16)
+
+    if (isNaN(word) || word < 0 || word > 0xffff) {
+      throw new InvalidMultiaddrError('Invalid byte value in IP address')
+    }
+
+    bytes[offset++] = (word >> 8) & 0xff
+    bytes[offset++] = word & 0xff
+  }
+
+  return bytes
+}
+
+// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L63
+export const ip4ToString = function (buf: Uint8Array): string {
+  if (buf.byteLength !== 4) {
+    throw new InvalidMultiaddrError('IPv4 address was incorrect length')
+  }
+
+  const result = []
+
+  for (let i = 0; i < buf.byteLength; i++) {
+    result.push(buf[i])
+  }
+
+  return result.join('.')
+}
+
+export const ip6ToString = function (buf: Uint8Array): string {
+  if (buf.byteLength !== 16) {
+    throw new InvalidMultiaddrError('IPv6 address was incorrect length')
+  }
+
+  const result: string[] = []
+
+  for (let i = 0; i < buf.byteLength; i += 2) {
+    result.push(`${
+      buf[i].toString(16)
+    }${
+      buf[i + 1].toString(16).padStart(2, '0')
+    }`
+      .replace(/^(0+)/, '')
+    )
+  }
+
+  return result.join(':')
+    .replace(/:(:)+/, '::')
+}
+
+export function ip6StringToValue (str: string): string {
+  let parts = str.split(':')
+
+  parts = parts.map((str, index) => {
+    if (index === parts.length - 1 && isIPv4(str)) {
+      const bytes = str.split('.')
+      return `${
+        parseInt(bytes[0], 10).toString(16)
+      }${
+        parseInt(bytes[1], 10).toString(16).padStart(2, '0')
+      }:${
+        parseInt(bytes[2], 10).toString(16)
+      }${
+        parseInt(bytes[3], 10).toString(16).padStart(2, '0')
+      }`
+    }
+
+    return str.replace(/^(0+)/, '')
+  })
+
+  return `${parts.join(':')}`
+    .replace(/:(:)+/, '::')
+}
+
+const decoders = Object.values(bases).map((c) => c.decoder)
+const anybaseDecoder = (function () {
+  let acc = decoders[0].or(decoders[1])
+  decoders.slice(2).forEach((d) => (acc = acc.or(d)))
+  return acc
+})()
+
+export function mb2bytes (mbstr: string): Uint8Array {
+  return anybaseDecoder.decode(mbstr)
+}
+
+export function bytes2mb (base: MultibaseCodec<any>): (buf: Uint8Array) => string {
+  return (buf) => {
+    return base.encoder.encode(buf)
+  }
+}
+
+export function convertToIpNet (multiaddr: Multiaddr): IpNet {
+  let mask: string | undefined
+  let addr: string | undefined
+
+  multiaddr.getComponents().forEach(component => {
+    if (component.name === 'ip4' || component.name === 'ip6') {
+      addr = component.value
+    }
+    if (component.name === 'ipcidr') {
+      mask = component.value
+    }
+  })
+
+  if (mask == null || addr == null) {
+    throw new Error('Invalid multiaddr')
+  }
+
+  return new IpNet(addr, mask)
+}
diff --git a/node_modules/@multiformats/multiaddr/src/errors.ts b/node_modules/@multiformats/multiaddr/src/errors.ts
new file mode 100644
index 0000000..be66a95
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/src/errors.ts
@@ -0,0 +1,22 @@
+/**
+ * Thrown when an invalid multiaddr is encountered
+ */
+export class InvalidMultiaddrError extends Error {
+  static name = 'InvalidMultiaddrError'
+  name = 'InvalidMultiaddrError'
+}
+
+export class ValidationError extends Error {
+  static name = 'ValidationError'
+  name = 'ValidationError'
+}
+
+export class InvalidParametersError extends Error {
+  static name = 'InvalidParametersError'
+  name = 'InvalidParametersError'
+}
+
+export class InvalidProtocolError extends Error {
+  static name = 'InvalidProtocolError'
+  name = 'InvalidProtocolError'
+}
diff --git a/node_modules/@multiformats/multiaddr/src/index.ts b/node_modules/@multiformats/multiaddr/src/index.ts
index f4e5e60..a4aaffd 100644
--- a/node_modules/@multiformats/multiaddr/src/index.ts
+++ b/node_modules/@multiformats/multiaddr/src/index.ts
@@ -93,14 +93,18 @@
  * ```
  */
 
-import { stringTuplesToTuples, tuplesToBytes } from './codec.js'
+import { toString as uint8ArrayToString } from 'uint8arrays/to-string'
+import { InvalidParametersError } from './errors.ts'
 import { Multiaddr as MultiaddrClass, symbol } from './multiaddr.js'
-import { getProtocol } from './protocols-table.js'
+import { registry } from './registry.ts'
 import type { Resolver } from './resolvers/index.js'
 import type { DNS } from '@multiformats/dns'
+import type { AbortOptions } from 'abort-error'
 
 /**
  * Protocols are present in the protocol table
+ *
+ * @deprecated
  */
 export interface Protocol {
   code: number
@@ -132,27 +136,33 @@ export interface NodeAddress {
 /**
  * These types can be parsed into a {@link Multiaddr} object
  */
-export type MultiaddrInput = string | Multiaddr | Uint8Array | null
+export type MultiaddrInput = string | Multiaddr | Uint8Array | null | Component[]
 
 /**
  * A code/value pair
+ *
+ * @deprecated Use Component instead
  */
 export type Tuple = [number, Uint8Array?]
 
 /**
  * A code/value pair with the value as a string
+ *
+ * @deprecated Use Component instead
  */
 export type StringTuple = [number, string?]
 
 /**
  * Allows aborting long-lived operations
+ *
+ * @deprecated Import from `abort-error` instead
  */
-export interface AbortOptions {
-  signal?: AbortSignal
-}
+export type { AbortOptions }
 
 /**
  * All configured {@link Resolver}s
+ *
+ * @deprecated DNS resolving will be removed in a future release
  */
 export const resolvers = new Map<string, Resolver>()
 
@@ -160,6 +170,9 @@ export type { Resolver }
 
 export { MultiaddrFilter } from './filter/multiaddr-filter.js'
 
+/**
+ * @deprecated DNS resolving will be removed in a future release
+ */
 export interface ResolveOptions extends AbortOptions {
   /**
    * An optional DNS resolver
@@ -175,6 +188,37 @@ export interface ResolveOptions extends AbortOptions {
   maxRecursiveDepth?: number
 }
 
+/**
+ * A Component is a section of a multiaddr with a name/code, possibly with a
+ * value.
+ *
+ * Component names/codes are defined in the protocol table.
+ *
+ * @see https://github.com/multiformats/multiaddr/blob/master/protocols.csv
+ */
+export interface Component {
+  /**
+   * The code of the component as defined in the protocol table
+   */
+  code: number
+
+  /**
+   * The name of the component as defined in the protocol table
+   */
+  name: string
+
+  /**
+   * The component value, if one is present
+   */
+  value?: string
+
+  /**
+   * The bytes that make up the component. This will be set if the multiaddr
+   * was parsed from a `Uint8Array`, or if `.bytes` has been accessed on it.
+   */
+  bytes?: Uint8Array
+}
+
 export interface Multiaddr {
   bytes: Uint8Array
 
@@ -205,7 +249,21 @@ export interface Multiaddr {
   toJSON(): string
 
   /**
-   * Returns Multiaddr as a convinient options object to be used with net.createConnection
+   * Returns the components that make up this Multiaddr
+   *
+   * @example
+   * ```ts
+   * import { multiaddr } from '@multiformats/multiaddr'
+   *
+   * multiaddr('/ip4/127.0.0.1/tcp/4001').getComponents()
+   * // [{ name: 'ip4', code: 4, value: '127.0.0.1' }, { name: 'tcp', code: 6, value: '4001' }]
+   * ```
+   */
+  getComponents(): Component[]
+
+  /**
+   * Returns Multiaddr as a convenient options object to be used with
+   * `createConnection` from `node:net`
    *
    * @example
    * ```js
@@ -218,9 +276,9 @@ export interface Multiaddr {
   toOptions(): MultiaddrObject
 
   /**
-   * Returns the protocols the Multiaddr is defined with, as an array of objects, in
-   * left-to-right order. Each object contains the protocol code, protocol name,
-   * and the size of its address space in bits.
+   * Returns the protocols the Multiaddr is defined with, as an array of
+   * objects, in left-to-right order. Each object contains the protocol code,
+   * protocol name, and the size of its address space in bits.
    * [See list of protocols](https://github.com/multiformats/multiaddr/blob/master/protocols.csv)
    *
    * @example
@@ -231,6 +289,8 @@ export interface Multiaddr {
    * // [ { code: 4, size: 32, name: 'ip4' },
    * //   { code: 6, size: 16, name: 'tcp' } ]
    * ```
+   *
+   * @deprecated Use `getComponents()` instead
    */
   protos(): Protocol[]
 
@@ -245,6 +305,8 @@ export interface Multiaddr {
    * multiaddr('/ip4/127.0.0.1/tcp/4001').protoCodes()
    * // [ 4, 6 ]
    * ```
+   *
+   * @deprecated Use `getComponents()` instead
    */
   protoCodes(): number[]
 
@@ -259,6 +321,8 @@ export interface Multiaddr {
    * multiaddr('/ip4/127.0.0.1/tcp/4001').protoNames()
    * // [ 'ip4', 'tcp' ]
    * ```
+   *
+   * @deprecated Use `getComponents()` instead
    */
   protoNames(): string[]
 
@@ -272,6 +336,8 @@ export interface Multiaddr {
    * multiaddr('/ip4/127.0.0.1/tcp/4001').tuples()
    * // [ [ 4, <Buffer 7f 00 00 01> ], [ 6, <Buffer 0f a1> ] ]
    * ```
+   *
+   * @deprecated Use `getComponents()` instead
    */
   tuples(): Tuple[]
 
@@ -287,6 +353,8 @@ export interface Multiaddr {
    * multiaddr('/ip4/127.0.0.1/tcp/4001').stringTuples()
    * // [ [ 4, '127.0.0.1' ], [ 6, '4001' ] ]
    * ```
+   *
+   * @deprecated Use `getComponents()` instead
    */
   stringTuples(): StringTuple[]
 
@@ -339,8 +407,8 @@ export interface Multiaddr {
   decapsulate(addr: Multiaddr | string): Multiaddr
 
   /**
-   * A more reliable version of `decapsulate` if you are targeting a
-   * specific code, such as 421 (the `p2p` protocol code). The last index of the code
+   * A more reliable version of `decapsulate` if you are targeting a specific
+   * code, such as 421 (the `p2p` protocol code). The last index of the code
    * will be removed from the `Multiaddr`, and a new instance will be returned.
    * If the code is not present, the original `Multiaddr` is returned.
    *
@@ -373,6 +441,8 @@ export interface Multiaddr {
    * // should return QmValidBase58string or null if the id is missing or invalid
    * const peerId = mh1.getPeerId()
    * ```
+   *
+   * @deprecated A multiaddr can contain multiple PeerIds, use stringTuples() to get a specific one
    */
   getPeerId(): string | null
 
@@ -389,6 +459,8 @@ export interface Multiaddr {
    * // should return utf8 string or null if the id is missing or invalid
    * const path = mh1.getPath()
    * ```
+   *
+   * @deprecated A multiaddr can contain multiple tuples that could be interpreted as paths, use stringTuples() to get a specific one
    */
   getPath(): string | null
 
@@ -430,13 +502,15 @@ export interface Multiaddr {
    * //   Multiaddr(/ip4/147.75.83.83/udp/4001/quic/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb)
    * // ]
    * ```
+   *
+   * @deprecated If you need to resolve `dnsaddr` addresses, use `getComponents()` to extract them and perform the resolution yourself
    */
   resolve(options?: ResolveOptions): Promise<Multiaddr[]>
 
   /**
-   * Gets a Multiaddrs node-friendly address object. Note that protocol information
-   * is left out: in Node (and most network systems) the protocol is unknowable
-   * given only the address.
+   * Gets a Multiaddrs node-friendly address object. Note that protocol
+   * information is left out: in Node (and most network systems) the protocol is
+   * unknowable given only the address.
    *
    * Has to be a ThinWaist Address, otherwise throws error
    *
@@ -495,10 +569,10 @@ export interface Multiaddr {
  */
 export function fromNodeAddress (addr: NodeAddress, transport: string): Multiaddr {
   if (addr == null) {
-    throw new Error('requires node address object')
+    throw new InvalidParametersError('requires node address object')
   }
   if (transport == null) {
-    throw new Error('requires transport protocol')
+    throw new InvalidParametersError('requires transport protocol')
   }
   let ip: string | undefined
   let host = addr.address
@@ -518,12 +592,13 @@ export function fromNodeAddress (addr: NodeAddress, transport: string): Multiadd
 
         host = parts[0]
         const zone = parts[1]
-        ip = `/ip6zone/${zone}/ip6`
+        ip = `ip6zone/${zone}/ip6`
       }
       break
     default:
       throw Error('Invalid addr family, should be 4 or 6.')
   }
+
   return new MultiaddrClass('/' + [ip, host, transport, addr.port].join('/'))
 }
 
@@ -545,7 +620,20 @@ export function fromNodeAddress (addr: NodeAddress, transport: string): Multiadd
  * ```
  */
 export function fromTuples (tuples: Tuple[]): Multiaddr {
-  return multiaddr(tuplesToBytes(tuples))
+  return multiaddr(tuples.map(([code, value]) => {
+    const codec = registry.getCodec(code)
+
+    const component: Component = {
+      code,
+      name: codec.name
+    }
+
+    if (value != null) {
+      component.value = codec.bytesToValue?.(value) ?? uint8ArrayToString(value)
+    }
+
+    return component
+  }))
 }
 
 /**
@@ -566,7 +654,20 @@ export function fromTuples (tuples: Tuple[]): Multiaddr {
  * ```
  */
 export function fromStringTuples (tuples: StringTuple[]): Multiaddr {
-  return fromTuples(stringTuplesToTuples(tuples))
+  return multiaddr(tuples.map(([code, value]) => {
+    const codec = registry.getCodec(code)
+
+    const component: Component = {
+      code,
+      name: codec.name
+    }
+
+    if (value != null) {
+      component.value = value
+    }
+
+    return component
+  }))
 }
 
 /**
@@ -627,4 +728,44 @@ export function multiaddr (addr?: MultiaddrInput): Multiaddr {
   return new MultiaddrClass(addr)
 }
 
-export { getProtocol as protocols }
+/**
+ * For the passed proto string or number, return a {@link Protocol}
+ *
+ * @example
+ *
+ * ```js
+ * import { protocol } from '@multiformats/multiaddr'
+ *
+ * console.info(protocol(4))
+ * // { code: 4, size: 32, name: 'ip4', resolvable: false, path: false }
+ * ```
+ *
+ * @deprecated This will be removed in a future version
+ */
+export function protocols (proto: number | string): Protocol {
+  const codec = registry.getCodec(proto)
+
+  return {
+    code: codec.code,
+    size: codec.size ?? 0,
+    name: codec.name,
+    resolvable: Boolean(codec.resolvable),
+    path: Boolean(codec.path)
+  }
+}
+
+/**
+ * Ensures all multiaddr tuples are correct. Throws if any contain invalid
+ * values.
+ *
+ * @example
+ *
+ * ```ts
+ * import { multiaddr, validate } from '@multiformats/multiaddr'
+ *
+ * const ma = multiaddr('/ip4/123.123.123.123/tcp/1234')
+ *
+ * validate(ma) // ok!
+ * ```
+ */
+export { validate } from './multiaddr.ts'
diff --git a/node_modules/@multiformats/multiaddr/src/ip.ts b/node_modules/@multiformats/multiaddr/src/ip.ts
deleted file mode 100644
index 91bb1f1..0000000
--- a/node_modules/@multiformats/multiaddr/src/ip.ts
+++ /dev/null
@@ -1,101 +0,0 @@
-import { isIPv4, isIPv6 } from '@chainsafe/is-ip'
-import { toString as uint8ArrayToString } from 'uint8arrays/to-string'
-
-export { isIP } from '@chainsafe/is-ip'
-export const isV4 = isIPv4
-export const isV6 = isIPv6
-
-// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L7
-// but with buf/offset args removed because we don't use them
-export const toBytes = function (ip: string): Uint8Array {
-  let offset = 0
-  ip = ip.toString().trim()
-
-  if (isV4(ip)) {
-    const bytes = new Uint8Array(offset + 4)
-
-    ip.split(/\./g).forEach((byte) => {
-      bytes[offset++] = parseInt(byte, 10) & 0xff
-    })
-
-    return bytes
-  }
-
-  if (isV6(ip)) {
-    const sections = ip.split(':', 8)
-
-    let i
-    for (i = 0; i < sections.length; i++) {
-      const isv4 = isV4(sections[i])
-      let v4Buffer: Uint8Array | undefined
-
-      if (isv4) {
-        v4Buffer = toBytes(sections[i])
-        sections[i] = uint8ArrayToString(v4Buffer.slice(0, 2), 'base16')
-      }
-
-      if (v4Buffer != null && ++i < 8) {
-        sections.splice(i, 0, uint8ArrayToString(v4Buffer.slice(2, 4), 'base16'))
-      }
-    }
-
-    if (sections[0] === '') {
-      while (sections.length < 8) { sections.unshift('0') }
-    } else if (sections[sections.length - 1] === '') {
-      while (sections.length < 8) { sections.push('0') }
-    } else if (sections.length < 8) {
-      for (i = 0; i < sections.length && sections[i] !== ''; i++) { }
-      const argv: [number, number, ...string[]] = [i, 1]
-      for (i = 9 - sections.length; i > 0; i--) {
-        argv.push('0')
-      }
-      sections.splice.apply(sections, argv)
-    }
-
-    const bytes = new Uint8Array(offset + 16)
-
-    for (i = 0; i < sections.length; i++) {
-      const word = parseInt(sections[i], 16)
-      bytes[offset++] = (word >> 8) & 0xff
-      bytes[offset++] = word & 0xff
-    }
-
-    return bytes
-  }
-
-  throw new Error('invalid ip address')
-}
-
-// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L63
-export const toString = function (buf: Uint8Array, offset: number = 0, length?: number): string {
-  offset = ~~offset
-  length = length ?? (buf.length - offset)
-
-  const view = new DataView(buf.buffer)
-
-  if (length === 4) {
-    const result = []
-
-    // IPv4
-    for (let i = 0; i < length; i++) {
-      result.push(buf[offset + i])
-    }
-
-    return result.join('.')
-  }
-
-  if (length === 16) {
-    const result = []
-
-    // IPv6
-    for (let i = 0; i < length; i += 2) {
-      result.push(view.getUint16(offset + i).toString(16))
-    }
-
-    return result.join(':')
-      .replace(/(^|:)0(:0)*:0(:|$)/, '$1::$3')
-      .replace(/:{3,4}/, '::')
-  }
-
-  return ''
-}
diff --git a/node_modules/@multiformats/multiaddr/src/multiaddr.ts b/node_modules/@multiformats/multiaddr/src/multiaddr.ts
index e99df80..09a445f 100644
--- a/node_modules/@multiformats/multiaddr/src/multiaddr.ts
+++ b/node_modules/@multiformats/multiaddr/src/multiaddr.ts
@@ -1,22 +1,23 @@
-/* eslint-disable complexity */
 import { base58btc } from 'multiformats/bases/base58'
 import { CID } from 'multiformats/cid'
 import { equals as uint8ArrayEquals } from 'uint8arrays/equals'
+import { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'
 import { toString as uint8ArrayToString } from 'uint8arrays/to-string'
-import { bytesToMultiaddrParts, stringToMultiaddrParts, tuplesToBytes } from './codec.js'
-import { getProtocol, names } from './protocols-table.js'
+import { bytesToComponents, componentsToBytes, componentsToString, stringToComponents } from './components.js'
+import { CODE_DNS, CODE_DNS4, CODE_DNS6, CODE_DNSADDR, CODE_IP4, CODE_IP6, CODE_IP6ZONE, CODE_P2P, CODE_P2P_CIRCUIT, CODE_TCP, CODE_UDP } from './constants.ts'
+import { InvalidMultiaddrError, InvalidParametersError } from './errors.ts'
+import { registry } from './registry.ts'
 import { isMultiaddr, multiaddr, resolvers } from './index.js'
-import type { MultiaddrParts } from './codec.js'
-import type { MultiaddrInput, Multiaddr as MultiaddrInterface, MultiaddrObject, Protocol, StringTuple, Tuple, NodeAddress, ResolveOptions } from './index.js'
+import type { MultiaddrInput, Multiaddr as MultiaddrInterface, MultiaddrObject, Protocol, Tuple, NodeAddress, ResolveOptions, Component } from './index.js'
 
 const inspect = Symbol.for('nodejs.util.inspect.custom')
-export const symbol = Symbol.for('@multiformats/js-multiaddr/multiaddr')
+export const symbol = Symbol.for('@multiformats/multiaddr')
 
 const DNS_CODES = [
-  getProtocol('dns').code,
-  getProtocol('dns4').code,
-  getProtocol('dns6').code,
-  getProtocol('dnsaddr').code
+  CODE_DNS,
+  CODE_DNS4,
+  CODE_DNS6,
+  CODE_DNSADDR
 ]
 
 class NoAvailableResolverError extends Error {
@@ -26,46 +27,65 @@ class NoAvailableResolverError extends Error {
   }
 }
 
+function toComponents (addr: MultiaddrInput): Component[] {
+  if (addr == null) {
+    addr = '/'
+  }
+
+  if (isMultiaddr(addr)) {
+    return addr.getComponents()
+  }
+
+  if (addr instanceof Uint8Array) {
+    return bytesToComponents(addr)
+  }
+
+  if (typeof addr === 'string') {
+    addr = addr
+      .replace(/\/(\/)+/, '/')
+      .replace(/(\/)+$/, '')
+
+    if (addr === '') {
+      addr = '/'
+    }
+
+    return stringToComponents(addr)
+  }
+
+  if (Array.isArray(addr)) {
+    return addr
+  }
+
+  throw new InvalidMultiaddrError('Must be a string, Uint8Array, Component[], or another Multiaddr')
+}
+
 /**
  * Creates a {@link Multiaddr} from a {@link MultiaddrInput}
  */
 export class Multiaddr implements MultiaddrInterface {
-  public bytes: Uint8Array
-  readonly #string: string
-  readonly #tuples: Tuple[]
-  readonly #stringTuples: StringTuple[]
-  readonly #path: string | null
-
   [symbol]: boolean = true
+  readonly #components: Component[]
 
-  constructor (addr?: MultiaddrInput) {
-    // default
-    if (addr == null) {
-      addr = ''
-    }
+  #string: string | undefined
+  #bytes: Uint8Array | undefined
 
-    let parts: MultiaddrParts
-    if (addr instanceof Uint8Array) {
-      parts = bytesToMultiaddrParts(addr)
-    } else if (typeof addr === 'string') {
-      if (addr.length > 0 && addr.charAt(0) !== '/') {
-        throw new Error(`multiaddr "${addr}" must start with a "/"`)
-      }
-      parts = stringToMultiaddrParts(addr)
-    } else if (isMultiaddr(addr)) { // Multiaddr
-      parts = bytesToMultiaddrParts(addr.bytes)
-    } else {
-      throw new Error('addr must be a string, Buffer, or another Multiaddr')
+  constructor (addr: MultiaddrInput | Component[] = '/') {
+    this.#components = toComponents(addr)
+  }
+
+  get bytes (): Uint8Array {
+    if (this.#bytes == null) {
+      this.#bytes = componentsToBytes(this.#components)
     }
 
-    this.bytes = parts.bytes
-    this.#string = parts.string
-    this.#tuples = parts.tuples
-    this.#stringTuples = parts.stringTuples
-    this.#path = parts.path
+    return this.#bytes
   }
 
   toString (): string {
+    if (this.#string == null) {
+      this.#string = componentsToString(this.#components)
+    }
+
     return this.#string
   }
 
@@ -80,35 +100,28 @@ export class Multiaddr implements MultiaddrInterface {
     let port: number | undefined
     let zone = ''
 
-    const tcp = getProtocol('tcp')
-    const udp = getProtocol('udp')
-    const ip4 = getProtocol('ip4')
-    const ip6 = getProtocol('ip6')
-    const dns6 = getProtocol('dns6')
-    const ip6zone = getProtocol('ip6zone')
-
-    for (const [code, value] of this.stringTuples()) {
-      if (code === ip6zone.code) {
+    for (const { code, name, value } of this.#components) {
+      if (code === CODE_IP6ZONE) {
         zone = `%${value ?? ''}`
       }
 
       // default to https when protocol & port are omitted from DNS addrs
       if (DNS_CODES.includes(code)) {
-        transport = tcp.name === 'tcp' ? 'tcp' : 'udp'
+        transport = 'tcp'
         port = 443
         host = `${value ?? ''}${zone}`
-        family = code === dns6.code ? 6 : 4
+        family = code === CODE_DNS6 ? 6 : 4
       }
 
-      if (code === tcp.code || code === udp.code) {
-        transport = getProtocol(code).name === 'tcp' ? 'tcp' : 'udp'
+      if (code === CODE_TCP || code === CODE_UDP) {
+        transport = name === 'tcp' ? 'tcp' : 'udp'
         port = parseInt(value ?? '')
       }
 
-      if (code === ip4.code || code === ip6.code) {
-        transport = getProtocol(code).name === 'tcp' ? 'tcp' : 'udp'
+      if (code === CODE_IP4 || code === CODE_IP6) {
+        transport = 'tcp'
         host = `${value ?? ''}${zone}`
-        family = code === ip6.code ? 6 : 4
+        family = code === CODE_IP6 ? 6 : 4
       }
     }
 
@@ -126,30 +139,53 @@ export class Multiaddr implements MultiaddrInterface {
     return opts
   }
 
+  getComponents (): Component[] {
+    return [
+      ...this.#components
+    ]
+  }
+
   protos (): Protocol[] {
-    return this.#tuples.map(([code]) => Object.assign({}, getProtocol(code)))
+    return this.#components.map(({ code, value }) => {
+      const codec = registry.getCodec(code)
+
+      return {
+        code,
+        size: codec.size ?? 0,
+        name: codec.name,
+        resolvable: Boolean(codec.resolvable),
+        path: Boolean(codec.path)
+      }
+    })
   }
 
   protoCodes (): number[] {
-    return this.#tuples.map(([code]) => code)
+    return this.#components.map(({ code }) => code)
   }
 
   protoNames (): string[] {
-    return this.#tuples.map(([code]) => getProtocol(code).name)
+    return this.#components.map(({ name }) => name)
   }
 
-  tuples (): Array<[number, Uint8Array?]> {
-    return this.#tuples.map(([code, value]) => {
+  tuples (): Tuple[] {
+    return this.#components.map(({ code, value }) => {
       if (value == null) {
         return [code]
       }
 
-      return [code, value]
+      const codec = registry.getCodec(code)
+      const output: Tuple = [code]
+
+      if (value != null) {
+        output.push(codec.valueToBytes?.(value) ?? uint8ArrayFromString(value))
+      }
+
+      return output
     })
   }
 
   stringTuples (): Array<[number, string?]> {
-    return this.#stringTuples.map(([code, value]) => {
+    return this.#components.map(({ code, value }) => {
       if (value == null) {
         return [code]
       }
@@ -158,43 +194,52 @@ export class Multiaddr implements MultiaddrInterface {
     })
   }
 
-  encapsulate (addr: MultiaddrInput): Multiaddr {
-    addr = new Multiaddr(addr)
-    return new Multiaddr(this.toString() + addr.toString())
+  encapsulate (addr: MultiaddrInput): MultiaddrInterface {
+    const ma = new Multiaddr(addr)
+
+    return new Multiaddr([
+      ...this.#components,
+      ...ma.getComponents()
+    ])
   }
 
-  decapsulate (addr: Multiaddr | string): Multiaddr {
+  decapsulate (addr: Multiaddr | string): MultiaddrInterface {
     const addrString = addr.toString()
     const s = this.toString()
     const i = s.lastIndexOf(addrString)
+
     if (i < 0) {
-      throw new Error(`Address ${this.toString()} does not contain subaddress: ${addr.toString()}`)
+      throw new InvalidParametersError(`Address ${this.toString()} does not contain subaddress: ${addr.toString()}`)
     }
+
     return new Multiaddr(s.slice(0, i))
   }
 
   decapsulateCode (code: number): Multiaddr {
-    const tuples = this.tuples()
-    for (let i = tuples.length - 1; i >= 0; i--) {
-      if (tuples[i][0] === code) {
-        return new Multiaddr(tuplesToBytes(tuples.slice(0, i)))
+    let index
+
+    for (let i = this.#components.length - 1; i > -1; i--) {
+      if (this.#components[i].code === code) {
+        index = i
+        break
       }
     }
-    return this
+
+    return new Multiaddr(this.#components.slice(0, index))
   }
 
   getPeerId (): string | null {
     try {
       let tuples: Array<[number, string | undefined]> = []
 
-      this.stringTuples().forEach(([code, name]) => {
-        if (code === names.p2p.code) {
-          tuples.push([code, name])
+      this.#components.forEach(({ code, value }) => {
+        if (code === CODE_P2P) {
+          tuples.push([code, value])
         }
 
         // if this is a p2p-circuit address, return the target peer id if present
         // not the peer id of the relay
-        if (code === names['p2p-circuit'].code) {
+        if (code === CODE_P2P_CIRCUIT) {
           tuples = []
         }
       })
@@ -221,7 +266,17 @@ export class Multiaddr implements MultiaddrInterface {
   }
 
   getPath (): string | null {
-    return this.#path
+    for (const component of this.#components) {
+      const codec = registry.getCodec(component.code)
+
+      if (!codec.path) {
+        continue
+      }
+
+      return component.value ?? null
+    }
+
+    return null
   }
 
   equals (addr: { bytes: Uint8Array }): boolean {
@@ -260,19 +315,19 @@ export class Multiaddr implements MultiaddrInterface {
     }
   }
 
-  isThinWaistAddress (addr?: Multiaddr): boolean {
-    const protos = (addr ?? this).protos()
-
-    if (protos.length !== 2) {
+  isThinWaistAddress (): boolean {
+    if (this.#components.length !== 2) {
       return false
     }
 
-    if (protos[0].code !== 4 && protos[0].code !== 41) {
+    if (this.#components[0].code !== CODE_IP4 && this.#components[0].code !== CODE_IP6) {
       return false
     }
-    if (protos[1].code !== 6 && protos[1].code !== 273) {
+
+    if (this.#components[1].code !== CODE_TCP && this.#components[1].code !== CODE_UDP) {
       return false
     }
+
     return true
   }
 
@@ -289,6 +344,23 @@ export class Multiaddr implements MultiaddrInterface {
    * ```
    */
   [inspect] (): string {
-    return `Multiaddr(${this.#string})`
+    return `Multiaddr(${this.toString()})`
   }
 }
+
+/**
+ * Ensures all multiaddr tuples are correct. Throws if any invalid protocols or
+ * values are encountered.
+ */
+export function validate (addr: Multiaddr): void {
+  addr.getComponents()
+    .forEach(component => {
+      const codec = registry.getCodec(component.code)
+
+      if (component.value == null) {
+        return
+      }
+
+      codec.validate?.(component.value)
+    })
+}
diff --git a/node_modules/@multiformats/multiaddr/src/protocols-table.ts b/node_modules/@multiformats/multiaddr/src/protocols-table.ts
index 0d85beb..82105da 100644
--- a/node_modules/@multiformats/multiaddr/src/protocols-table.ts
+++ b/node_modules/@multiformats/multiaddr/src/protocols-table.ts
@@ -78,6 +78,8 @@ export function createProtocol (code: number, size: number, name: string, resolv
  * console.info(protocol(4))
  * // { code: 4, size: 32, name: 'ip4', resolvable: false, path: false }
  * ```
+ *
+ * @deprecated This will be removed in a future version
  */
 export function getProtocol (proto: number | string): Protocol {
   if (typeof proto === 'number') {
diff --git a/node_modules/@multiformats/multiaddr/src/registry.ts b/node_modules/@multiformats/multiaddr/src/registry.ts
new file mode 100644
index 0000000..74f3b9d
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/src/registry.ts
@@ -0,0 +1,292 @@
+import { isIPv4, isIPv6 } from '@chainsafe/is-ip'
+import { CID } from 'multiformats'
+import { base64url } from 'multiformats/bases/base64'
+import { CODE_CERTHASH, CODE_DCCP, CODE_DNS, CODE_DNS4, CODE_DNS6, CODE_DNSADDR, CODE_GARLIC32, CODE_GARLIC64, CODE_HTTP, CODE_HTTP_PATH, CODE_HTTPS, CODE_IP4, CODE_IP6, CODE_IP6ZONE, CODE_IPCIDR, CODE_MEMORY, CODE_NOISE, CODE_ONION, CODE_ONION3, CODE_P2P, CODE_P2P_CIRCUIT, CODE_P2P_STARDUST, CODE_P2P_WEBRTC_DIRECT, CODE_P2P_WEBRTC_STAR, CODE_P2P_WEBSOCKET_STAR, CODE_QUIC, CODE_QUIC_V1, CODE_SCTP, CODE_SNI, CODE_TCP, CODE_TLS, CODE_UDP, CODE_UDT, CODE_UNIX, CODE_UTP, CODE_WEBRTC, CODE_WEBRTC_DIRECT, CODE_WEBTRANSPORT, CODE_WS, CODE_WSS } from './constants.ts'
+import { bytes2mb, bytes2onion, bytes2port, bytesToString, ip4ToBytes, ip4ToString, ip6StringToValue, ip6ToBytes, ip6ToString, mb2bytes, onion2bytes, onion32bytes, port2bytes, stringToBytes } from './convert.ts'
+import { InvalidProtocolError, ValidationError } from './errors.ts'
+import { validatePort } from './validation.ts'
+
+export const V = -1
+
+export interface ProtocolCodec {
+  code: number
+  name: string
+  size?: number
+  path?: boolean
+  resolvable?: boolean
+  aliases?: string[]
+
+  /**
+   * Where the multiaddr has been encoded as a string, decode the value if
+   * necessary, unescaping any escaped values
+   */
+  stringToValue?(value: string): string
+
+  /**
+   * To encode the multiaddr as a string, escape any necessary values
+   */
+  valueToString?(value: string): string
+
+  /**
+   * To encode the multiaddr as bytes, convert the value to bytes
+   */
+  valueToBytes?(value: string): Uint8Array
+
+  /**
+   * To decode bytes to a multiaddr, convert the value bytes to a string
+   */
+  bytesToValue?(bytes: Uint8Array): string
+
+  /**
+   * Perform any necessary validation on the string value
+   */
+  validate?(value: string): void
+}
+
+class Registry {
+  private protocolsByCode = new Map<number, ProtocolCodec>()
+  private protocolsByName = new Map<string, ProtocolCodec>()
+
+  getCodec (key: string | number): ProtocolCodec {
+    let codec: ProtocolCodec | undefined
+
+    if (typeof key === 'string') {
+      codec = this.protocolsByName.get(key)
+    } else {
+      codec = this.protocolsByCode.get(key)
+    }
+
+    if (codec == null) {
+      throw new InvalidProtocolError(`Protocol ${key} was unknown`)
+    }
+
+    return codec
+  }
+
+  addCodec (key: number, codec: ProtocolCodec, aliases?: string[]): void {
+    this.protocolsByCode.set(key, codec)
+    this.protocolsByName.set(codec.name, codec)
+
+    aliases?.forEach(alias => {
+      this.protocolsByName.set(alias, codec)
+    })
+  }
+
+  deleteCodec (key: number): void {
+    const codec = this.getCodec(key)
+
+    if (codec == null) {
+      return
+    }
+
+    this.protocolsByCode.delete(codec.code)
+    this.protocolsByName.delete(codec.name)
+
+    codec.aliases?.forEach(alias => {
+      this.protocolsByName.delete(alias)
+    })
+  }
+}
+
+export const registry = new Registry()
+
+const codecs: ProtocolCodec[] = [{
+  code: CODE_IP4,
+  name: 'ip4',
+  size: 32,
+  valueToBytes: ip4ToBytes,
+  bytesToValue: ip4ToString,
+  validate: (value) => {
+    if (!isIPv4(value)) {
+      throw new ValidationError('Invalid ip address')
+    }
+  }
+}, {
+  code: CODE_TCP,
+  name: 'tcp',
+  size: 16,
+  valueToBytes: port2bytes,
+  bytesToValue: bytes2port,
+  validate: validatePort
+}, {
+  code: CODE_UDP,
+  name: 'udp',
+  size: 16,
+  valueToBytes: port2bytes,
+  bytesToValue: bytes2port,
+  validate: validatePort
+}, {
+  code: CODE_DCCP,
+  name: 'dccp',
+  size: 16,
+  valueToBytes: port2bytes,
+  bytesToValue: bytes2port,
+  validate: validatePort
+}, {
+  code: CODE_IP6,
+  name: 'ip6',
+  size: 128,
+  valueToBytes: ip6ToBytes,
+  bytesToValue: ip6ToString,
+  stringToValue: ip6StringToValue,
+  validate: (value) => {
+    if (!isIPv6(value)) {
+      throw new ValidationError('Invalid ip address')
+    }
+  }
+}, {
+  code: CODE_IP6ZONE,
+  name: 'ip6zone',
+  size: V
+}, {
+  code: CODE_IPCIDR,
+  name: 'ipcidr',
+  size: 8,
+  bytesToValue: bytesToString('base10'),
+  valueToBytes: stringToBytes('base10')
+}, {
+  code: CODE_DNS,
+  name: 'dns',
+  size: V,
+  resolvable: true
+}, {
+  code: CODE_DNS4,
+  name: 'dns4',
+  size: V,
+  resolvable: true
+}, {
+  code: CODE_DNS6,
+  name: 'dns6',
+  size: V,
+  resolvable: true
+}, {
+  code: CODE_DNSADDR,
+  name: 'dnsaddr',
+  size: V,
+  resolvable: true
+}, {
+  code: CODE_SCTP,
+  name: 'sctp',
+  size: 16,
+  valueToBytes: port2bytes,
+  bytesToValue: bytes2port,
+  validate: validatePort
+}, {
+  code: CODE_UDT,
+  name: 'udt'
+}, {
+  code: CODE_UTP,
+  name: 'utp'
+}, {
+  code: CODE_UNIX,
+  name: 'unix',
+  size: V,
+  path: true,
+  stringToValue: (str) => `/${decodeURIComponent(str)}`,
+  valueToString: (val) => encodeURIComponent(val.substring(1))
+}, {
+  code: CODE_P2P,
+  name: 'p2p',
+  aliases: ['ipfs'],
+  size: V,
+  bytesToValue: bytesToString('base58btc'),
+  valueToBytes: (val) => {
+    if (val.startsWith('Q') || val.startsWith('1')) {
+      return stringToBytes('base58btc')(val)
+    }
+
+    return CID.parse(val).multihash.bytes
+  }
+}, {
+  code: CODE_ONION,
+  name: 'onion',
+  size: 96,
+  bytesToValue: bytes2onion,
+  valueToBytes: onion2bytes
+}, {
+  code: CODE_ONION3,
+  name: 'onion3',
+  size: 296,
+  bytesToValue: bytes2onion,
+  valueToBytes: onion32bytes
+}, {
+  code: CODE_GARLIC64,
+  name: 'garlic64',
+  size: V
+}, {
+  code: CODE_GARLIC32,
+  name: 'garlic32',
+  size: V
+}, {
+  code: CODE_TLS,
+  name: 'tls'
+}, {
+  code: CODE_SNI,
+  name: 'sni',
+  size: V
+}, {
+  code: CODE_NOISE,
+  name: 'noise'
+}, {
+  code: CODE_QUIC,
+  name: 'quic'
+}, {
+  code: CODE_QUIC_V1,
+  name: 'quic-v1'
+}, {
+  code: CODE_WEBTRANSPORT,
+  name: 'webtransport'
+}, {
+  code: CODE_CERTHASH,
+  name: 'certhash',
+  size: V,
+  bytesToValue: bytes2mb(base64url),
+  valueToBytes: mb2bytes
+}, {
+  code: CODE_HTTP,
+  name: 'http'
+}, {
+  code: CODE_HTTP_PATH,
+  name: 'http-path',
+  size: V,
+  stringToValue: (str) => `/${decodeURIComponent(str)}`,
+  valueToString: (val) => encodeURIComponent(val.substring(1))
+}, {
+  code: CODE_HTTPS,
+  name: 'https'
+}, {
+  code: CODE_WS,
+  name: 'ws'
+}, {
+  code: CODE_WSS,
+  name: 'wss'
+}, {
+  code: CODE_P2P_WEBSOCKET_STAR,
+  name: 'p2p-websocket-star'
+}, {
+  code: CODE_P2P_STARDUST,
+  name: 'p2p-stardust'
+}, {
+  code: CODE_P2P_WEBRTC_STAR,
+  name: 'p2p-webrtc-star'
+}, {
+  code: CODE_P2P_WEBRTC_DIRECT,
+  name: 'p2p-webrtc-direct'
+}, {
+  code: CODE_WEBRTC_DIRECT,
+  name: 'webrtc-direct'
+}, {
+  code: CODE_WEBRTC,
+  name: 'webrtc'
+}, {
+  code: CODE_P2P_CIRCUIT,
+  name: 'p2p-circuit'
+}, {
+  code: CODE_MEMORY,
+  name: 'memory',
+  size: V
+}]
+
+codecs.forEach(codec => {
+  registry.addCodec(codec.code, codec, codec.aliases)
+})
diff --git a/node_modules/@multiformats/multiaddr/src/validation.ts b/node_modules/@multiformats/multiaddr/src/validation.ts
new file mode 100644
index 0000000..74f6589
--- /dev/null
+++ b/node_modules/@multiformats/multiaddr/src/validation.ts
@@ -0,0 +1,37 @@
+import { ValidationError } from './errors.ts'
+
+export function integer (value: string): void {
+  const int = parseInt(value)
+
+  if (int.toString() !== value) {
+    throw new ValidationError('Value must be an integer')
+  }
+}
+
+export function positive (value: any): void {
+  if (value < 0) {
+    throw new ValidationError('Value must be a positive integer')
+  }
+}
+
+export function maxValue (max: number): (value: any) => void {
+  return (value) => {
+    if (value > max) {
+      throw new ValidationError(`Value must be smaller than ${max}`)
+    }
+  }
+}
+
+export function validate (...funcs: Array<(value: string) => void>): (value: string) => void {
+  return (value) => {
+    for (const fn of funcs) {
+      fn(value)
+    }
+  }
+}
+
+export const validatePort = validate(
+  integer,
+  positive,
+  maxValue(65_535)
+)
